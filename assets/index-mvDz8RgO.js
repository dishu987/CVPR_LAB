function NP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dj={exports:{}},dh={},uj={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),SP=Symbol.for("react.portal"),TP=Symbol.for("react.fragment"),IP=Symbol.for("react.strict_mode"),CP=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),AP=Symbol.for("react.context"),kP=Symbol.for("react.forward_ref"),RP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),OP=Symbol.for("react.lazy"),Wx=Symbol.iterator;function LP(t){return t===null||typeof t!="object"?null:(t=Wx&&t[Wx]||t["@@iterator"],typeof t=="function"?t:null)}var hj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fj=Object.assign,pj={};function xo(t,e,n){this.props=t,this.context=e,this.refs=pj,this.updater=n||hj}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mj(){}mj.prototype=xo.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=pj,this.updater=n||hj}var Yg=Kg.prototype=new mj;Yg.constructor=Kg;fj(Yg,xo.prototype);Yg.isPureReactComponent=!0;var qx=Array.isArray,gj=Object.prototype.hasOwnProperty,Qg={current:null},vj={key:!0,ref:!0,__self:!0,__source:!0};function yj(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gj.call(e,r)&&!vj.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:yc,type:t,key:i,ref:o,props:s,_owner:Qg.current}}function MP(t,e){return{$$typeof:yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc}function VP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gx=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VP(""+t.key):e.toString(36)}function Pd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yc:case SP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jf(o,0):r,qx(s)?(n="",t!=null&&(n=t.replace(Gx,"$&/")+"/"),Pd(s,e,n,"",function(d){return d})):s!=null&&(Xg(s)&&(s=MP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+jf(i,l);o+=Pd(i,e,n,c,s)}else if(c=LP(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+jf(i,l++),o+=Pd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(t,e,n){if(t==null)return t;var r=[],s=0;return Pd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function FP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Ad={transition:null},UP={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:Qg};je.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!Xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=xo;je.Fragment=TP;je.Profiler=CP;je.PureComponent=Kg;je.StrictMode=IP;je.Suspense=RP;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fj({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gj.call(e,c)&&!vj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:yc,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:AP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PP,_context:t},t.Consumer=t};je.createElement=yj;je.createFactory=function(t){var e=yj.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:kP,render:t}};je.isValidElement=Xg;je.lazy=function(t){return{$$typeof:OP,_payload:{_status:-1,_result:t},_init:FP}};je.memo=function(t,e){return{$$typeof:DP,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return dn.current.useCallback(t,e)};je.useContext=function(t){return dn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};je.useEffect=function(t,e){return dn.current.useEffect(t,e)};je.useId=function(){return dn.current.useId()};je.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return dn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};je.useRef=function(t){return dn.current.useRef(t)};je.useState=function(t){return dn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return dn.current.useTransition()};je.version="18.2.0";uj.exports=je;var T=uj.exports;const De=yo(T),Wp=NP({__proto__:null,default:De},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P=T,BP=Symbol.for("react.element"),zP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,WP=$P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function xj(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HP.call(e,r)&&!qP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:BP,type:t,key:i,ref:o,props:s,_owner:WP.current}}dh.Fragment=zP;dh.jsx=xj;dh.jsxs=xj;dj.exports=dh;var a=dj.exports,qp={},bj={exports:{}},Mn={},wj={exports:{}},_j={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var $=O.length;O.push(L);e:for(;0<$;){var H=$-1>>>1,R=O[H];if(0<s(R,L))O[H]=L,O[$]=R,$=H;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],$=O.pop();if($!==L){O[0]=$;e:for(var H=0,R=O.length,F=R>>>1;H<F;){var K=2*(H+1)-1,ne=O[K],le=K+1,fe=O[le];if(0>s(ne,$))le<R&&0>s(fe,ne)?(O[H]=fe,O[le]=$,H=le):(O[H]=ne,O[K]=$,H=K);else if(le<R&&0>s(fe,$))O[H]=fe,O[le]=$,H=le;else break e}}return L}function s(O,L){var $=O.sortIndex-L.sortIndex;return $!==0?$:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=O)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function j(O){if(y=!1,v(O),!g)if(n(c)!==null)g=!0,D(S);else{var L=n(d);L!==null&&M(j,L.startTime-O)}}function S(O,L){g=!1,y&&(y=!1,m(w),w=-1),p=!0;var $=f;try{for(v(L),h=n(c);h!==null&&(!(h.expirationTime>L)||O&&!P());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var R=H(h.expirationTime<=L);L=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(c)&&r(c),v(L)}else r(c);h=n(c)}if(h!==null)var F=!0;else{var K=n(d);K!==null&&M(j,K.startTime-L),F=!1}return F}finally{h=null,f=$,p=!1}}var E=!1,I=null,w=-1,_=5,N=-1;function P(){return!(t.unstable_now()-N<_)}function C(){if(I!==null){var O=t.unstable_now();N=O;var L=!0;try{L=I(!0,O)}finally{L?k():(E=!1,I=null)}}else E=!1}var k;if(typeof x=="function")k=function(){x(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,U=A.port2;A.port1.onmessage=C,k=function(){U.postMessage(null)}}else k=function(){b(C,0)};function D(O){I=O,E||(E=!0,k())}function M(O,L){w=b(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return O()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=f;f=O;try{return L()}finally{f=$}},t.unstable_scheduleCallback=function(O,L,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,O={id:u++,callback:L,priorityLevel:O,startTime:$,expirationTime:R,sortIndex:-1},$>H?(O.sortIndex=$,e(d,O),n(c)===null&&O===n(d)&&(y?(m(w),w=-1):y=!0,M(j,$-H))):(O.sortIndex=R,e(c,O),g||p||(g=!0,D(S))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var L=f;return function(){var $=f;f=L;try{return O.apply(this,arguments)}finally{f=$}}}})(_j);wj.exports=_j;var GP=wj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj=T,Dn=GP;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ej=new Set,Al={};function Ji(t,e){Ja(t,e),Ja(t+"Capture",e)}function Ja(t,e){for(Al[t]=e,t=0;t<e.length;t++)Ej.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,KP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kx={},Yx={};function YP(t){return Gp.call(Yx,t)?!0:Gp.call(Kx,t)?!1:KP.test(t)?Yx[t]=!0:(Kx[t]=!0,!1)}function QP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XP(t,e,n,r){if(e===null||typeof e>"u"||QP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function Zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);$t[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);$t[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,Zg);$t[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function ev(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XP(e,n,s,r)&&(n=null),r||s===null?YP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=jj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),ba=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Nj=Symbol.for("react.provider"),Sj=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),Tj=Symbol.for("react.offscreen"),Qx=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=Qx&&t[Qx]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Ef;function Jo(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var Nf=!1;function Sf(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function JP(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=Sf(t.type,!1),t;case 11:return t=Sf(t.type.render,!1),t;case 1:return t=Sf(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case ba:return"Portal";case Kp:return"Profiler";case tv:return"StrictMode";case Yp:return"Suspense";case Qp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sj:return(t.displayName||"Context")+".Consumer";case Nj:return(t._context.displayName||"Context")+".Provider";case nv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rv:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function ZP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ij(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eA(t){var e=Ij(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jc(t){t._valueTracker||(t._valueTracker=eA(t))}function Cj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ij(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jp(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pj(t,e){e=e.checked,e!=null&&ev(t,"checked",e,!1)}function Zp(t,e){Pj(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zo=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Zo(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function Aj(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,Rj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tA=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(t){tA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dl[e]=dl[t]})});function Dj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dl.hasOwnProperty(t)&&dl[t]?(""+e).trim():e+"px"}function Oj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(nA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var am=null,La=null,Ma=null;function tb(t){if(t=wc(t)){if(typeof am!="function")throw Error(q(280));var e=t.stateNode;e&&(e=mh(e),am(t.stateNode,t.type,e))}}function Lj(t){La?Ma?Ma.push(t):Ma=[t]:La=t}function Mj(){if(La){var t=La,e=Ma;if(Ma=La=null,tb(t),e)for(t=0;t<e.length;t++)tb(e[t])}}function Vj(t,e){return t(e)}function Fj(){}var Tf=!1;function Uj(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return Vj(t,e,n)}finally{Tf=!1,(La!==null||Ma!==null)&&(Fj(),Mj())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var om=!1;if(is)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){om=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{om=!1}function rA(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var ul=!1,ru=null,su=!1,lm=null,sA={onError:function(t){ul=!0,ru=t}};function iA(t,e,n,r,s,i,o,l,c){ul=!1,ru=null,rA.apply(sA,arguments)}function aA(t,e,n,r,s,i,o,l,c){if(iA.apply(this,arguments),ul){if(ul){var d=ru;ul=!1,ru=null}else throw Error(q(198));su||(su=!0,lm=d)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $j(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nb(t){if(Zi(t)!==t)throw Error(q(188))}function oA(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nb(s),t;if(i===r)return nb(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Bj(t){return t=oA(t),t!==null?zj(t):null}function zj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zj(t);if(e!==null)return e;t=t.sibling}return null}var Hj=Dn.unstable_scheduleCallback,rb=Dn.unstable_cancelCallback,lA=Dn.unstable_shouldYield,cA=Dn.unstable_requestPaint,ht=Dn.unstable_now,dA=Dn.unstable_getCurrentPriorityLevel,iv=Dn.unstable_ImmediatePriority,Wj=Dn.unstable_UserBlockingPriority,iu=Dn.unstable_NormalPriority,uA=Dn.unstable_LowPriority,qj=Dn.unstable_IdlePriority,uh=null,Ir=null;function hA(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:mA,fA=Math.log,pA=Math.LN2;function mA(t){return t>>>=0,t===0?32:31-(fA(t)/pA|0)|0}var ed=64,td=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=el(l):(i&=o,i!==0&&(r=el(i)))}else o=n&~s,o!==0?r=el(o):i!==0&&(r=el(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function gA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=gA(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gj(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function yA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function Kj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yj,ov,Qj,Xj,Jj,dm=!1,nd=[],Ls=null,Ms=null,Vs=null,Dl=new Map,Ol=new Map,_s=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sb(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(e.pointerId)}}function Oo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=wc(e),e!==null&&ov(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bA(t,e,n,r,s){switch(e){case"focusin":return Ls=Oo(Ls,t,e,n,r,s),!0;case"dragenter":return Ms=Oo(Ms,t,e,n,r,s),!0;case"mouseover":return Vs=Oo(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dl.set(i,Oo(Dl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ol.set(i,Oo(Ol.get(i)||null,t,e,n,r,s)),!0}return!1}function Zj(t){var e=xi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=$j(n),e!==null){t.blockedOn=e,Jj(t.priority,function(){Qj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return e=wc(n),e!==null&&ov(e),t.blockedOn=n,!1;e.shift()}return!0}function ib(t,e,n){kd(t)&&n.delete(e)}function wA(){dm=!1,Ls!==null&&kd(Ls)&&(Ls=null),Ms!==null&&kd(Ms)&&(Ms=null),Vs!==null&&kd(Vs)&&(Vs=null),Dl.forEach(ib),Ol.forEach(ib)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,dm||(dm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,wA)))}function Ll(t){function e(s){return Lo(s,t)}if(0<nd.length){Lo(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&Lo(Ls,t),Ms!==null&&Lo(Ms,t),Vs!==null&&Lo(Vs,t),Dl.forEach(e),Ol.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)Zj(n),n.blockedOn===null&&_s.shift()}var Va=ps.ReactCurrentBatchConfig,ou=!0;function _A(t,e,n,r){var s=Ve,i=Va.transition;Va.transition=null;try{Ve=1,lv(t,e,n,r)}finally{Ve=s,Va.transition=i}}function jA(t,e,n,r){var s=Ve,i=Va.transition;Va.transition=null;try{Ve=4,lv(t,e,n,r)}finally{Ve=s,Va.transition=i}}function lv(t,e,n,r){if(ou){var s=um(t,e,n,r);if(s===null)Vf(t,e,r,lu,n),sb(t,r);else if(bA(s,t,e,n,r))r.stopPropagation();else if(sb(t,r),e&4&&-1<xA.indexOf(t)){for(;s!==null;){var i=wc(s);if(i!==null&&Yj(i),i=um(t,e,n,r),i===null&&Vf(t,e,r,lu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vf(t,e,r,null,n)}}var lu=null;function um(t,e,n,r){if(lu=null,t=sv(r),t=xi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$j(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lu=t,null}function eE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dA()){case iv:return 1;case Wj:return 4;case iu:case uA:return 16;case qj:return 536870912;default:return 16}default:return 16}}var Cs=null,cv=null,Rd=null;function tE(){if(Rd)return Rd;var t,e=cv,n=e.length,r,s="value"in Cs?Cs.value:Cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Rd=s.slice(t,1<r?1-r:void 0)}function Dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function ab(){return!1}function Vn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rd:ab,this.isPropagationStopped=ab,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=Vn(bo),bc=ot({},bo,{view:0,detail:0}),EA=Vn(bc),Cf,Pf,Mo,hh=ot({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(Cf=t.screenX-Mo.screenX,Pf=t.screenY-Mo.screenY):Pf=Cf=0,Mo=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Pf}}),ob=Vn(hh),NA=ot({},hh,{dataTransfer:0}),SA=Vn(NA),TA=ot({},bc,{relatedTarget:0}),Af=Vn(TA),IA=ot({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),CA=Vn(IA),PA=ot({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AA=Vn(PA),kA=ot({},bo,{data:0}),lb=Vn(kA),RA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OA[t])?!!e[t]:!1}function uv(){return LA}var MA=ot({},bc,{key:function(t){if(t.key){var e=RA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(t){return t.type==="keypress"?Dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VA=Vn(MA),FA=ot({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Vn(FA),UA=ot({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),$A=Vn(UA),BA=ot({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zA=Vn(BA),HA=ot({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=Vn(HA),qA=[9,13,27,32],hv=is&&"CompositionEvent"in window,hl=null;is&&"documentMode"in document&&(hl=document.documentMode);var GA=is&&"TextEvent"in window&&!hl,nE=is&&(!hv||hl&&8<hl&&11>=hl),db=" ",ub=!1;function rE(t,e){switch(t){case"keyup":return qA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function KA(t,e){switch(t){case"compositionend":return sE(e);case"keypress":return e.which!==32?null:(ub=!0,db);case"textInput":return t=e.data,t===db&&ub?null:t;default:return null}}function YA(t,e){if(_a)return t==="compositionend"||!hv&&rE(t,e)?(t=tE(),Rd=cv=Cs=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nE&&e.locale!=="ko"?null:e.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QA[t.type]:e==="textarea"}function iE(t,e,n,r){Lj(r),e=cu(e,"onChange"),0<e.length&&(n=new dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fl=null,Ml=null;function XA(t){gE(t,0)}function fh(t){var e=Na(t);if(Cj(e))return t}function JA(t,e){if(t==="change")return e}var aE=!1;if(is){var kf;if(is){var Rf="oninput"in document;if(!Rf){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),Rf=typeof fb.oninput=="function"}kf=Rf}else kf=!1;aE=kf&&(!document.documentMode||9<document.documentMode)}function pb(){fl&&(fl.detachEvent("onpropertychange",oE),Ml=fl=null)}function oE(t){if(t.propertyName==="value"&&fh(Ml)){var e=[];iE(e,Ml,t,sv(t)),Uj(XA,e)}}function ZA(t,e,n){t==="focusin"?(pb(),fl=e,Ml=n,fl.attachEvent("onpropertychange",oE)):t==="focusout"&&pb()}function ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(Ml)}function tk(t,e){if(t==="click")return fh(e)}function nk(t,e){if(t==="input"||t==="change")return fh(e)}function rk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:rk;function Vl(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gp.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function mb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gb(t,e){var n=mb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mb(n)}}function lE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cE(){for(var t=window,e=nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nu(t.document)}return e}function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sk(t){var e=cE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lE(n.ownerDocument.documentElement,n)){if(r!==null&&fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gb(n,i);var o=gb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ik=is&&"documentMode"in document&&11>=document.documentMode,ja=null,hm=null,pl=null,fm=!1;function vb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||ja==null||ja!==nu(r)||(r=ja,"selectionStart"in r&&fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&Vl(pl,r)||(pl=r,r=cu(hm,"onSelect"),0<r.length&&(e=new dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ja)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Df={},dE={};is&&(dE=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ph(t){if(Df[t])return Df[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dE)return Df[t]=e[n];return t}var uE=ph("animationend"),hE=ph("animationiteration"),fE=ph("animationstart"),pE=ph("transitionend"),mE=new Map,yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){mE.set(t,e),Ji(e,[t])}for(var Of=0;Of<yb.length;Of++){var Lf=yb[Of],ak=Lf.toLowerCase(),ok=Lf[0].toUpperCase()+Lf.slice(1);ri(ak,"on"+ok)}ri(uE,"onAnimationEnd");ri(hE,"onAnimationIteration");ri(fE,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(pE,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function xb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function gE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xb(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xb(s,l,d),i=c}}}if(su)throw t=lm,su=!1,lm=null,t}function qe(t,e){var n=e[ym];n===void 0&&(n=e[ym]=new Set);var r=t+"__bubble";n.has(r)||(vE(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),vE(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[id]){t[id]=!0,Ej.forEach(function(n){n!=="selectionchange"&&(lk.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,Mf("selectionchange",!1,e))}}function vE(t,e,n,r){switch(eE(e)){case 1:var s=_A;break;case 4:s=jA;break;default:s=lv}n=s.bind(null,e,n,t),s=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Uj(function(){var d=i,u=sv(n),h=[];e:{var f=mE.get(t);if(f!==void 0){var p=dv,g=t;switch(t){case"keypress":if(Dd(n)===0)break e;case"keydown":case"keyup":p=VA;break;case"focusin":g="focus",p=Af;break;case"focusout":g="blur",p=Af;break;case"beforeblur":case"afterblur":p=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$A;break;case uE:case hE:case fE:p=CA;break;case pE:p=zA;break;case"scroll":p=EA;break;case"wheel":p=WA;break;case"copy":case"cut":case"paste":p=AA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cb}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var x=d,v;x!==null;){v=x;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,m!==null&&(j=Rl(x,m),j!=null&&y.push(Ul(x,j,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==im&&(g=n.relatedTarget||n.fromElement)&&(xi(g)||g[as]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?xi(g):null,g!==null&&(b=Zi(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(y=ob,j="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=cb,j="onPointerLeave",m="onPointerEnter",x="pointer"),b=p==null?f:Na(p),v=g==null?f:Na(g),f=new y(j,x+"leave",p,n,u),f.target=b,f.relatedTarget=v,j=null,xi(u)===d&&(y=new y(m,x+"enter",g,n,u),y.target=v,y.relatedTarget=b,j=y),b=j,p&&g)t:{for(y=p,m=g,x=0,v=y;v;v=ha(v))x++;for(v=0,j=m;j;j=ha(j))v++;for(;0<x-v;)y=ha(y),x--;for(;0<v-x;)m=ha(m),v--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=ha(y),m=ha(m)}y=null}else y=null;p!==null&&bb(h,f,p,y,!1),g!==null&&b!==null&&bb(h,b,g,y,!0)}}e:{if(f=d?Na(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=JA;else if(hb(f))if(aE)S=nk;else{S=ek;var E=ZA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=tk);if(S&&(S=S(t,d))){iE(h,S,n,u);break e}E&&E(t,f,d),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&em(f,"number",f.value)}switch(E=d?Na(d):window,t){case"focusin":(hb(E)||E.contentEditable==="true")&&(ja=E,hm=d,pl=null);break;case"focusout":pl=hm=ja=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,vb(h,n,u);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":vb(h,n,u)}var I;if(hv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else _a?rE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(nE&&n.locale!=="ko"&&(_a||w!=="onCompositionStart"?w==="onCompositionEnd"&&_a&&(I=tE()):(Cs=u,cv="value"in Cs?Cs.value:Cs.textContent,_a=!0)),E=cu(d,w),0<E.length&&(w=new lb(w,t,null,n,u),h.push({event:w,listeners:E}),I?w.data=I:(I=sE(n),I!==null&&(w.data=I)))),(I=GA?KA(t,n):YA(t,n))&&(d=cu(d,"onBeforeInput"),0<d.length&&(u=new lb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=I))}gE(h,e)})}function Ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rl(t,n),i!=null&&r.unshift(Ul(t,i,s)),i=Rl(t,e),i!=null&&r.push(Ul(t,i,s))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Rl(n,i),c!=null&&o.unshift(Ul(n,c,l))):s||(c=Rl(n,i),c!=null&&o.push(Ul(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ck=/\r\n?/g,dk=/\u0000|\uFFFD/g;function wb(t){return(typeof t=="string"?t:""+t).replace(ck,`
`).replace(dk,"")}function ad(t,e,n){if(e=wb(e),wb(t)!==e&&n)throw Error(q(425))}function du(){}var pm=null,mm=null;function gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(t){return _b.resolve(null).then(t).catch(fk)}:vm;function fk(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ll(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),wr="__reactFiber$"+wo,$l="__reactProps$"+wo,as="__reactContainer$"+wo,ym="__reactEvents$"+wo,pk="__reactListeners$"+wo,mk="__reactHandles$"+wo;function xi(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jb(t);t!==null;){if(n=t[wr])return n;t=jb(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[wr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function mh(t){return t[$l]||null}var xm=[],Sa=-1;function si(t){return{current:t}}function Ye(t){0>Sa||(t.current=xm[Sa],xm[Sa]=null,Sa--)}function ze(t,e){Sa++,xm[Sa]=t.current,t.current=e}var Xs={},tn=si(Xs),bn=si(!1),Di=Xs;function Za(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function uu(){Ye(bn),Ye(tn)}function Eb(t,e,n){if(tn.current!==Xs)throw Error(q(168));ze(tn,e),ze(bn,n)}function yE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,ZP(t)||"Unknown",s));return ot({},n,r)}function hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Di=tn.current,ze(tn,t),ze(bn,bn.current),!0}function Nb(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=yE(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,Ye(bn),Ye(tn),ze(tn,t)):Ye(bn),ze(bn,n)}var Kr=null,gh=!1,Uf=!1;function xE(t){Kr===null?Kr=[t]:Kr.push(t)}function gk(t){gh=!0,xE(t)}function ii(){if(!Uf&&Kr!==null){Uf=!0;var t=0,e=Ve;try{var n=Kr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,gh=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),Hj(iv,ii),s}finally{Ve=e,Uf=!1}}return null}var Ta=[],Ia=0,fu=null,pu=0,zn=[],Hn=0,Oi=null,Xr=1,Jr="";function fi(t,e){Ta[Ia++]=pu,Ta[Ia++]=fu,fu=t,pu=e}function bE(t,e,n){zn[Hn++]=Xr,zn[Hn++]=Jr,zn[Hn++]=Oi,Oi=t;var r=Xr;t=Jr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-ur(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function pv(t){t.return!==null&&(fi(t,1),bE(t,1,0))}function mv(t){for(;t===fu;)fu=Ta[--Ia],Ta[Ia]=null,pu=Ta[--Ia],Ta[Ia]=null;for(;t===Oi;)Oi=zn[--Hn],zn[Hn]=null,Jr=zn[--Hn],zn[Hn]=null,Xr=zn[--Hn],zn[Hn]=null}var kn=null,In=null,rt=!1,or=null;function wE(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,In=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,In=null,!0):!1;default:return!1}}function bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wm(t){if(rt){var e=In;if(e){var n=e;if(!Sb(t,e)){if(bm(t))throw Error(q(418));e=Fs(n.nextSibling);var r=kn;e&&Sb(t,e)?wE(r,n):(t.flags=t.flags&-4097|2,rt=!1,kn=t)}}else{if(bm(t))throw Error(q(418));t.flags=t.flags&-4097|2,rt=!1,kn=t}}}function Tb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function od(t){if(t!==kn)return!1;if(!rt)return Tb(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gm(t.type,t.memoizedProps)),e&&(e=In)){if(bm(t))throw _E(),Error(q(418));for(;e;)wE(t,e),e=Fs(e.nextSibling)}if(Tb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=kn?Fs(t.stateNode.nextSibling):null;return!0}function _E(){for(var t=In;t;)t=Fs(t.nextSibling)}function eo(){In=kn=null,rt=!1}function gv(t){or===null?or=[t]:or.push(t)}var vk=ps.ReactCurrentBatchConfig;function ir(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mu=si(null),gu=null,Ca=null,vv=null;function yv(){vv=Ca=gu=null}function xv(t){var e=mu.current;Ye(mu),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){gu=t,vv=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(vv!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(gu===null)throw Error(q(308));Ca=t,gu.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var bi=null;function bv(t){bi===null?bi=[t]:bi.push(t)}function jE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bv(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,bv(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,av(t,n)}}function Ib(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vu(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=ot({},h,f);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=h}}function Cb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var NE=new jj.Component().refs;function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Bs(t),i=ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Od(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Bs(t),i=ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Od(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Bs(t),s=ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(hr(e,t,r,n),Od(e,t,r))}};function Pb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vl(n,r)||!Vl(s,i):!0}function SE(t,e,n){var r=!1,s=Xs,i=e.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(s=wn(e)?Di:tn.current,r=e.contextTypes,i=(r=r!=null)?Za(t,s):Xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ab(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vh.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=NE,wv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yn(i):(i=wn(e)?Di:tn.current,s.context=Za(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vh.enqueueReplaceState(s,s.state,null),vu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===NE&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kb(t){var e=t._init;return e(t._payload)}function TE(t){function e(m,x){if(t){var v=m.deletions;v===null?(m.deletions=[x],m.flags|=16):v.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=zs(m,x),m.index=0,m.sibling=null,m}function i(m,x,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<x?(m.flags|=2,x):v):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,x,v,j){return x===null||x.tag!==6?(x=Gf(v,m.mode,j),x.return=m,x):(x=s(x,v),x.return=m,x)}function c(m,x,v,j){var S=v.type;return S===wa?u(m,x,v.props.children,j,v.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bs&&kb(S)===x.type)?(j=s(x,v.props),j.ref=Vo(m,x,v),j.return=m,j):(j=$d(v.type,v.key,v.props,null,m.mode,j),j.ref=Vo(m,x,v),j.return=m,j)}function d(m,x,v,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Kf(v,m.mode,j),x.return=m,x):(x=s(x,v.children||[]),x.return=m,x)}function u(m,x,v,j,S){return x===null||x.tag!==7?(x=Ci(v,m.mode,j,S),x.return=m,x):(x=s(x,v),x.return=m,x)}function h(m,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Gf(""+x,m.mode,v),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xc:return v=$d(x.type,x.key,x.props,null,m.mode,v),v.ref=Vo(m,null,x),v.return=m,v;case ba:return x=Kf(x,m.mode,v),x.return=m,x;case bs:var j=x._init;return h(m,j(x._payload),v)}if(Zo(x)||Ro(x))return x=Ci(x,m.mode,v,null),x.return=m,x;ld(m,x)}return null}function f(m,x,v,j){var S=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,x,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:return v.key===S?c(m,x,v,j):null;case ba:return v.key===S?d(m,x,v,j):null;case bs:return S=v._init,f(m,x,S(v._payload),j)}if(Zo(v)||Ro(v))return S!==null?null:u(m,x,v,j,null);ld(m,v)}return null}function p(m,x,v,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(v)||null,l(x,m,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xc:return m=m.get(j.key===null?v:j.key)||null,c(x,m,j,S);case ba:return m=m.get(j.key===null?v:j.key)||null,d(x,m,j,S);case bs:var E=j._init;return p(m,x,v,E(j._payload),S)}if(Zo(j)||Ro(j))return m=m.get(v)||null,u(x,m,j,S,null);ld(x,j)}return null}function g(m,x,v,j){for(var S=null,E=null,I=x,w=x=0,_=null;I!==null&&w<v.length;w++){I.index>w?(_=I,I=null):_=I.sibling;var N=f(m,I,v[w],j);if(N===null){I===null&&(I=_);break}t&&I&&N.alternate===null&&e(m,I),x=i(N,x,w),E===null?S=N:E.sibling=N,E=N,I=_}if(w===v.length)return n(m,I),rt&&fi(m,w),S;if(I===null){for(;w<v.length;w++)I=h(m,v[w],j),I!==null&&(x=i(I,x,w),E===null?S=I:E.sibling=I,E=I);return rt&&fi(m,w),S}for(I=r(m,I);w<v.length;w++)_=p(I,m,w,v[w],j),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?w:_.key),x=i(_,x,w),E===null?S=_:E.sibling=_,E=_);return t&&I.forEach(function(P){return e(m,P)}),rt&&fi(m,w),S}function y(m,x,v,j){var S=Ro(v);if(typeof S!="function")throw Error(q(150));if(v=S.call(v),v==null)throw Error(q(151));for(var E=S=null,I=x,w=x=0,_=null,N=v.next();I!==null&&!N.done;w++,N=v.next()){I.index>w?(_=I,I=null):_=I.sibling;var P=f(m,I,N.value,j);if(P===null){I===null&&(I=_);break}t&&I&&P.alternate===null&&e(m,I),x=i(P,x,w),E===null?S=P:E.sibling=P,E=P,I=_}if(N.done)return n(m,I),rt&&fi(m,w),S;if(I===null){for(;!N.done;w++,N=v.next())N=h(m,N.value,j),N!==null&&(x=i(N,x,w),E===null?S=N:E.sibling=N,E=N);return rt&&fi(m,w),S}for(I=r(m,I);!N.done;w++,N=v.next())N=p(I,m,w,N.value,j),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?w:N.key),x=i(N,x,w),E===null?S=N:E.sibling=N,E=N);return t&&I.forEach(function(C){return e(m,C)}),rt&&fi(m,w),S}function b(m,x,v,j){if(typeof v=="object"&&v!==null&&v.type===wa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:e:{for(var S=v.key,E=x;E!==null;){if(E.key===S){if(S=v.type,S===wa){if(E.tag===7){n(m,E.sibling),x=s(E,v.props.children),x.return=m,m=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bs&&kb(S)===E.type){n(m,E.sibling),x=s(E,v.props),x.ref=Vo(m,E,v),x.return=m,m=x;break e}n(m,E);break}else e(m,E);E=E.sibling}v.type===wa?(x=Ci(v.props.children,m.mode,j,v.key),x.return=m,m=x):(j=$d(v.type,v.key,v.props,null,m.mode,j),j.ref=Vo(m,x,v),j.return=m,m=j)}return o(m);case ba:e:{for(E=v.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(m,x.sibling),x=s(x,v.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=Kf(v,m.mode,j),x.return=m,m=x}return o(m);case bs:return E=v._init,b(m,x,E(v._payload),j)}if(Zo(v))return g(m,x,v,j);if(Ro(v))return y(m,x,v,j);ld(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,v),x.return=m,m=x):(n(m,x),x=Gf(v,m.mode,j),x.return=m,m=x),o(m)):n(m,x)}return b}var to=TE(!0),IE=TE(!1),_c={},Cr=si(_c),Bl=si(_c),zl=si(_c);function wi(t){if(t===_c)throw Error(q(174));return t}function _v(t,e){switch(ze(zl,e),ze(Bl,t),ze(Cr,_c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}Ye(Cr),ze(Cr,e)}function no(){Ye(Cr),Ye(Bl),Ye(zl)}function CE(t){wi(zl.current);var e=wi(Cr.current),n=nm(e,t.type);e!==n&&(ze(Bl,t),ze(Cr,n))}function jv(t){Bl.current===t&&(Ye(Cr),Ye(Bl))}var st=si(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function Ev(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Ld=ps.ReactCurrentDispatcher,Bf=ps.ReactCurrentBatchConfig,Li=0,at=null,wt=null,Ct=null,xu=!1,ml=!1,Hl=0,yk=0;function Ht(){throw Error(q(321))}function Nv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Sv(t,e,n,r,s,i){if(Li=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?_k:jk,t=n(r,s),ml){i=0;do{if(ml=!1,Hl=0,25<=i)throw Error(q(301));i+=1,Ct=wt=null,e.updateQueue=null,Ld.current=Ek,t=n(r,s)}while(ml)}if(Ld.current=bu,e=wt!==null&&wt.next!==null,Li=0,Ct=wt=at=null,xu=!1,e)throw Error(q(300));return t}function Tv(){var t=Hl!==0;return Hl=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?at.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Qn(){if(wt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Ct===null?at.memoizedState:Ct.next;if(e!==null)Ct=e,wt=t;else{if(t===null)throw Error(q(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?at.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Wl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Li&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,at.lanes|=u,Mi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,fr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function PE(){}function AE(t,e){var n=at,r=Qn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,xn=!0),r=r.queue,Iv(DE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,ql(9,RE.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(q(349));Li&30||kE(n,e,s)}return s}function kE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RE(t,e,n,r){e.value=n,e.getSnapshot=r,OE(e)&&LE(t)}function DE(t,e,n){return n(function(){OE(e)&&LE(t)})}function OE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function LE(t){var e=os(t,1);e!==null&&hr(e,t,1,-1)}function Rb(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=wk.bind(null,at,t),[e.memoizedState,t]}function ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ME(){return Qn().memoizedState}function Md(t,e,n,r){var s=br();at.flags|=t,s.memoizedState=ql(1|e,n,void 0,r===void 0?null:r)}function yh(t,e,n,r){var s=Qn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Nv(r,o.deps)){s.memoizedState=ql(e,n,i,r);return}}at.flags|=t,s.memoizedState=ql(1|e,n,i,r)}function Db(t,e){return Md(8390656,8,t,e)}function Iv(t,e){return yh(2048,8,t,e)}function VE(t,e){return yh(4,2,t,e)}function FE(t,e){return yh(4,4,t,e)}function UE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,n){return n=n!=null?n.concat([t]):null,yh(4,4,UE.bind(null,e,t),n)}function Cv(){}function BE(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zE(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HE(t,e,n){return Li&21?(fr(n,e)||(n=Gj(),at.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function xk(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Ve=n,Bf.transition=r}}function WE(){return Qn().memoizedState}function bk(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qE(t))GE(e,n);else if(n=jE(t,e,n,r),n!==null){var s=ln();hr(n,t,r,s),KE(n,e,r)}}function wk(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qE(t))GE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,fr(l,o)){var c=e.interleaved;c===null?(s.next=s,bv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=jE(t,e,s,r),n!==null&&(s=ln(),hr(n,t,r,s),KE(n,e,r))}}function qE(t){var e=t.alternate;return t===at||e!==null&&e===at}function GE(t,e){ml=xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,av(t,n)}}var bu={readContext:Yn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},_k={readContext:Yn,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:Db,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,UE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bk.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:Rb,useDebugValue:Cv,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=Rb(!1),e=t[0];return t=xk.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=br();if(rt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Pt===null)throw Error(q(349));Li&30||kE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Db(DE.bind(null,r,i,t),[t]),r.flags|=2048,ql(9,RE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=br(),e=Pt.identifierPrefix;if(rt){var n=Jr,r=Xr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jk={readContext:Yn,useCallback:BE,useContext:Yn,useEffect:Iv,useImperativeHandle:$E,useInsertionEffect:VE,useLayoutEffect:FE,useMemo:zE,useReducer:zf,useRef:ME,useState:function(){return zf(Wl)},useDebugValue:Cv,useDeferredValue:function(t){var e=Qn();return HE(e,wt.memoizedState,t)},useTransition:function(){var t=zf(Wl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:AE,useId:WE,unstable_isNewReconciler:!1},Ek={readContext:Yn,useCallback:BE,useContext:Yn,useEffect:Iv,useImperativeHandle:$E,useInsertionEffect:VE,useLayoutEffect:FE,useMemo:zE,useReducer:Hf,useRef:ME,useState:function(){return Hf(Wl)},useDebugValue:Cv,useDeferredValue:function(t){var e=Qn();return wt===null?e.memoizedState=t:HE(e,wt.memoizedState,t)},useTransition:function(){var t=Hf(Wl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:AE,useId:WE,unstable_isNewReconciler:!1};function ro(t,e){try{var n="",r=e;do n+=JP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Nk=typeof WeakMap=="function"?WeakMap:Map;function YE(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_u||(_u=!0,Om=r),Nm(t,e)},n}function QE(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Nm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nm(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ob(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Nk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Fk.bind(null,t,e,n),e.then(t,t))}function Lb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var Sk=ps.ReactCurrentOwner,xn=!1;function an(t,e,n,r){e.child=t===null?IE(e,null,n,r):to(e,t.child,n,r)}function Vb(t,e,n,r,s){n=n.render;var i=e.ref;return Fa(e,s),r=Sv(t,e,n,r,i,s),n=Tv(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(rt&&n&&pv(e),e.flags|=1,an(t,e,r,s),e.child)}function Fb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Mv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,XE(t,e,i,r,s)):(t=$d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(o,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vl(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,ls(t,e,s)}return Sm(t,e,n,r,s)}function JE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Aa,Sn),Sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Aa,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(Aa,Sn),Sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ze(Aa,Sn),Sn|=r;return an(t,e,s,n),e.child}function ZE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sm(t,e,n,r,s){var i=wn(n)?Di:tn.current;return i=Za(e,i),Fa(e,s),n=Sv(t,e,n,r,i,s),r=Tv(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(rt&&r&&pv(e),e.flags|=1,an(t,e,n,s),e.child)}function Ub(t,e,n,r,s){if(wn(n)){var i=!0;hu(e)}else i=!1;if(Fa(e,s),e.stateNode===null)Vd(t,e),SE(e,n,r),Em(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Yn(d):(d=wn(n)?Di:tn.current,d=Za(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Ab(e,o,r,d),ws=!1;var f=e.memoizedState;o.state=f,vu(e,r,o,s),c=e.memoizedState,l!==r||f!==c||bn.current||ws?(typeof u=="function"&&(jm(e,n,u,r),c=e.memoizedState),(l=ws||Pb(e,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,EE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ir(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=wn(n)?Di:tn.current,c=Za(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Ab(e,o,r,c),ws=!1,f=e.memoizedState,o.state=f,vu(e,r,o,s);var g=e.memoizedState;l!==h||f!==g||bn.current||ws?(typeof p=="function"&&(jm(e,n,p,r),g=e.memoizedState),(d=ws||Pb(e,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Tm(t,e,n,r,i,s)}function Tm(t,e,n,r,s,i){ZE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Nb(e,n,!1),ls(t,e,i);r=e.stateNode,Sk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,i),e.child=to(e,null,l,i)):an(t,e,l,i),e.memoizedState=r.state,s&&Nb(e,n,!0),e.child}function eN(t){var e=t.stateNode;e.pendingContext?Eb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eb(t,e.context,!1),_v(t,e.containerInfo)}function $b(t,e,n,r,s){return eo(),gv(s),e.flags|=256,an(t,e,n,r),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function tN(t,e,n){var r=e.pendingProps,s=st.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(st,s&1),t===null)return wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wh(o,r,0,null),t=Ci(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cm(n),e.memoizedState=Im,t):Pv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Tk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=zs(l,i):(i=Ci(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Im,r}return i=t.child,t=i.sibling,r=zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pv(t,e){return e=wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&gv(r),to(e,t.child,null,n),t=Pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Wf(Error(q(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wh({mode:"visible",children:r.children},s,0,null),i=Ci(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=Cm(o),e.memoizedState=Im,i);if(!(e.mode&1))return cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Wf(i,r,void 0),cd(t,e,o,r)}if(l=(o&t.childLanes)!==0,xn||l){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),hr(r,t,s,-1))}return Lv(),r=Wf(Error(q(421))),cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Uk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=Fs(s.nextSibling),kn=e,rt=!0,or=null,t!==null&&(zn[Hn++]=Xr,zn[Hn++]=Jr,zn[Hn++]=Oi,Xr=t.id,Jr=t.overflow,Oi=e),e=Pv(e,r.children),e.flags|=4096,e)}function Bb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_m(t.return,e,n)}function qf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bb(t,n,e);else if(t.tag===19)Bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(st,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qf(e,!0,n,null,i);break;case"together":qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ik(t,e,n){switch(e.tag){case 3:eN(e),eo();break;case 5:CE(e);break;case 1:wn(e.type)&&hu(e);break;case 4:_v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ze(mu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?tN(t,e,n):(ze(st,st.current&1),t=ls(t,e,n),t!==null?t.sibling:null);ze(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,JE(t,e,n)}return ls(t,e,n)}var rN,Pm,sN,iN;rN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pm=function(){};sN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wi(Cr.current);var i=null;switch(n){case"input":s=Jp(t,s),r=Jp(t,r),i=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),i=[];break;case"textarea":s=tm(t,s),r=tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=du)}rm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Al.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Al.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&qe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};iN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ck(t,e,n){var r=e.pendingProps;switch(mv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return wn(e.type)&&uu(),Wt(e),null;case 3:return r=e.stateNode,no(),Ye(bn),Ye(tn),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Vm(or),or=null))),Pm(t,e),Wt(e),null;case 5:jv(e);var s=wi(zl.current);if(n=e.type,t!==null&&e.stateNode!=null)sN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Wt(e),null}if(t=wi(Cr.current),od(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[$l]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<tl.length;s++)qe(tl[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Xx(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":Zx(r,i),qe("invalid",r)}rm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,l,t),s=["children",""+l]):Al.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Jc(r),Jx(r,i,!0);break;case"textarea":Jc(r),eb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=du)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[$l]=r,rN(t,e,!1,!1),e.stateNode=t;e:{switch(o=sm(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<tl.length;s++)qe(tl[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":Xx(t,r),s=Jp(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Zx(t,r),s=tm(t,r),qe("invalid",t);break;default:s=r}rm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Oj(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rj(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kl(t,c):typeof c=="number"&&kl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Al.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qe("scroll",t):c!=null&&ev(t,i,c,o))}switch(n){case"input":Jc(t),Jx(t,r,!1);break;case"textarea":Jc(t),eb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=du)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)iN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=wi(zl.current),wi(Cr.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ye(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&In!==null&&e.mode&1&&!(e.flags&128))_E(),eo(),e.flags|=98560,i=!1;else if(i=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[wr]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else or!==null&&(Vm(or),or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?_t===0&&(_t=3):Lv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return no(),Pm(t,e),t===null&&Fl(e.stateNode.containerInfo),Wt(e),null;case 10:return xv(e.type._context),Wt(e),null;case 17:return wn(e.type)&&uu(),Wt(e),null;case 19:if(Ye(st),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fo(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,Fo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>so&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304)}else{if(!r)if(t=yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return Wt(e),null}else 2*ht()-i.renderingStartTime>so&&n!==1073741824&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=st.current,ze(st,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Ov(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Pk(t,e){switch(mv(e),e.tag){case 1:return wn(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),Ye(bn),Ye(tn),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jv(e),null;case 13:if(Ye(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(st),null;case 4:return no(),null;case 10:return xv(e.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var dd=!1,Yt=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Am(t,e,n){try{n()}catch(r){dt(t,e,r)}}var zb=!1;function kk(t,e){if(pm=ou,t=cE(),fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++d===s&&(l=o),f===i&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:t,selectionRange:n},ou=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ir(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){dt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return g=zb,zb=!1,g}function gl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Am(e,n,i)}s=s.next}while(s!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aN(t){var e=t.alternate;e!==null&&(t.alternate=null,aN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[$l],delete e[ym],delete e[pk],delete e[mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oN(t){return t.tag===5||t.tag===3||t.tag===4}function Hb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=du));else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}function Dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}var Dt=null,ar=!1;function vs(t,e,n){for(n=n.child;n!==null;)lN(t,e,n),n=n.sibling}function lN(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Yt||Pa(n,e);case 6:var r=Dt,s=ar;Dt=null,vs(t,e,n),Dt=r,ar=s,Dt!==null&&(ar?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(ar?(t=Dt,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),Ll(t)):Ff(Dt,n.stateNode));break;case 4:r=Dt,s=ar,Dt=n.stateNode.containerInfo,ar=!0,vs(t,e,n),Dt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Am(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!Yt&&(Pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dt(n,e,l)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,vs(t,e,n),Yt=r):vs(t,e,n);break;default:vs(t,e,n)}}function Wb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ak),e.forEach(function(r){var s=$k.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,ar=!1;break e;case 3:Dt=l.stateNode.containerInfo,ar=!0;break e;case 4:Dt=l.stateNode.containerInfo,ar=!0;break e}l=l.return}if(Dt===null)throw Error(q(160));lN(i,o,s),Dt=null,ar=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){dt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cN(e,t),e=e.sibling}function cN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),xr(t),r&4){try{gl(3,t,t.return),xh(3,t)}catch(y){dt(t,t.return,y)}try{gl(5,t,t.return)}catch(y){dt(t,t.return,y)}}break;case 1:rr(e,t),xr(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(rr(e,t),xr(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var s=t.stateNode;try{kl(s,"")}catch(y){dt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Pj(s,i),sm(l,o);var d=sm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Oj(s,h):u==="dangerouslySetInnerHTML"?Rj(s,h):u==="children"?kl(s,h):ev(s,u,h,d)}switch(l){case"input":Zp(s,i);break;case"textarea":Aj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oa(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Oa(s,!!i.multiple,i.defaultValue,!0):Oa(s,!!i.multiple,i.multiple?[]:"",!1))}s[$l]=i}catch(y){dt(t,t.return,y)}}break;case 6:if(rr(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){dt(t,t.return,y)}}break;case 3:if(rr(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(y){dt(t,t.return,y)}break;case 4:rr(e,t),xr(t);break;case 13:rr(e,t),xr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rv=ht())),r&4&&Wb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(d=Yt)||u,rr(e,t),Yt=d):rr(e,t),xr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(h=ie=u;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:gl(4,f,f.return);break;case 1:Pa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){dt(r,n,y)}}break;case 5:Pa(f,f.return);break;case 22:if(f.memoizedState!==null){Gb(h);continue}}p!==null?(p.return=f,ie=p):Gb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dj("display",o))}catch(y){dt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){dt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rr(e,t),xr(t),r&4&&Wb(t);break;case 21:break;default:rr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oN(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kl(s,""),r.flags&=-33);var i=Hb(t);Dm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hb(t);Rm(t,l,o);break;default:throw Error(q(161))}}catch(c){dt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rk(t,e,n){ie=t,dN(t)}function dN(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=dd;var d=Yt;if(dd=o,(Yt=c)&&!d)for(ie=s;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?Kb(s):c!==null?(c.return=o,ie=c):Kb(s);for(;i!==null;)ie=i,dN(i),i=i.sibling;ie=s,dd=l,Yt=d}qb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):qb(t)}}function qb(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Yt||e.flags&512&&km(e)}catch(f){dt(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Gb(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Kb(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(c){dt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){dt(e,s,c)}}var i=e.return;try{km(e)}catch(c){dt(e,i,c)}break;case 5:var o=e.return;try{km(e)}catch(c){dt(e,o,c)}}}catch(c){dt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var Dk=Math.ceil,wu=ps.ReactCurrentDispatcher,Av=ps.ReactCurrentOwner,Gn=ps.ReactCurrentBatchConfig,Ce=0,Pt=null,gt=null,Vt=0,Sn=0,Aa=si(0),_t=0,Gl=null,Mi=0,bh=0,kv=0,vl=null,vn=null,Rv=0,so=1/0,Gr=null,_u=!1,Om=null,$s=null,ud=!1,Ps=null,ju=0,yl=0,Lm=null,Fd=-1,Ud=0;function ln(){return Ce&6?ht():Fd!==-1?Fd:Fd=ht()}function Bs(t){return t.mode&1?Ce&2&&Vt!==0?Vt&-Vt:vk.transition!==null?(Ud===0&&(Ud=Gj()),Ud):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:eE(t.type)),t):1}function hr(t,e,n,r){if(50<yl)throw yl=0,Lm=null,Error(q(185));xc(t,n,r),(!(Ce&2)||t!==Pt)&&(t===Pt&&(!(Ce&2)&&(bh|=n),_t===4&&js(t,Vt)),_n(t,r),n===1&&Ce===0&&!(e.mode&1)&&(so=ht()+500,gh&&ii()))}function _n(t,e){var n=t.callbackNode;vA(t,e);var r=au(t,t===Pt?Vt:0);if(r===0)n!==null&&rb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rb(n),e===1)t.tag===0?gk(Yb.bind(null,t)):xE(Yb.bind(null,t)),hk(function(){!(Ce&6)&&ii()}),n=null;else{switch(Kj(r)){case 1:n=iv;break;case 4:n=Wj;break;case 16:n=iu;break;case 536870912:n=qj;break;default:n=iu}n=yN(n,uN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uN(t,e){if(Fd=-1,Ud=0,Ce&6)throw Error(q(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=au(t,t===Pt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var s=Ce;Ce|=2;var i=fN();(Pt!==t||Vt!==e)&&(Gr=null,so=ht()+500,Ii(t,e));do try{Mk();break}catch(l){hN(t,l)}while(!0);yv(),wu.current=i,Ce=s,gt!==null?e=0:(Pt=null,Vt=0,e=_t)}if(e!==0){if(e===2&&(s=cm(t),s!==0&&(r=s,e=Mm(t,s))),e===1)throw n=Gl,Ii(t,0),js(t,r),_n(t,ht()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ok(s)&&(e=Eu(t,r),e===2&&(i=cm(t),i!==0&&(r=i,e=Mm(t,i))),e===1))throw n=Gl,Ii(t,0),js(t,r),_n(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:pi(t,vn,Gr);break;case 3:if(js(t,r),(r&130023424)===r&&(e=Rv+500-ht(),10<e)){if(au(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vm(pi.bind(null,t,vn,Gr),e);break}pi(t,vn,Gr);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dk(r/1960))-r,10<r){t.timeoutHandle=vm(pi.bind(null,t,vn,Gr),r);break}pi(t,vn,Gr);break;case 5:pi(t,vn,Gr);break;default:throw Error(q(329))}}}return _n(t,ht()),t.callbackNode===n?uN.bind(null,t):null}function Mm(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Ii(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=vn,vn=n,e!==null&&Vm(e)),t}function Vm(t){vn===null?vn=t:vn.push.apply(vn,t)}function Ok(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~kv,e&=~bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function Yb(t){if(Ce&6)throw Error(q(327));Ua();var e=au(t,0);if(!(e&1))return _n(t,ht()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=cm(t);r!==0&&(e=r,n=Mm(t,r))}if(n===1)throw n=Gl,Ii(t,0),js(t,e),_n(t,ht()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,vn,Gr),_n(t,ht()),null}function Dv(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(so=ht()+500,gh&&ii())}}function Vi(t){Ps!==null&&Ps.tag===0&&!(Ce&6)&&Ua();var e=Ce;Ce|=1;var n=Gn.transition,r=Ve;try{if(Gn.transition=null,Ve=1,t)return t()}finally{Ve=r,Gn.transition=n,Ce=e,!(Ce&6)&&ii()}}function Ov(){Sn=Aa.current,Ye(Aa)}function Ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uk(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(mv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:no(),Ye(bn),Ye(tn),Ev();break;case 5:jv(r);break;case 4:no();break;case 13:Ye(st);break;case 19:Ye(st);break;case 10:xv(r.type._context);break;case 22:case 23:Ov()}n=n.return}if(Pt=t,gt=t=zs(t.current,null),Vt=Sn=e,_t=0,Gl=null,kv=bh=Mi=0,vn=vl=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return t}function hN(t,e){do{var n=gt;try{if(yv(),Ld.current=bu,xu){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xu=!1}if(Li=0,Ct=wt=at=null,ml=!1,Hl=0,Av.current=null,n===null||n.return===null){_t=1,Gl=e,gt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Lb(o);if(p!==null){p.flags&=-257,Mb(p,o,l,i,e),p.mode&1&&Ob(i,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){Ob(i,d,e),Lv();break e}c=Error(q(426))}}else if(rt&&l.mode&1){var b=Lb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mb(b,o,l,i,e),gv(ro(c,l));break e}}i=c=ro(c,l),_t!==4&&(_t=2),vl===null?vl=[i]:vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=YE(i,c,e);Ib(i,m);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=QE(i,l,e);Ib(i,j);break e}}i=i.return}while(i!==null)}mN(n)}catch(S){e=S,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function fN(){var t=wu.current;return wu.current=bu,t===null?bu:t}function Lv(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(Mi&268435455)&&!(bh&268435455)||js(Pt,Vt)}function Eu(t,e){var n=Ce;Ce|=2;var r=fN();(Pt!==t||Vt!==e)&&(Gr=null,Ii(t,e));do try{Lk();break}catch(s){hN(t,s)}while(!0);if(yv(),Ce=n,wu.current=r,gt!==null)throw Error(q(261));return Pt=null,Vt=0,_t}function Lk(){for(;gt!==null;)pN(gt)}function Mk(){for(;gt!==null&&!lA();)pN(gt)}function pN(t){var e=vN(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?mN(t):gt=e,Av.current=null}function mN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pk(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,gt=null;return}}else if(n=Ck(n,e,Sn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);_t===0&&(_t=5)}function pi(t,e,n){var r=Ve,s=Gn.transition;try{Gn.transition=null,Ve=1,Vk(t,e,n,r)}finally{Gn.transition=s,Ve=r}return null}function Vk(t,e,n,r){do Ua();while(Ps!==null);if(Ce&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yA(t,i),t===Pt&&(gt=Pt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,yN(iu,function(){return Ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gn.transition,Gn.transition=null;var o=Ve;Ve=1;var l=Ce;Ce|=4,Av.current=null,kk(t,n),cN(n,t),sk(mm),ou=!!pm,mm=pm=null,t.current=n,Rk(n),cA(),Ce=l,Ve=o,Gn.transition=i}else t.current=n;if(ud&&(ud=!1,Ps=t,ju=s),i=t.pendingLanes,i===0&&($s=null),hA(n.stateNode),_n(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_u)throw _u=!1,t=Om,Om=null,t;return ju&1&&t.tag!==0&&Ua(),i=t.pendingLanes,i&1?t===Lm?yl++:(yl=0,Lm=t):yl=0,ii(),null}function Ua(){if(Ps!==null){var t=Kj(ju),e=Gn.transition,n=Ve;try{if(Gn.transition=null,Ve=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,ju=0,Ce&6)throw Error(q(331));var s=Ce;for(Ce|=4,ie=t.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ie=d;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:gl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ie=h;else for(;ie!==null;){u=ie;var f=u.sibling,p=u.return;if(aN(u),u===d){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ie=m;break e}ie=i.return}}var x=t.current;for(ie=x;ie!==null;){o=ie;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ie=v;else e:for(o=x;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(S){dt(l,l.return,S)}if(l===o){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(Ce=s,ii(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{Ve=n,Gn.transition=e}}return!1}function Qb(t,e,n){e=ro(n,e),e=YE(t,e,1),t=Us(t,e,1),e=ln(),t!==null&&(xc(t,1,e),_n(t,e))}function dt(t,e,n){if(t.tag===3)Qb(t,t,n);else for(;e!==null;){if(e.tag===3){Qb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ro(n,t),t=QE(e,t,1),e=Us(e,t,1),t=ln(),e!==null&&(xc(e,1,t),_n(e,t));break}}e=e.return}}function Fk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Vt&n)===n&&(_t===4||_t===3&&(Vt&130023424)===Vt&&500>ht()-Rv?Ii(t,0):kv|=n),_n(t,e)}function gN(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=ln();t=os(t,e),t!==null&&(xc(t,e,n),_n(t,n))}function Uk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gN(t,n)}function $k(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),gN(t,n)}var vN;vN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,Ik(t,e,n);xn=!!(t.flags&131072)}else xn=!1,rt&&e.flags&1048576&&bE(e,pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vd(t,e),t=e.pendingProps;var s=Za(e,tn.current);Fa(e,n),s=Sv(null,e,r,t,s,n);var i=Tv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,hu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wv(e),s.updater=vh,e.stateNode=s,s._reactInternals=e,Em(e,r,t,n),e=Tm(null,e,r,!0,i,n)):(e.tag=0,rt&&i&&pv(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zk(r),t=ir(r,t),s){case 0:e=Sm(null,e,r,t,n);break e;case 1:e=Ub(null,e,r,t,n);break e;case 11:e=Vb(null,e,r,t,n);break e;case 14:e=Fb(null,e,r,ir(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Sm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Ub(t,e,r,s,n);case 3:e:{if(eN(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,EE(t,e),vu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ro(Error(q(423)),e),e=$b(t,e,r,n,s);break e}else if(r!==s){s=ro(Error(q(424)),e),e=$b(t,e,r,n,s);break e}else for(In=Fs(e.stateNode.containerInfo.firstChild),kn=e,rt=!0,or=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===s){e=ls(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return CE(e),t===null&&wm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gm(r,s)?o=null:i!==null&&gm(r,i)&&(e.flags|=32),ZE(t,e),an(t,e,o,n),e.child;case 6:return t===null&&wm(e),null;case 13:return tN(t,e,n);case 4:return _v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Vb(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ze(mu,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!bn.current){e=ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ns(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),_m(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_m(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fa(e,n),s=Yn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=ir(r,e.pendingProps),s=ir(r.type,s),Fb(t,e,r,s,n);case 15:return XE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Vd(t,e),e.tag=1,wn(r)?(t=!0,hu(e)):t=!1,Fa(e,n),SE(e,r,s),Em(e,r,s,n),Tm(null,e,r,!0,t,n);case 19:return nN(t,e,n);case 22:return JE(t,e,n)}throw Error(q(156,e.tag))};function yN(t,e){return Hj(t,e)}function Bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new Bk(t,e,n,r)}function Mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return Mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nv)return 11;if(t===rv)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Mv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wa:return Ci(n.children,s,i,e);case tv:o=8,s|=8;break;case Kp:return t=qn(12,n,e,s|2),t.elementType=Kp,t.lanes=i,t;case Yp:return t=qn(13,n,e,s),t.elementType=Yp,t.lanes=i,t;case Qp:return t=qn(19,n,e,s),t.elementType=Qp,t.lanes=i,t;case Tj:return wh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nj:o=10;break e;case Sj:o=9;break e;case nv:o=11;break e;case rv:o=14;break e;case bs:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ci(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function wh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=Tj,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vv(t,e,n,r,s,i,o,l,c){return t=new Hk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(i),t}function Wk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xN(t){if(!t)return Xs;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return yE(t,n,e)}return e}function bN(t,e,n,r,s,i,o,l,c){return t=Vv(n,r,!0,t,s,i,o,l,c),t.context=xN(null),n=t.current,r=ln(),s=Bs(n),i=ns(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,xc(t,s,r),_n(t,r),t}function _h(t,e,n,r){var s=e.current,i=ln(),o=Bs(s);return n=xN(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(hr(t,s,o,i),Od(t,s,o)),o}function Nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fv(t,e){Xb(t,e),(t=t.alternate)&&Xb(t,e)}function qk(){return null}var wN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uv(t){this._internalRoot=t}jh.prototype.render=Uv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));_h(t,e,null,null)};jh.prototype.unmount=Uv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){_h(null,t,null,null)}),e[as]=null}};function jh(t){this._internalRoot=t}jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&Zj(t)}};function $v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function Gk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Nu(o);i.call(d)}}var o=bN(e,r,t,0,null,!1,!1,"",Jb);return t._reactRootContainer=o,t[as]=o.current,Fl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Nu(c);l.call(d)}}var c=Vv(t,0,!1,null,null,!1,!1,"",Jb);return t._reactRootContainer=c,t[as]=c.current,Fl(t.nodeType===8?t.parentNode:t),Vi(function(){_h(e,c,n,r)}),c}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Nu(o);l.call(c)}}_h(e,o,t,s)}else o=Gk(n,e,t,s,r);return Nu(o)}Yj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(av(e,n|1),_n(e,ht()),!(Ce&6)&&(so=ht()+500,ii()))}break;case 13:Vi(function(){var r=os(t,1);if(r!==null){var s=ln();hr(r,t,1,s)}}),Fv(t,1)}};ov=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=ln();hr(e,t,134217728,n)}Fv(t,134217728)}};Qj=function(t){if(t.tag===13){var e=Bs(t),n=os(t,e);if(n!==null){var r=ln();hr(n,t,e,r)}Fv(t,e)}};Xj=function(){return Ve};Jj=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};am=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mh(r);if(!s)throw Error(q(90));Cj(r),Zp(r,s)}}}break;case"textarea":Aj(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};Vj=Dv;Fj=Vi;var Kk={usingClientEntryPoint:!1,Events:[wc,Na,mh,Lj,Mj,Dv]},Uo={findFiberByHostInstance:xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yk={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bj(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{uh=hd.inject(Yk),Ir=hd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$v(e))throw Error(q(200));return Wk(t,e,null,n)};Mn.createRoot=function(t,e){if(!$v(t))throw Error(q(299));var n=!1,r="",s=wN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,Fl(t.nodeType===8?t.parentNode:t),new Uv(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Bj(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Vi(t)};Mn.hydrate=function(t,e,n){if(!Eh(e))throw Error(q(200));return Nh(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!$v(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bN(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jh(e)};Mn.render=function(t,e,n){if(!Eh(e))throw Error(q(200));return Nh(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Eh(t))throw Error(q(40));return t._reactRootContainer?(Vi(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Mn.unstable_batchedUpdates=Dv;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Eh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Nh(t,e,n,!1,r)};Mn.version="18.2.0-next-9e3b772b8-20220608";function _N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_N)}catch(t){console.error(t)}}_N(),bj.exports=Mn;var Qk=bj.exports,Zb=Qk;qp.createRoot=Zb.createRoot,qp.hydrateRoot=Zb.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}var As;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(As||(As={}));const ew="popstate";function Xk(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=ea(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Su(i))}function r(s,i){Sh(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Zk(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jk(){return Math.random().toString(36).substr(2,8)}function tw(t,e){return{usr:t.state,key:t.key,idx:e}}function Fm(t,e,n,r){return n===void 0&&(n=null),Kl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||Jk()})}function Su(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Zk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=As.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Kl({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=As.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:m})}function f(b,m){l=As.Push;let x=Fm(y.location,b,m);n&&n(x,b),d=u()+1;let v=tw(x,d),j=y.createHref(x);try{o.pushState(v,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,m){l=As.Replace;let x=Fm(y.location,b,m);n&&n(x,b),d=u();let v=tw(x,d),j=y.createHref(x);o.replaceState(v,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Su(b);return xt(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let y={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,h),c=b,()=>{s.removeEventListener(ew,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var nw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nw||(nw={}));function eR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ea(e):e,s=Bv(r.pathname||"/",n);if(s==null)return null;let i=jN(t);tR(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=dR(i[l],fR(s));return o}function jN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hs([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),jN(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:lR(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of EN(i.path))s(i,o,c)}),e}function EN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=EN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function tR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nR=/^:[\w-]+$/,rR=3,sR=2,iR=1,aR=10,oR=-2,rw=t=>t==="*";function lR(t,e){let n=t.split("/"),r=n.length;return n.some(rw)&&(r+=oR),e&&(r+=sR),n.filter(s=>!rw(s)).reduce((s,i)=>s+(nR.test(i)?rR:i===""?iR:aR),r)}function cR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",u=uR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!u)return null;Object.assign(r,u.params);let h=l.route;i.push({params:r,pathname:Hs([s,u.pathname]),pathnameBase:yR(Hs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Hs([s,u.pathnameBase]))}return i}function uR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=pR(g||"",f),d},{}),pathname:i,pathnameBase:o,pattern:t}}function hR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fR(t){try{return decodeURI(t)}catch(e){return Sh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pR(t,e){try{return decodeURIComponent(t)}catch(n){return Sh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Bv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ea(t):t;return{pathname:n?n.startsWith("/")?n:gR(n,e):e,search:xR(r),hash:bR(s)}}function gR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NN(t,e){let n=vR(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ea(t):(s=Kl({},t),xt(!s.pathname||!s.pathname.includes("?"),Yf("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Yf("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Yf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=mR(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),yR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TN=["post","put","patch","delete"];new Set(TN);const _R=["get",...TN];new Set(_R);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}const zv=T.createContext(null),jR=T.createContext(null),ta=T.createContext(null),Th=T.createContext(null),ai=T.createContext({outlet:null,matches:[],isDataRoute:!1}),IN=T.createContext(null);function ER(t,e){let{relative:n}=e===void 0?{}:e;jc()||xt(!1);let{basename:r,navigator:s}=T.useContext(ta),{hash:i,pathname:o,search:l}=PN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Hs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function jc(){return T.useContext(Th)!=null}function Ec(){return jc()||xt(!1),T.useContext(Th).location}function CN(t){T.useContext(ta).static||T.useLayoutEffect(t)}function NR(){let{isDataRoute:t}=T.useContext(ai);return t?VR():SR()}function SR(){jc()||xt(!1);let t=T.useContext(zv),{basename:e,future:n,navigator:r}=T.useContext(ta),{matches:s}=T.useContext(ai),{pathname:i}=Ec(),o=JSON.stringify(NN(s,n.v7_relativeSplatPath)),l=T.useRef(!1);return CN(()=>{l.current=!0}),T.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=SN(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hs([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Ur(){let{matches:t}=T.useContext(ai),e=t[t.length-1];return e?e.params:{}}function PN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(ta),{matches:s}=T.useContext(ai),{pathname:i}=Ec(),o=JSON.stringify(NN(s,r.v7_relativeSplatPath));return T.useMemo(()=>SN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function TR(t,e){return IR(t,e)}function IR(t,e,n,r){jc()||xt(!1);let{navigator:s}=T.useContext(ta),{matches:i}=T.useContext(ai),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ec(),u;if(e){var h;let b=typeof e=="string"?ea(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||xt(!1),u=b}else u=d;let f=u.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=eR(t,{pathname:p}),y=RR(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Hs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Hs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?T.createElement(Th.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:As.Pop}},y):y}function CR(){let t=MR(),e=wR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const PR=T.createElement(CR,null);class AR extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(ai.Provider,{value:this.props.routeContext},T.createElement(IN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kR(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(zv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(ai.Provider,{value:e},r)}function RR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||PR,c&&(d<0&&f===0?(FR("route-fallback",!1),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),x=()=>{let v;return p?v=y:g?v=b:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,T.createElement(kR,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(AR,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var AN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AN||{}),Tu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tu||{});function DR(t){let e=T.useContext(zv);return e||xt(!1),e}function OR(t){let e=T.useContext(jR);return e||xt(!1),e}function LR(t){let e=T.useContext(ai);return e||xt(!1),e}function kN(t){let e=LR(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function MR(){var t;let e=T.useContext(IN),n=OR(Tu.UseRouteError),r=kN(Tu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VR(){let{router:t}=DR(AN.UseNavigateStable),e=kN(Tu.UseNavigateStable),n=T.useRef(!1);return CN(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yl({fromRouteId:e},i)))},[t,e])}const sw={};function FR(t,e,n){!e&&!sw[t]&&(sw[t]=!0)}function xe(t){xt(!1)}function UR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=As.Pop,navigator:i,static:o=!1,future:l}=t;jc()&&xt(!1);let c=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:o,future:Yl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ea(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=T.useMemo(()=>{let b=Bv(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[c,u,h,f,p,g,s]);return y==null?null:T.createElement(ta.Provider,{value:d},T.createElement(Th.Provider,{children:n,value:y}))}function Hv(t){let{children:e,location:n}=t;return TR(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Um(r.props.children,i));return}r.type!==xe&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zR(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}const HR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],WR="6";try{window.__reactRouterVersion=WR}catch{}const qR="startTransition",iw=Wp[qR];function GR(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=Xk({window:s,v5Compat:!0}));let o=i.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=T.useCallback(h=>{d&&iw?iw(()=>c(h)):c(h)},[c,d]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(UR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,unstable_viewTransition:h}=e,f=$R(e,HR),{basename:p}=T.useContext(ta),g,y=!1;if(typeof d=="string"&&YR.test(d)&&(g=d,KR))try{let v=new URL(window.location.href),j=d.startsWith("//")?new URL(v.protocol+d):new URL(d),S=Bv(j.pathname,p);j.origin===v.origin&&S!=null?d=S+j.search+j.hash:y=!0}catch{}let b=ER(d,{relative:s}),m=QR(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,unstable_viewTransition:h});function x(v){r&&r(v),v.defaultPrevented||m(v)}return T.createElement("a",$m({},f,{href:g||b,onClick:y||i?r:x,ref:n,target:c}))});var aw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aw||(aw={}));var ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function QR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=NR(),d=Ec(),u=PN(t,{relative:o});return T.useCallback(h=>{if(zR(h,n)){h.preventDefault();let f=r!==void 0?r:Su(d)===Su(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[d,c,u,r,s,n,t,i,o,l])}var lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},DN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||h==null)throw new JR;const f=i<<2|l>>4;if(r.push(f),d!==64){const p=l<<4&240|d>>2;if(r.push(p),h!==64){const g=d<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(t){const e=RN(t);return DN.encodeByteArray(e,!0)},Iu=function(t){return ZR(t).replace(/\./g,"")},ON=function(t){try{return DN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=()=>eD().__FIREBASE_DEFAULTS__,nD=()=>{if(typeof process>"u"||typeof lw>"u")return;const t=lw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ON(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return tD()||nD()||rD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LN=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MN=t=>{const e=LN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VN=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config},FN=t=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iu(JSON.stringify(n)),Iu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function aD(){var t;const e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lD(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cD(){return!aD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wv(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function dD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uD,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?hD(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new er(s,l,r)}}function hD(t,e){return t.replace(fD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fD=/\{\$([^}]+)}/g;function pD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(cw(i)&&cw(o)){if(!Fi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mD(t,e){const n=new gD(t,e);return n.subscribe.bind(n)}class gD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qf),s.error===void 0&&(s.error=Qf),s.complete===void 0&&(s.complete=Qf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1e3,xD=2,bD=4*60*60*1e3,wD=.5;function dw(t,e=yD,n=xD){const r=e*Math.pow(n,t),s=Math.round(wD*r*(Math.random()-.5)*2);return Math.min(bD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _D=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ED(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jD(t){return t===mi?void 0:t}function ED(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _D(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const SD={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},TD=Ne.INFO,ID={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},CD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ID[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ch{constructor(e){this.name=e,this._logLevel=TD,this._logHandler=CD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const PD=(t,e)=>e.some(n=>t instanceof n);let uw,hw;function AD(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zN=new WeakMap,Bm=new WeakMap,HN=new WeakMap,Xf=new WeakMap,qv=new WeakMap;function RD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zN.set(n,t)}).catch(()=>{}),qv.set(e,t),e}function DD(t){if(Bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bm.set(t,e)}let zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OD(t){zm=t(zm)}function LD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return HN.set(r,e.sort?e.sort():[e]),Ws(r)}:kD().includes(t)?function(...e){return t.apply(Jf(this),e),Ws(zN.get(this))}:function(...e){return Ws(t.apply(Jf(this),e))}}function MD(t){return typeof t=="function"?LD(t):(t instanceof IDBTransaction&&DD(t),PD(t,AD())?new Proxy(t,zm):t)}function Ws(t){if(t instanceof IDBRequest)return RD(t);if(Xf.has(t))return Xf.get(t);const e=MD(t);return e!==t&&(Xf.set(t,e),qv.set(e,t)),e}const Jf=t=>qv.get(t);function WN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ws(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ws(o.result),c.oldVersion,c.newVersion,Ws(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const VD=["get","getKey","getAll","getAllKeys","count"],FD=["put","add","delete","clear"],Zf=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=FD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VD.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Zf.set(e,i),i}OD(t=>({...t,get:(e,n,r)=>fw(e,n)||t.get(e,n,r),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",pw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Ch("@firebase/app"),BD="@firebase/app-compat",zD="@firebase/analytics-compat",HD="@firebase/analytics",WD="@firebase/app-check-compat",qD="@firebase/app-check",GD="@firebase/auth",KD="@firebase/auth-compat",YD="@firebase/database",QD="@firebase/database-compat",XD="@firebase/functions",JD="@firebase/functions-compat",ZD="@firebase/installations",eO="@firebase/installations-compat",tO="@firebase/messaging",nO="@firebase/messaging-compat",rO="@firebase/performance",sO="@firebase/performance-compat",iO="@firebase/remote-config",aO="@firebase/remote-config-compat",oO="@firebase/storage",lO="@firebase/storage-compat",cO="@firebase/firestore",dO="@firebase/firestore-compat",uO="firebase",hO="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",fO={[Hm]:"fire-core",[BD]:"fire-core-compat",[HD]:"fire-analytics",[zD]:"fire-analytics-compat",[qD]:"fire-app-check",[WD]:"fire-app-check-compat",[GD]:"fire-auth",[KD]:"fire-auth-compat",[YD]:"fire-rtdb",[QD]:"fire-rtdb-compat",[XD]:"fire-fn",[JD]:"fire-fn-compat",[ZD]:"fire-iid",[eO]:"fire-iid-compat",[tO]:"fire-fcm",[nO]:"fire-fcm-compat",[rO]:"fire-perf",[sO]:"fire-perf-compat",[iO]:"fire-rc",[aO]:"fire-rc-compat",[oO]:"fire-gcs",[lO]:"fire-gcs-compat",[cO]:"fire-fst",[dO]:"fire-fst-compat","fire-js":"fire-js",[uO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,qm=new Map;function pO(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(qm.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of Cu.values())pO(n,t);return!0}function oi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qs=new na("app","Firebase",mO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=hO;function qN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw qs.create("bad-app-name",{appName:String(s)});if(n||(n=VN()),!n)throw qs.create("no-options");const i=Cu.get(s);if(i){if(Fi(n,i.options)&&Fi(r,i.config))return i;throw qs.create("duplicate-app",{appName:s})}const o=new ND(s);for(const c of qm.values())o.addComponent(c);const l=new gO(n,r,o);return Cu.set(s,l),l}function Ph(t=Wm){const e=Cu.get(t);if(!e&&t===Wm&&VN())return qN();if(!e)throw qs.create("no-app",{appName:t});return e}function jn(t,e,n){var r;let s=(r=fO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(l.join(" "));return}pr(new Xn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebase-heartbeat-database",yO=1,Ql="firebase-heartbeat-store";let ep=null;function GN(){return ep||(ep=WN(vO,yO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),ep}async function xO(t){try{const n=(await GN()).transaction(Ql),r=await n.objectStore(Ql).get(KN(t));return await n.done,r}catch(e){if(e instanceof er)Ui.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function mw(t,e){try{const r=(await GN()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,KN(t)),await r.done}catch(n){if(n instanceof er)Ui.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function KN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1024,wO=30*24*60*60*1e3;class _O{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=wO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gw(),{heartbeatsToSend:r,unsentEntries:s}=jO(this._heartbeatsCache.heartbeats),i=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gw(){return new Date().toISOString().substring(0,10)}function jO(t,e=bO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wv()?BN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vw(t){return Iu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){pr(new Xn("platform-logger",e=>new UD(e),"PRIVATE")),pr(new Xn("heartbeat",e=>new _O(e),"PRIVATE")),jn(Hm,pw,t),jn(Hm,pw,"esm2017"),jn("fire-js","")}NO("");var SO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Gv=Gv||{},pe=SO||self;function Ah(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TO(t){return Object.prototype.hasOwnProperty.call(t,tp)&&t[tp]||(t[tp]=++IO)}var tp="closure_uid_"+(1e9*Math.random()>>>0),IO=0;function CO(t,e,n){return t.call.apply(t.bind,arguments)}function PO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=CO:Jt=PO,Jt.apply(null,arguments)}function fd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function li(){this.s=this.s,this.o=this.o}var AO=0;li.prototype.s=!1;li.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AO!=0)&&TO(this)};li.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ah(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var kO=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};pe.addEventListener("test",n,e),pe.removeEventListener("test",n,e)}catch{}return t}();function Xl(t){return/^[\s\xa0]*$/.test(t)}function kh(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function _r(t){return kh().indexOf(t)!=-1}function Yv(t){return Yv[" "](t),t}Yv[" "]=function(){};function RO(t,e){var n=NL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DO=_r("Opera"),io=_r("Trident")||_r("MSIE"),QN=_r("Edge"),Gm=QN||io,XN=_r("Gecko")&&!(kh().toLowerCase().indexOf("webkit")!=-1&&!_r("Edge"))&&!(_r("Trident")||_r("MSIE"))&&!_r("Edge"),OO=kh().toLowerCase().indexOf("webkit")!=-1&&!_r("Edge");function JN(){var t=pe.document;return t?t.documentMode:void 0}var Km;e:{var np="",rp=function(){var t=kh();if(XN)return/rv:([^\);]+)(\)|;)/.exec(t);if(QN)return/Edge\/([\d\.]+)/.exec(t);if(io)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(OO)return/WebKit\/(\S+)/.exec(t);if(DO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rp&&(np=rp?rp[1]:""),io){var sp=JN();if(sp!=null&&sp>parseFloat(np)){Km=String(sp);break e}}Km=np}var Ym;if(pe.document&&io){var xw=JN();Ym=xw||parseInt(Km,10)||void 0}else Ym=void 0;var LO=Ym;function Jl(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XN){e:{try{Yv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:MO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jl.$.h.call(this)}}kt(Jl,Zt);var MO={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),VO=0;function FO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++VO,this.fa=this.ia=!1}function Rh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Qv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ZN(t){const e={};for(const n in t)e[n]=t[n];return e}const bw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<bw.length;i++)n=bw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dh(t){this.src=t,this.g={},this.h=0}Dh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Xm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Qm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=YN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Rh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Xv="closure_lm_"+(1e6*Math.random()|0),ip={};function tS(t,e,n,r,s){if(r&&r.once)return rS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)tS(t,e[i],n,r,s);return null}return n=ey(n),t&&t[Tc]?t.O(e,n,Sc(r)?!!r.capture:!!r,s):nS(t,e,n,!1,r,s)}function nS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Sc(s)?!!s.capture:!!s,l=Zv(t);if(l||(t[Xv]=l=new Dh(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=$O(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(iS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $O(){function t(n){return e.call(t.src,t.listener,n)}const e=BO;return t}function rS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)rS(t,e[i],n,r,s);return null}return n=ey(n),t&&t[Tc]?t.P(e,n,Sc(r)?!!r.capture:!!r,s):nS(t,e,n,!0,r,s)}function sS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)sS(t,e[i],n,r,s);else r=Sc(r)?!!r.capture:!!r,n=ey(n),t&&t[Tc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Xm(i,n,r,s),-1<n&&(Rh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xm(e,n,r,s)),(n=-1<t?e[t]:null)&&Jv(n))}function Jv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tc])Qm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zv(e))?(Qm(n,t),n.h==0&&(n.src=null,e[Xv]=null)):Rh(t)}}}function iS(t){return t in ip?ip[t]:ip[t]="on"+t}function BO(t,e){if(t.fa)t=!0;else{e=new Jl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jv(t),t=n.call(r,e)}return t}function Zv(t){return t=t[Xv],t instanceof Dh?t:null}var ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function ey(t){return typeof t=="function"?t:(t[ap]||(t[ap]=function(e){return t.handleEvent(e)}),t[ap])}function At(){li.call(this),this.i=new Dh(this),this.S=this,this.J=null}kt(At,li);At.prototype[Tc]=!0;At.prototype.removeEventListener=function(t,e,n,r){sS(this,t,e,n,r)};function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var s=e;e=new Zt(r,t),eS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=pd(o,r,!0,e)&&s}if(o=e.g=t,s=pd(o,r,!0,e)&&s,s=pd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=pd(o,r,!1,e)&&s}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&Qm(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var ty=pe.JSON.stringify;class zO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function HO(){var t=ny;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class WO{constructor(){this.h=this.g=null}add(e,n){const r=aS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aS=new zO(()=>new qO,t=>t.reset());class qO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function GO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KO(t){pe.setTimeout(()=>{throw t},0)}let Zl,ec=!1,ny=new WO,oS=()=>{const t=pe.Promise.resolve(void 0);Zl=()=>{t.then(YO)}};var YO=()=>{for(var t;t=HO();){try{t.h.call(t.g)}catch(n){KO(n)}var e=aS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ec=!1};function Oh(t,e){At.call(this),this.h=t||1,this.g=e||pe,this.j=Jt(this.qb,this),this.l=Date.now()}kt(Oh,At);Q=Oh.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(ry(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ry(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Oh.$.N.call(this),ry(this),delete this.g};function sy(t,e,n){if(typeof t=="function")n&&(t=Jt(t,n));else if(t&&typeof t.handleEvent=="function")t=Jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function lS(t){t.g=sy(()=>{t.g=null,t.i&&(t.i=!1,lS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QO extends li{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lS(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tc(t){li.call(this),this.h=t,this.g={}}kt(tc,li);var ww=[];function cS(t,e,n,r){Array.isArray(n)||(n&&(ww[0]=n.toString()),n=ww);for(var s=0;s<n.length;s++){var i=tS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function dS(t){Qv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jv(e)},t),t.g={}}tc.prototype.N=function(){tc.$.N.call(this),dS(this)};tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lh(){this.g=!0}Lh.prototype.Ea=function(){this.g=!1};function XO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var u=d[0];d=d[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+d+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function JO(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ka(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eL(t,n)+(r?" "+r:"")})}function ZO(t,e){t.info(function(){return"TIMEOUT: "+e})}Lh.prototype.info=function(){};function eL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return ty(n)}catch{return e}}var sa={},_w=null;function Mh(){return _w=_w||new At}sa.Ta="serverreachability";function uS(t){Zt.call(this,sa.Ta,t)}kt(uS,Zt);function nc(t){const e=Mh();Ft(e,new uS(e))}sa.STAT_EVENT="statevent";function hS(t,e){Zt.call(this,sa.STAT_EVENT,t),this.stat=e}kt(hS,Zt);function on(t){const e=Mh();Ft(e,new hS(e,t))}sa.Ua="timingevent";function fS(t,e){Zt.call(this,sa.Ua,t),this.size=e}kt(fS,Zt);function Ic(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Vh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iy(){}iy.prototype.h=null;function jw(t){return t.h||(t.h=t.i())}function mS(){}var Cc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ay(){Zt.call(this,"d")}kt(ay,Zt);function oy(){Zt.call(this,"c")}kt(oy,Zt);var Jm;function Fh(){}kt(Fh,iy);Fh.prototype.g=function(){return new XMLHttpRequest};Fh.prototype.i=function(){return{}};Jm=new Fh;function Pc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tc(this),this.P=tL,t=Gm?125:void 0,this.V=new Oh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gS}function gS(){this.i=null,this.g="",this.h=!1}var tL=45e3,vS={},Zm={};Q=Pc.prototype;Q.setTimeout=function(t){this.P=t};function eg(t,e,n){t.L=1,t.A=$h(cs(e)),t.u=n,t.S=!0,yS(t,null)}function yS(t,e){t.G=Date.now(),Ac(t),t.B=cs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),SS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new gS,t.g=GS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new QO(Jt(t.Pa,t,t.g),t.O)),cS(t.U,t.g,"readystatechange",t.nb),e=t.I?ZN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nc(),XO(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Er(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const u=Er(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Gm||this.g&&(this.h.h||this.g.ja()||Tw(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?nc(3):nc(2)),Uh(this);var n=this.g.da();this.ca=n;t:if(xS(this)){var r=Tw(this.g);t="";var s=r.length,i=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),xl(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,JO(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xl(l)){var d=l;break t}}d=null}if(n=d)ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tg(this,n);else{this.i=!1,this.s=3,on(12),_i(this),xl(this);break e}}this.S?(bS(this,u,o),Gm&&this.i&&u==3&&(cS(this.U,this.V,"tick",this.mb),this.V.start())):(ka(this.j,this.m,o,null),tg(this,o)),u==4&&_i(this),this.i&&!this.J&&(u==4?zS(this.l,this):(this.i=!1,Ac(this)))}else _L(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),_i(this),xl(this)}}}catch{}finally{}};function xS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bS(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=nL(t,n),s==Zm){e==4&&(t.s=4,on(14),r=!1),ka(t.j,t.m,null,"[Incomplete Response]");break}else if(s==vS){t.s=4,on(15),ka(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ka(t.j,t.m,s,null),tg(t,s);xS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fy(e),e.M=!0,on(11))):(ka(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),xl(t))}Q.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.o<e.length&&(Uh(this),bS(this,t,e),this.i&&t!=4&&Ac(this))}};function nL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Zm:(n=Number(e.substring(n,r)),isNaN(n)?vS:(r+=1,r+n>e.length?Zm:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,_i(this)};function Ac(t){t.Y=Date.now()+t.P,wS(t,t.P)}function wS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ic(Jt(t.lb,t),e)}function Uh(t){t.C&&(pe.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(ZO(this.j,this.B),this.L!=2&&(nc(),on(17)),_i(this),this.s=2,xl(this)):wS(this,this.Y-t)};function xl(t){t.l.H==0||t.J||zS(t.l,t)}function _i(t){Uh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ry(t.V),dS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ng(n.i,t))){if(!t.K&&ng(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ku(n),Wh(n);else break e;hy(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ic(Jt(n.ib,n),6e3));if(1>=CS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ji(n,11)}else if((t.K||n.g==t)&&ku(n),!Xl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const u=d[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=d[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=d[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(ly(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ge(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=qS(r,r.J?r.pa:null,r.Y),o.K){PS(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(Uh(l),Ac(l)),r.g=o}else $S(r);0<n.j.length&&qh(n)}else d[0]!="stop"&&d[0]!="close"||ji(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?ji(n,7):uy(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}nc(4)}catch{}}function rL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ah(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function sL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ah(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _S(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ah(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=sL(t),r=rL(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var jS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Pi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pi){this.h=t.h,Pu(this,t.j),this.s=t.s,this.g=t.g,Au(this,t.m),this.l=t.l;var e=t.i,n=new rc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ew(this,n),this.o=t.o}else t&&(e=String(t).match(jS))?(this.h=!1,Pu(this,e[1]||"",!0),this.s=sl(e[2]||""),this.g=sl(e[3]||"",!0),Au(this,e[4]),this.l=sl(e[5]||"",!0),Ew(this,e[6]||"",!0),this.o=sl(e[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}Pi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(il(e,Nw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(il(e,Nw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(il(n,n.charAt(0)=="/"?lL:oL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",il(n,dL)),t.join("")};function cs(t){return new Pi(t)}function Pu(t,e,n){t.j=n?sl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Au(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ew(t,e,n){e instanceof rc?(t.i=e,uL(t.i,t.h)):(n||(e=il(e,cL)),t.i=new rc(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function $h(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function il(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,aL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Nw=/[#\/\?@]/g,oL=/[#\?:]/g,lL=/[#\?]/g,cL=/[#\?@]/g,dL=/#/g;function rc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ci(t){t.g||(t.g=new Map,t.h=0,t.i&&iL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=rc.prototype;Q.add=function(t,e){ci(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ES(t,e){ci(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function NS(t,e){return ci(t),e=_o(t,e),t.g.has(e)}Q.forEach=function(t,e){ci(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Q.ta=function(){ci(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Q.Z=function(t){ci(this);let e=[];if(typeof t=="string")NS(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return ci(this),this.i=null,t=_o(this,t),NS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function SS(t,e,n){ES(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),Kv(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uL(t,e){e&&!t.j&&(ci(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ES(this,r),SS(this,s,n))},t)),t.j=e}var hL=class{constructor(t,e){this.g=t,this.map=e}};function TS(t){this.l=t||fL,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fL=10;function IS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function CS(t){return t.h?1:t.g?t.g.size:0}function ng(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ly(t,e){t.g?t.g.add(e):t.h=e}function PS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TS.prototype.cancel=function(){if(this.i=AS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function AS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Kv(t.i)}var pL=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function mL(){this.g=new pL}function gL(t,e,n){const r=n||"";try{_S(t,function(s,i){let o=s;Sc(s)&&(o=ty(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function vL(t,e){const n=new Lh;if(pe.Image){const r=new Image;r.onload=fd(md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fd(md,n,r,"TestLoadImage: error",!1,e),r.onabort=fd(md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fd(md,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function md(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Bh(t){this.l=t.ec||null,this.j=t.ob||!1}kt(Bh,iy);Bh.prototype.g=function(){return new zh(this.l,this.j)};Bh.prototype.i=function(t){return function(){return t}}({});function zh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(zh,At);var cy=0;Q=zh.prototype;Q.open=function(t,e){if(this.readyState!=cy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sc(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=cy};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kc(this):sc(this),this.readyState==3&&kS(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,kc(this))};Q.Ya=function(t){this.g&&(this.response=t,kc(this))};Q.ka=function(){this.g&&kc(this)};function kc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sc(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yL=pe.JSON.parse;function ut(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RS,this.L=this.M=!1}kt(ut,At);var RS="",xL=/^https?$/i,bL=["POST","PUT"];Q=ut.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jm.g(),this.C=this.u?jw(this.u):jw(Jm),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Sw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=pe.FormData&&t instanceof pe.FormData,!(0<=YN(bL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LS(this),0<this.B&&((this.L=wL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=sy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Sw(this,i)}};function wL(t){return io&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))};function Sw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DS(t),Hh(t)}function DS(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),Hh(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hh(this,!0)),ut.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?OS(this):this.kb())};Q.kb=function(){OS(this)};function OS(t){if(t.h&&typeof Gv<"u"&&(!t.C[1]||Er(t)!=4||t.da()!=2)){if(t.v&&Er(t)==4)sy(t.La,0,t);else if(Ft(t,"readystatechange"),Er(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(jS)[1]||null;!s&&pe.self&&pe.self.location&&(s=pe.self.location.protocol.slice(0,-1)),r=!xL.test(s?s.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var i=2<Er(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",DS(t)}}finally{Hh(t)}}}}function Hh(t,e){if(t.g){LS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function LS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Er(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yL(e)}};function Tw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case RS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _L(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xl(t[r]))continue;var n=GO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}UO(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MS(t){let e="";return Qv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ge(t,e,n))}function $o(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VS(t){this.Ga=0,this.j=[],this.l=new Lh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$o("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$o("baseRetryDelayMs",5e3,t),this.hb=$o("retryDelaySeedMs",1e4,t),this.eb=$o("forwardChannelMaxRetries",2,t),this.xa=$o("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TS(t&&t.concurrentRequestLimit),this.Ja=new mL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=VS.prototype;Q.ra=8;Q.H=1;function uy(t){if(FS(t),t.H==3){var e=t.W++,n=cs(t.I);if(Ge(n,"SID",t.K),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),Rc(t,n),e=new Pc(t,t.l,e),e.L=2,e.A=$h(cs(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.A,n=!0),n||(e.g=GS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ac(e)}WS(t)}function Wh(t){t.g&&(fy(t),t.g.cancel(),t.g=null)}function FS(t){Wh(t),t.u&&(pe.clearTimeout(t.u),t.u=null),ku(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function qh(t){if(!IS(t.i)&&!t.m){t.m=!0;var e=t.Na;Zl||oS(),ec||(Zl(),ec=!0),ny.add(e,t),t.C=0}}function jL(t,e){return CS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ic(Jt(t.Na,t,e),HS(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Pc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=ZN(i),eS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=US(this,s,e),n=cs(this.I),Ge(n,"RID",t),Ge(n,"CVER",22),this.F&&Ge(n,"X-HTTP-Session-Id",this.F),Rc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(MS(i)))+"&"+e:this.o&&dy(n,this.o,i)),ly(this.i,s),this.bb&&Ge(n,"TYPE","init"),this.P?(Ge(n,"$req",e),Ge(n,"SID","null"),s.aa=!0,eg(s,n,null)):eg(s,n,e),this.H=2}}else this.H==3&&(t?Iw(this,t):this.j.length==0||IS(this.i)||Iw(this))};function Iw(t,e){var n;e?n=e.m:n=t.W++;const r=cs(t.I);Ge(r,"SID",t.K),Ge(r,"RID",n),Ge(r,"AID",t.V),Rc(t,r),t.o&&t.s&&dy(r,t.o,t.s),n=new Pc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=US(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ly(t.i,n),eg(n,r,e)}function Rc(t,e){t.na&&Qv(t.na,function(n,r){Ge(e,r,n)}),t.h&&_S({},function(n,r){Ge(e,r,n)})}function US(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let d=s[c].g;const u=s[c].map;if(d-=i,0>d)i=Math.max(0,s[c].g-100),l=!1;else try{gL(u,o,"req"+d+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $S(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zl||oS(),ec||(Zl(),ec=!0),ny.add(e,t),t.A=0}}function hy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ic(Jt(t.Ma,t),HS(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,BS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ic(Jt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Wh(this),BS(this))};function fy(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function BS(t){t.g=new Pc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cs(t.wa);Ge(e,"RID","rpc"),Ge(e,"SID",t.K),Ge(e,"AID",t.V),Ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ge(e,"TO",t.qa),Ge(e,"TYPE","xmlhttp"),Rc(t,e),t.o&&t.s&&dy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=$h(cs(e)),n.u=null,n.S=!0,yS(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Wh(this),hy(this),on(19))};function ku(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function zS(t,e){var n=null;if(t.g==e){ku(t),fy(t),t.g=null;var r=2}else if(ng(t.i,e))n=e.F,PS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Mh(),Ft(r,new fS(r,n)),qh(t)}else $S(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&jL(t,e)||r==2&&hy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ji(t,5);break;case 4:ji(t,10);break;case 3:ji(t,6);break;default:ji(t,2)}}}function HS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ji(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new Pi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Pu(n,"https"),$h(n)),vL(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),WS(t),FS(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function WS(t){if(t.H=0,t.ma=[],t.h){const e=AS(t.i);(e.length!=0||t.j.length!=0)&&(yw(t.ma,e),yw(t.ma,t.j),t.i.i.length=0,Kv(t.j),t.j.length=0),t.h.ya()}}function qS(t,e,n){var r=n instanceof Pi?cs(n):new Pi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Au(r,r.m);else{var s=pe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Pi(null);r&&Pu(i,r),e&&(i.g=e),s&&Au(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Ge(r,n,e),Ge(r,"VER",t.ra),Rc(t,r),r}function GS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ut(new Bh({ob:n})):new ut(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function KS(){}Q=KS.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Ru(){if(io&&!(10<=Number(LO)))throw Error("Environmental error: no available transport.")}Ru.prototype.g=function(t,e){return new On(t,e)};function On(t,e){At.call(this),this.g=new VS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new jo(this)}kt(On,At);On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qS(t,null,t.Y),qh(t)};On.prototype.close=function(){uy(this.g)};On.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ty(t),t=n);e.j.push(new hL(e.fb++,t)),e.H==3&&qh(e)};On.prototype.N=function(){this.g.h=null,delete this.j,uy(this.g),delete this.g,On.$.N.call(this)};function YS(t){ay.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(YS,ay);function QS(){oy.call(this),this.status=1}kt(QS,oy);function jo(t){this.g=t}kt(jo,KS);jo.prototype.Ba=function(){Ft(this.g,"a")};jo.prototype.Aa=function(t){Ft(this.g,new YS(t))};jo.prototype.za=function(t){Ft(this.g,new QS)};jo.prototype.ya=function(){Ft(this.g,"b")};function EL(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(mr,EL);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function op(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}mr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)op(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){op(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){op(this,r),s=0;break}}this.h=s,this.i+=e};mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var NL={};function py(t){return-128<=t&&128>t?RO(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return Lt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rg;return new Ue(e,0)}function XS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt(XS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=$a,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Nr(Math.pow(e,i)),r=r.R(i).add(Nr(o))):(r=r.R(n),r=r.add(Nr(o)))}return r}var rg=4294967296,$a=py(0),sg=py(1),Cw=py(16777216);Q=Ue.prototype;Q.ea=function(){if(Wn(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rg+r)*e,e*=rg}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zr(this))return"0";if(Wn(this))return"-"+Lt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var s=Ou(n,e).g;n=Du(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Zr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wn(t){return t.h==-1}Q.X=function(t){return t=Du(this,t),Wn(t)?-1:Zr(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(sg)}Q.abs=function(){return Wn(this)?Lt(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Du(t,e){return t.add(Lt(e))}Q.R=function(t){if(Zr(this)||Zr(t))return $a;if(Wn(this))return Wn(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(Wn(t))return Lt(this.R(Lt(t)));if(0>this.X(Cw)&&0>t.X(Cw))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,gd(n,2*r+2*s),n[2*r+2*s+1]+=i*c,gd(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,gd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,gd(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function gd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bo(t,e){this.g=t,this.h=e}function Ou(t,e){if(Zr(e))throw Error("division by zero");if(Zr(t))return new Bo($a,$a);if(Wn(t))return e=Ou(Lt(t),e),new Bo(Lt(e.g),Lt(e.h));if(Wn(e))return e=Ou(t,Lt(e)),new Bo(Lt(e.g),e.h);if(30<t.g.length){if(Wn(t)||Wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sg,r=e;0>=r.X(t);)n=Pw(n),r=Pw(r);var s=fa(n,1),i=fa(r,1);for(r=fa(r,2),n=fa(n,2);!Zr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=fa(r,1),n=fa(n,1)}return e=Du(t,s.R(e)),new Bo(s,e)}for(s=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Nr(n),o=i.R(e);Wn(o)||0<o.X(t);)n-=r,i=Nr(n),o=i.R(e);Zr(i)&&(i=sg),s=s.add(i),t=Du(t,o)}return new Bo(s,t)}Q.gb=function(t){return Ou(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function Pw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function fa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ue(s,t.h)}Ru.prototype.createWebChannel=Ru.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;Vh.NO_ERROR=0;Vh.TIMEOUT=8;Vh.HTTP_ERROR=6;pS.COMPLETE="complete";mS.EventType=Cc;Cc.OPEN="a";Cc.CLOSE="b";Cc.ERROR="c";Cc.MESSAGE="d";At.prototype.listen=At.prototype.O;ut.prototype.listenOnce=ut.prototype.P;ut.prototype.getLastError=ut.prototype.Sa;ut.prototype.getLastErrorCode=ut.prototype.Ia;ut.prototype.getStatus=ut.prototype.da;ut.prototype.getResponseJson=ut.prototype.Wa;ut.prototype.getResponseText=ut.prototype.ja;ut.prototype.send=ut.prototype.ha;ut.prototype.setWithCredentials=ut.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Nr;Ue.fromString=XS;var SL=function(){return new Ru},TL=function(){return Mh()},lp=Vh,IL=pS,CL=sa,Aw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vd=mS,PL=ut,AL=mr,Ba=Ue;const kw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Ch("@firebase/firestore");function zo(){return $i.logLevel}function Y(t,...e){if($i.logLevel<=Ne.DEBUG){const n=e.map(my);$i.debug(`Firestore (${Eo}): ${t}`,...n)}}function Mr(t,...e){if($i.logLevel<=Ne.ERROR){const n=e.map(my);$i.error(`Firestore (${Eo}): ${t}`,...n)}}function ao(t,...e){if($i.logLevel<=Ne.WARN){const n=e.map(my);$i.warn(`Firestore (${Eo}): ${t}`,...n)}}function my(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function He(t,e){t||he()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class RL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DL{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new JS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Kt(e)}}class OL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ML{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new ML(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=FL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new jt(0,0))}static max(){return new me(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends ic{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const UL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends ic{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return UL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}function $L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Js(s,oe.empty(),e)}function BL(t){return new Js(t.readTime,t.key,-1)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(me.min(),oe.empty(),-1)}static max(){return new Js(me.max(),oe.empty(),-1)}}function zL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==HL)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{o[d]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Pr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new bl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=vy(r.target.error);this.V.reject(new bl(e,s))}}static open(e,n,r,s){try{return new gy(n,e.transaction(s,r))}catch(i){throw new bl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new GL(n)}}class Ei{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ei.S(bt())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),vi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wv())return!1;if(Ei.C())return!0;const e=bt(),n=Ei.S(e),r=0<n&&n<10,s=Ei.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Y("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new bl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new te(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new bl(e,o))},s.onupgradeneeded=i=>{Y("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Y("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=gy.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),z.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&o<3;if(Y("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vi(this.k.delete())}}class bl extends te{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Oc(t){return t.name==="IndexedDbTransactionError"}class GL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Y("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vi(r)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),vi(this.store.add(e))}get(e){return vi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Y("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),vi(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),vi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new z((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Y("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new z((r,s)=>{n.onerror=i=>{const o=vy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new qL(l),d=n(l.primaryKey,l.value,c);if(d instanceof z){const u=d.catch(h=>(c.done(),z.reject(h)));r.push(u)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vi(t){return new z((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=vy(r.target.error);n(s)}})}let Rw=!1;function vy(t){const e=Ei.S(bt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rw||(Rw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}yy._e=-1;function Gh(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ut(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tT("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const YL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(He(!!t),typeof t=="string"){let e=0;const n=YL.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function by(t){const e=t.mapValue.fields.__previous_value__;return xy(e)?by(e):e}function ac(t){const e=Zs(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xy(t)?4:XL(t)?9007199254740991:10:he()}function Vr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zs(s.timestampValue),l=Zs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bi(s.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),l=mt(i.doubleValue);return o===l?Lu(o)===Lu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Dw(o)!==Dw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vr(o[c],l[c])))return!1;return!0}(t,e);default:return he()}}function lc(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=mt(i.integerValue||i.doubleValue),c=mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Lw(t.timestampValue,e.timestampValue);case 4:return Lw(ac(t),ac(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Bi(i),c=Bi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=Oe(l[d],c[d]);if(u!==0)return u}return Oe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Oe(mt(i.latitude),mt(o.latitude));return l!==0?l:Oe(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let d=0;d<l.length&&d<c.length;++d){const u=lo(l[d],c[d]);if(u)return u}return Oe(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===xd.mapValue&&o===xd.mapValue)return 0;if(i===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Oe(c[h],u[h]);if(f!==0)return f;const p=lo(l[c[h]],d[u[h]]);if(p!==0)return p}return Oe(c.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function Lw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Zs(t),r=Zs(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function co(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ig(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ig(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function Mw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function Vw(t){return!!t&&"nullValue"in t}function Fw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=wl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yn(wl(this.value))}}function nT(t){const e=[];return ia(t.fields,(n,r)=>{const s=new Mt([n]);if(Bd(r)){const i=nT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qt(e,0,me.min(),me.min(),me.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Qt(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,me.min(),me.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,me.min(),me.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function Uw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=lo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function JL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class vt extends rT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eM(e,n,r):n==="array-contains"?new rM(e,r):n==="in"?new sM(e,r):n==="not-in"?new iM(e,r):n==="array-contains-any"?new aM(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tM(e,r):new nM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends rT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gr(e,n)}matches(e){return sT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sT(t){return t.op==="and"}function iT(t){return ZL(t)&&sT(t)}function ZL(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function og(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+co(t.value);if(iT(t))return t.filters.map(e=>og(e)).join(",");{const e=t.filters.map(n=>og(n)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&aT(o,s.filters[l]),!0):!1}(t,e):void he()}function oT(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"}(t):"Filter"}class eM extends vt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tM extends vt{constructor(e,n){super(e,"in",n),this.keys=lT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nM extends vt{constructor(e,n){super(e,"not-in",n),this.keys=lT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class rM extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&lc(n.arrayValue,this.value)}}class sM extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class iM extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}}class aM extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function Bw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new oM(t,e,n,r,s,i,o)}function _y(t){const e=ye(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>og(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ce=n}return e.ce}function jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$w(t.startAt,e.startAt)&&$w(t.endAt,e.endAt)}function lg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lM(t,e,n,r,s,i,o,l){return new Lc(t,e,n,r,s,i,o,l)}function Ey(t){return new Lc(t)}function zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cT(t){return t.collectionGroup!==null}function _l(t){const e=ye(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ut(Mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Vu(i,r))}),n.has(Mt.keyField().canonicalString())||e.le.push(new Vu(Mt.keyField(),r))}return e.le}function Ar(t){const e=ye(t);return e.he||(e.he=cM(e,_l(t))),e.he}function cM(t,e){if(t.limitType==="F")return Bw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vu(s.field,i)});const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return Bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kh(t,e){return jy(Ar(t),Ar(e))&&t.limitType===e.limitType}function dT(t){return`${_y(Ar(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oT(s)).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>co(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>co(s)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _l(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Uw(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,_l(r),s)||r.endAt&&!function(o,l,c){const d=Uw(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,_l(r),s))}(t,e)}function dM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uT(t){return(e,n)=>{let r=!1;for(const s of _l(t)){const i=uM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uM(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?lo(c,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new lt(oe.comparator);function ds(){return hM}const hT=new lt(oe.comparator);function al(...t){let e=hT;for(const n of t)e=e.insert(n.key,n);return e}function fT(t){let e=hT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return jl()}function pT(){return jl()}function jl(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const fM=new lt(oe.comparator),pM=new Ut(oe.comparator);function _e(...t){let e=pM;for(const n of t)e=e.add(n);return e}const mM=new Ut(Oe);function gM(){return mM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function gT(t){return{integerValue:""+t}}function vM(t,e){return KL(e)?gT(e):mT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function yM(t,e,n){return t instanceof cc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xy(i)&&(i=by(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof uo?yT(t,e):t instanceof ho?xT(t,e):function(s,i){const o=vT(s,i),l=Hw(o)+Hw(s.Ie);return ag(o)&&ag(s.Ie)?gT(l):mT(s.serializer,l)}(t,e)}function xM(t,e,n){return t instanceof uo?yT(t,e):t instanceof ho?xT(t,e):n}function vT(t,e){return t instanceof Fu?function(r){return ag(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cc extends Qh{}class uo extends Qh{constructor(e){super(),this.elements=e}}function yT(t,e){const n=bT(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ho extends Qh{constructor(e){super(),this.elements=e}}function xT(t,e){let n=bT(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class Fu extends Qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hw(t){return mt(t.integerValue||t.doubleValue)}function bT(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.field=e,this.transform=n}}function bM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uo&&s instanceof uo||r instanceof ho&&s instanceof ho?oo(r.elements,s.elements,Vr):r instanceof Fu&&s instanceof Fu?Vr(r.Ie,s.Ie):r instanceof cc&&s instanceof cc}(t.transform,e.transform)}class wM{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xh{}function wT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,Kn.none()):new Mc(t.key,t.data,Kn.none());{const n=t.data,r=yn.empty();let s=new Ut(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new di(t.key,r,new Cn(s.toArray()),Kn.none())}}function _M(t,e,n){t instanceof Mc?function(s,i,o){const l=s.value.clone(),c=qw(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof di?function(s,i,o){if(!zd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=qw(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(_T(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof Mc?function(i,o,l,c){if(!zd(i.precondition,o))return l;const d=i.value.clone(),u=Gw(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,o,l,c){if(!zd(i.precondition,o))return l;const d=Gw(i.fieldTransforms,c,o),u=o.data;return u.setAll(_T(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return zd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function jM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=vT(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function Ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oo(r,s,(i,o)=>bM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends Xh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class di extends Xh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qw(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,xM(o,l,n[s]))}return r}function Gw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,yM(i,o,e))}return r}class Sy extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EM extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_M(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=wT(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>Ww(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>Ww(n,r))}}class Ty{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return fM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ty(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function IM(t){switch(t){default:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function jT(t){if(t===void 0)return Mr("GRPC error has no .code"),B.UNKNOWN;switch(t){case pt.OK:return B.OK;case pt.CANCELLED:return B.CANCELLED;case pt.UNKNOWN:return B.UNKNOWN;case pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case pt.INTERNAL:return B.INTERNAL;case pt.UNAVAILABLE:return B.UNAVAILABLE;case pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case pt.NOT_FOUND:return B.NOT_FOUND;case pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case pt.ABORTED:return B.ABORTED;case pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case pt.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Ba([4294967295,4294967295],0);function Kw(t){const e=CM().encode(t),n=new AL;return n.update(e),new Uint8Array(n.digest())}function Yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ba([n,r],0),new Ba([s,i],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ba.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ba.fromNumber(r)));return s.compare(PM)===1&&(s=new Ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Kw(e),[r,s]=Yw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Iy(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Kw(e),[r,s]=Yw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(me.min(),s,new lt(Oe),ds(),_e())}}class Vc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class ET{constructor(e,n){this.targetId=e,this.fe=n}}class NT{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Qw{constructor(){this.ge=0,this.pe=Jw(),this.ye=nn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),r=_e();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new Vc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Jw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,He(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class AM{constructor(e){this.Le=e,this.ke=new Map,this.qe=ds(),this.Qe=Xw(),this.Ke=new lt(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(lg(i))if(r===0){const o=new oe(i.path);this.We(n,o,Qt.newNoDocument(o,me.min()))}else He(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Bi(r).toUint8Array()}catch(c){if(c instanceof tT)return ao("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Iy(o,s,i)}catch(c){return ao(c instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&lg(l.target)){const c=new oe(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Qt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=_e();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Ye(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Jh(e,n,this.Ke,this.qe,r);return this.qe=ds(),this.Qe=Xw(),this.Ke=new lt(Oe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Qw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ut(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Qw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Xw(){return new lt(oe.comparator)}function Jw(){return new lt(oe.comparator)}const kM={asc:"ASCENDING",desc:"DESCENDING"},RM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DM={and:"AND",or:"OR"};class OM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||Gh(e)?e:{value:e}}function Uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LM(t,e){return Uu(t,e.toTimestamp())}function kr(t){return He(!!t),me.fromTimestamp(function(n){const r=Zs(n);return new jt(r.seconds,r.nanos)}(t))}function Cy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TT(t){const e=Ke.fromString(t);return He(kT(e)),e}function fg(t,e){return Cy(t.databaseId,e.path)}function cp(t,e){const n=TT(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(CT(n))}function IT(t,e){return Cy(t.databaseId,e)}function MM(t){const e=TT(t);return e.length===4?Ke.emptyPath():CT(e)}function pg(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zw(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function VM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(He(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(He(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const u=d.code===void 0?B.UNKNOWN:jT(d.code);return new te(u,d.message||"")}(o);n=new NT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cp(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):me.min(),l=new yn({mapValue:{fields:r.document.fields}}),c=Qt.newFoundDocument(s,i,o,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new Hd(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cp(t,r.document),i=r.readTime?kr(r.readTime):me.min(),o=Qt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Hd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cp(t,r.document),i=r.removedTargetIds||[];n=new Hd([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TM(s,i),l=r.targetId;n=new ET(l,o)}}return n}function FM(t,e){let n;if(e instanceof Mc)n={update:Zw(t,e.key,e.value)};else if(e instanceof Sy)n={delete:fg(t,e.key)};else if(e instanceof di)n={update:Zw(t,e.key,e.data),updateMask:KM(e.fieldMask)};else{if(!(e instanceof EM))return he();n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fu)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:LM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function UM(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(me.min())&&(o=kr(i)),new wM(o,s.transformResults||[])}(n,e))):[]}function $M(t,e){return{documents:[IT(t,e.path)]}}function BM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IT(t,s);const i=function(d){if(d.length!==0)return AT(gr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(u=>function(f){return{field:ya(f.field),direction:WM(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ug(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:s}}function zM(t){let e=MM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=PT(h);return f instanceof gr&&iT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Vu(xa(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Gh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Mu(p,f)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const f=!h.before,p=h.values||[];return new Mu(p,f)}(n.endAt)),lM(e,s,o,i,l,"F",c,d)}function HM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xa(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>PT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function WM(t){return kM[t]}function qM(t){return RM[t]}function GM(t){return DM[t]}function ya(t){return{fieldPath:t.canonicalString()}}function xa(t){return Mt.fromServerFormat(t.fieldPath)}function AT(t){return t instanceof vt?function(n){if(n.op==="=="){if(Fw(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(Vw(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fw(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(Vw(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:qM(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(s=>AT(s));return r.length===1?r[0]:{compositeFilter:{op:GM(n.op),filters:r}}}(t):he()}function KM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,i=me.min(),o=me.min(),l=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ct=e}}function QM(t){const e=zM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this._n=new JM}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Js.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class JM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fo(0)}static Bn(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&El(r.mutation,s,Cn.empty(),jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=al();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ds();const o=jl(),l=function(){return jl()}();return n.forEach((c,d)=>{const u=r.get(d.key);s.has(d.key)&&(u===void 0||u.mutation instanceof di)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),El(u.mutation,d,u.mutation.getFieldMask(),jt.now())):o.set(d.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>o.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new eV(u,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=jl();let s=new lt((o,l)=>o-l),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||Cn.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(s.get(l.batchId)||_e()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=pT();u.forEach(f=>{if(!i.has(f)){const p=wT(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ni());let l=-1,c=i;return o.next(d=>z.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,_e())).next(u=>({batchId:l,changes:fT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=al();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=al();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,c=>{const d=function(h,f){return new Lc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,Qt.newInvalidDocument(u)))});let l=al();return o.forEach((c,d)=>{const u=i.get(c);u!==void 0&&El(u.mutation,d,Cn.empty(),jt.now()),Yh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:QM(s.bundledQuery),readTime:kr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.overlays=new lt(oe.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ni(),i=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new lt((d,u)=>d-u);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Ni(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ni(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=s)););return z.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SM(n,r));let i=this.hr.get(n);i===void 0&&(i=_e(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Pr=new Ut(Tt.Ir),this.Tr=new Ut(Tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Ke([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Ke([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=_e();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ut(Tt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new Tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const l=this.Sr(o.pr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Oe);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],l=>{r=r.add(l.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new oe(i),0);let l=new Ut(Oe);return this.wr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.pr)),!0)},o),z.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Tt(n,0),s=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.vr=e,this.docs=function(){return new lt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Qt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||zL(BL(u),r)<=0||(s.has(u.key)||Yh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aV(this)}getSize(e){return z.resolve(this.size)}}class aV extends ZM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.persistence=e,this.Mr=new No(n=>_y(n),jy),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Py,this.targetCount=0,this.Br=fo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new yy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new oV(this),this.indexManager=new XM,this.remoteDocumentCache=function(s){return new iV(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new YM(n),this.$r=new nV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new sV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new cV(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return z.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class cV extends WL{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.zr=new Py,this.jr=null}static Hr(e){return new Ay(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const s=oe.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ky(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return cD()?8:Ei.v(bt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new dV;return this.Ji(e,n,o).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(zo()<=Ne.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(zo()<=Ne.DEBUG&&Y("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(zo()<=Ne.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):z.resolve())}ji(e,n){if(zw(n))return z.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dg(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Zi(n,l);return this.Xi(n,d,o,c.readTime)?this.ji(e,dg(n,null,"F")):this.es(e,d,n,c)}))})))}Hi(e,n,r,s){return zw(n)||s.isEqual(me.min())?z.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?z.resolve(null):(zo()<=Ne.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(n)),this.es(e,o,n,$L(s,-1)).next(l=>l))})}Zi(e,n){let r=new Ut(uT(e));return n.forEach((s,i)=>{Yh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return zo()<=Ne.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",va(n)),this.zi.getDocumentsMatchingQuery(e,n,Js.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new lt(Oe),this.rs=new No(i=>_y(i),jy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function fV(t,e,n,r){return new hV(t,e,n,r)}async function RT(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=_e();for(const d of s){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function pV(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,f=h.keys();let p=z.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(y=>{const b=d.docVersions.get(g);He(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),u.addEntry(y)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=_e();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DT(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function mV(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(y,b,m){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&l.push(n.Qr.updateTargetData(i,p))});let c=ds(),d=_e();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(gV(i,o,e.documentUpdates).next(u=>{c=u.cs,d=u.ls})),!r.isEqual(me.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return z.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.ns=s,i))}function gV(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{cs:o,ls:s}})}function vV(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yV(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function mg(t,e,n){const r=ye(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Oc(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function e0(t,e,n){const r=ye(t);let s=me.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,u){const h=ye(c),f=h.rs.get(u);return f!==void 0?z.resolve(h.ns.get(f)):h.Qr.getTargetData(d,u)}(r,o,Ar(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:me.min(),n?i:_e())).next(l=>(xV(r,dM(e),l),{documents:l,hs:i})))}function xV(t,e,n){let r=t.ss.get(e)||me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class t0{constructor(){this.activeTargetIds=gM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.no=new t0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new t0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function dp(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class EV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const l=dp(),c=this.bo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,i,o),this.Co(n,c,d,s).then(u=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,l){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=_V[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=dp();return new Promise((o,l)=>{const c=new PL;c.setWithCredentials(!0),c.listenOnce(IL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lp.NO_ERROR:const u=c.getResponseJson();Y(qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case lp.TIMEOUT:Y(qt,`RPC '${e}' ${i} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const h=c.getStatus();if(Y(qt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const m=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(m)>=0?m:B.UNKNOWN}(p.status);l(new te(g,p.message))}else l(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Y(qt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Y(qt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Fo(e,n,r){const s=dp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SL(),l=TL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Y(qt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new jV({lo:b=>{p?Y(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Y(qt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Y(qt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},ho:()=>h.close()}),y=(b,m,x)=>{b.listen(m,v=>{try{x(v)}catch(j){setTimeout(()=>{throw j},0)}})};return y(h,vd.EventType.OPEN,()=>{p||Y(qt,`RPC '${e}' stream ${s} transport opened.`)}),y(h,vd.EventType.CLOSE,()=>{p||(p=!0,Y(qt,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(h,vd.EventType.ERROR,b=>{p||(p=!0,ao(qt,`RPC '${e}' stream ${s} transport errored:`,b),g.Vo(new te(B.UNAVAILABLE,"The operation could not be completed")))}),y(h,vd.EventType.MESSAGE,b=>{var m;if(!p){const x=b.data[0];He(!!x);const v=x,j=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(j){Y(qt,`RPC '${e}' stream ${s} received error:`,j);const S=j.status;let E=function(_){const N=pt[_];if(N!==void 0)return jT(N)}(S),I=j.message;E===void 0&&(E=B.INTERNAL,I="Unknown error status: "+S+" with message "+j.message),p=!0,g.Vo(new te(E,I)),h.close()}else Y(qt,`RPC '${e}' stream ${s} received:`,x),g.mo(x)}}),y(l,CL.STAT_EVENT,b=>{b.stat===Aw.PROXY?Y(qt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Aw.NOPROXY&&Y(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new OM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,s,i,o,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new OT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NV extends LT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=VM(this.serializer,e),r=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?kr(o.readTime):me.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=lg(c)?{documents:$M(i,c)}:{query:BM(i,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=ST(i,o.resumeToken);const d=ug(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(me.min())>0){l.readTime=Uu(i,o.snapshotVersion.toTimestamp());const d=ug(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=HM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.t_(n)}}class SV extends LT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=UM(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.T_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=pg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,hg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,hg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class IV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mr(n),this.g_=!1):Y("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{aa(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ye(c);d.v_.add(4),await Fc(d),d.x_.set("Unknown"),d.v_.delete(4),await ef(d)}(this))})}),this.x_=new IV(r,s)}}async function ef(t){if(aa(t))for(const e of t.F_)await e(!0)}async function Fc(t){for(const e of t.F_)await e(!1)}function MT(t,e){const n=ye(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Oy(n)?Dy(n):So(n).Jo()&&Ry(n,e))}function VT(t,e){const n=ye(t),r=So(n);n.C_.delete(e),r.Jo()&&FT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():aa(n)&&n.x_.set("Unknown"))}function Ry(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).c_(e)}function FT(t,e){t.O_.Oe(e),So(t).l_(e)}function Dy(t){t.O_=new AM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.x_.p_()}function Oy(t){return aa(t)&&!So(t).Ho()&&t.C_.size>0}function aa(t){return ye(t).v_.size===0}function UT(t){t.O_=void 0}async function PV(t){t.C_.forEach((e,n)=>{Ry(t,e)})}async function AV(t,e){UT(t),Oy(t)?(t.x_.S_(e),Dy(t)):t.x_.set("Unknown")}async function kV(t,e,n){if(t.x_.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $u(t,r)}else if(e instanceof Hd?t.O_.$e(e):e instanceof ET?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(me.min()))try{const r=await DT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.O_.it(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(d);u&&i.C_.set(d,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),FT(i,c);const h=new ks(u.target,c,d,u.sequenceNumber);Ry(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await $u(t,r)}}async function $u(t,e,n){if(!Oc(e))throw e;t.v_.add(1),await Fc(t),t.x_.set("Offline"),n||(n=()=>DT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ef(t)})}function $T(t,e){return e().catch(n=>$u(t,n,e))}async function tf(t){const e=ye(t),n=ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;RV(e);)try{const s=await vV(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,DV(e,s)}catch(s){await $u(e,s)}BT(e)&&zT(e)}function RV(t){return aa(t)&&t.D_.length<10}function DV(t,e){t.D_.push(e);const n=ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function BT(t){return aa(t)&&!ei(t).Ho()&&t.D_.length>0}function zT(t){ei(t).start()}async function OV(t){ei(t).d_()}async function LV(t){const e=ei(t);for(const n of t.D_)e.I_(n.mutations)}async function MV(t,e,n){const r=t.D_.shift(),s=Ty.from(r,e,n);await $T(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await tf(t)}async function VV(t,e){e&&ei(t).P_&&await async function(r,s){if(function(o){return IM(o)&&o!==B.ABORTED}(s.code)){const i=r.D_.shift();ei(r).Zo(),await $T(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await tf(r)}}(t,e),BT(t)&&zT(t)}async function r0(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.v_.add(3),await Fc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ef(n)}async function FV(t,e){const n=ye(t);e?(n.v_.delete(2),await ef(n)):e||(n.v_.add(2),await Fc(n),n.x_.set("Unknown"))}function So(t){return t.N_||(t.N_=function(n,r,s){const i=ye(n);return i.R_(),new NV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:PV.bind(null,t),To:AV.bind(null,t),u_:kV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Oy(t)?Dy(t):t.x_.set("Unknown")):(await t.N_.stop(),UT(t))})),t.N_}function ei(t){return t.B_||(t.B_=function(n,r,s){const i=ye(n);return i.R_(),new SV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:OV.bind(null,t),To:VV.bind(null,t),E_:LV.bind(null,t),T_:MV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await tf(t)):(await t.B_.stop(),t.D_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ly(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Oc(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.L_=new lt(oe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):he():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new po(e,n,za.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.q_=void 0,this.Q_=[]}}class $V{constructor(){this.queries=new No(e=>dT(e),Kh),this.onlineState="Unknown",this.K_=new Set}}async function HT(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new UV),s)try{i.q_=await n.onListen(r)}catch(o){const l=My(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&Vy(n)}async function WT(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function BV(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Q_)l.W_(s)&&(r=!0);o.q_=s}}r&&Vy(n)}function zV(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Vy(t){t.K_.forEach(e=>{e.next()})}class qT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class HV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=_e(),this.mutatedKeys=_e(),this.ua=uT(e),this.ca=new za(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new s0,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Yh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.ua(p,c)>0||d&&this.ua(p,d)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(c||d)&&(l=!0)),b&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,h)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return y(p)-y(g)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,d=c!==this._a;return this._a=c,o.length!==0||d?{snapshot:new po(this.query,e.ca,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new s0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=_e(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new KT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new GT(r))}),n}Ra(e){this.oa=e.hs,this.aa=_e();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return po.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class WV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qV{constructor(e){this.key=e,this.ma=!1}}class GV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new No(l=>dT(l),Kh),this.pa=new Map,this.ya=new Set,this.wa=new lt(oe.comparator),this.Sa=new Map,this.ba=new Py,this.Da={},this.Ca=new Map,this.va=fo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function KV(t,e){const n=s2(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await yV(n.localStore,Ar(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await YV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&MT(n.remoteStore,o)}return s}async function YV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(y,b,m,x){let v=b.view.ha(m);v.Xi&&(v=await e0(y.localStore,b.query,!1).then(({documents:I})=>b.view.ha(I,v)));const j=x&&x.targetChanges.get(b.targetId),S=x&&x.targetMismatches.get(b.targetId)!=null,E=b.view.applyChanges(v,y.isPrimaryClient,j,S);return a0(y,b.targetId,E.da),E.snapshot}(t,h,f,p);const i=await e0(t.localStore,e,!0),o=new HV(e,i.hs),l=o.ha(i.documents),c=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);a0(t,n,d.da);const u=new WV(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),d.snapshot}async function QV(t,e){const n=ye(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Kh(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VT(n.remoteStore,r.targetId),gg(n,r.targetId)}).catch(Dc)):(gg(n,r.targetId),await mg(n.localStore,r.targetId,!0))}async function XV(t,e,n){const r=i2(t);try{const s=await function(o,l){const c=ye(o),d=jt.now(),u=l.reduce((p,g)=>p.add(g.key),_e());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ds(),y=_e();return c.os.getEntries(p,u).next(b=>{g=b,g.forEach((m,x)=>{x.isValidDocument()||(y=y.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;const m=[];for(const x of l){const v=jM(x,h.get(x.key).overlayedDocument);v!=null&&m.push(new di(x.key,v,nT(v.value.mapValue),Kn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,m,l)}).next(b=>{f=b;const m=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,m)})}).then(()=>({batchId:f.batchId,changes:fT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Da[o.currentUser.toKey()];d||(d=new lt(Oe)),d=d.insert(l,c),o.Da[o.currentUser.toKey()]=d}(r,s.batchId,n),await Uc(r,s.changes),await tf(r.remoteStore)}catch(s){const i=My(s,"Failed to persist write");n.reject(i)}}async function YT(t,e){const n=ye(t);try{const r=await mV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?He(o.ma):s.removedDocuments.size>0&&(He(o.ma),o.ma=!1))}),await Uc(n,r,e)}catch(r){await Dc(r)}}function i0(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const l=o.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ye(o);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const f of h.Q_)f.U_(l)&&(d=!0)}),d&&Vy(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JV(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new lt(oe.comparator);o=o.insert(i,Qt.newNoDocument(i,me.min()));const l=_e().add(i),c=new Jh(me.min(),new Map,new lt(Oe),o,l);await YT(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),Fy(r)}else await mg(r.localStore,e,!1).then(()=>gg(r,e,n)).catch(Dc)}async function ZV(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await pV(n.localStore,e);XT(n,r,null),QT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,s)}catch(s){await Dc(s)}}async function e2(t,e,n){const r=ye(t);try{const s=await function(o,l){const c=ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(He(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);XT(r,e,n),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uc(r,s)}catch(s){await Dc(s)}}function QT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function XT(t,e,n){const r=ye(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||JT(t,r)})}function JT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(VT(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Fy(t))}function a0(t,e,n){for(const r of n)r instanceof GT?(t.ba.addReference(r.key,e),t2(t,r)):r instanceof KT?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||JT(t,r.key)):he()}function t2(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.ya.add(r),Fy(t))}function Fy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new oe(Ke.fromString(e)),r=t.va.next();t.Sa.set(r,new qV(n)),t.wa=t.wa.insert(n,r),MT(t.remoteStore,new ks(Ar(Ey(n.path)),r,"TargetPurposeLimboResolution",yy._e))}}async function Uc(t,e,n){const r=ye(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const u=ky.Ki(c.targetId,d);i.push(u)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,d){const u=ye(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(d,f=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>z.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Oc(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(f,y)}}}(r.localStore,i))}async function n2(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await RT(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te(B.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.us)}}function r2(t,e){const n=ye(t),r=n.Sa.get(e);if(r&&r.ma)return _e().add(r.key);{let s=_e();const i=n.pa.get(e);if(!i)return s;for(const o of i){const l=n.ga.get(o);s=s.unionWith(l.view.la)}return s}}function s2(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.fa.u_=BV.bind(null,e.eventManager),e.fa.xa=zV.bind(null,e.eventManager),e}function i2(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,e),e}class o0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fV(this.persistence,new uV,e.initialUser,this.serializer)}createPersistence(e){return new lV(Ay.Hr,this.serializer)}createSharedClientState(e){return new bV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class a2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $V}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=function(i){return new EV(i)}(e.databaseInfo);return function(i,o,l,c){return new TV(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new CV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>i0(this.syncEngine,n,0),function(){return n0.D()?new n0:new wV}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,u){const h=new GV(s,i,o,l,c,d);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ye(r);Y("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Fc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=ZS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Y("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Y("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=My(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hp(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function l0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c2(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>r0(e.remoteStore,s)),t._onlineComponents=e}function l2(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function c2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!l2(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await hp(t,new o0)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await hp(t,new o0);return t._offlineComponents}async function e1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await l0(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await l0(t,new a2))),t._onlineComponents}function d2(t){return e1(t).then(e=>e.syncEngine)}async function t1(t){const e=await e1(t),n=e.eventManager;return n.onListen=KV.bind(null,e.syncEngine),n.onUnlisten=QV.bind(null,e.syncEngine),n}function u2(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new ZT({next:f=>{o.enqueueAndForget(()=>WT(i,h));const p=f.docs.has(l);!p&&f.fromCache?d.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new qT(Ey(l.path),u,{includeMetadataChanges:!0,Z_:!0});return HT(i,h)}(await t1(t),t.asyncQueue,e,n,r)),r.promise}function h2(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new ZT({next:f=>{o.enqueueAndForget(()=>WT(i,h)),f.fromCache&&c.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new qT(l,u,{includeMetadataChanges:!0,Z_:!0});return HT(i,h)}(await t1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f2(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d0(t){if(!oe.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u0(t){if(oe.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kL;switch(r.type){case"firstParty":return new LL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c0.get(n);r&&(Y("ComponentProvider","Removing Datastore"),c0.delete(n),r.terminate())}(this),Promise.resolve()}}function p2(t,e,n,r={}){var s;const i=(t=vr(t,rf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Kt.MOCK_USER;else{l=UN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kt(d)}t._authCredentials=new RL(new JS(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Gs extends To{constructor(e,n,r){super(e,n,Ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new oe(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function ce(t,e,...n){if(t=We(t),r1("collection","path",e),t instanceof rf){const r=Ke.fromString(e,...n);return u0(r),new Gs(t,null,r)}{if(!(t instanceof cn||t instanceof Gs))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return u0(r),new Gs(t.firestore,null,r)}}function Fe(t,e,...n){if(t=We(t),arguments.length===1&&(e=ZS.newId()),r1("doc","path",e),t instanceof rf){const r=Ke.fromString(e,...n);return d0(r),new cn(t,null,new oe(r))}{if(!(t instanceof cn||t instanceof Gs))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return d0(r),new cn(t.firestore,t instanceof Gs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new OT(this,"async_queue_retry"),this._u=()=>{const n=up();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Pr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Oc(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=Ly.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&he()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class oa extends rf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new m2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||s1(this),this._firestoreClient.terminate()}}function g2(t,e){const n=typeof t=="object"?t:Ph(),r=typeof t=="string"?t:e||"(default)",s=oi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=MN("firestore");i&&p2(s,...i)}return s}function Uy(t){return t._firestoreClient||s1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function s1(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,u){return new QL(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,n1(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new o2(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(nn.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^__.*__$/;class y2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class af{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Bu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(a1(this.du)&&v2.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class x2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Su(e,n,r,s=!1){return new af({du:e,methodName:n,wu:r,path:Mt.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new x2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o1(t,e,n,r,s,i={}){const o=t.Su(i.merge||i.mergeFields?2:0,e,n,s);Wy("Data must be an object, but it was:",o,r);const l=c1(r,o);let c,d;if(i.merge)c=new Cn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=vg(e,h,n);if(!o.contains(f))throw new te(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);u1(u,f)||u.push(f)}c=new Cn(u),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new y2(new yn(l),c,d)}class lf extends Io{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function l1(t,e,n){return new af({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class By extends Io{_toFieldTransform(e){return new Ny(e.path,new cc)}isEqual(e){return e instanceof By}}class zy extends Io{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=l1(this,e,!0),r=this.bu.map(i=>la(i,n)),s=new uo(r);return new Ny(e.path,s)}isEqual(e){return e instanceof zy&&Fi(this.bu,e.bu)}}class Hy extends Io{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=l1(this,e,!0),r=this.bu.map(i=>la(i,n)),s=new ho(r);return new Ny(e.path,s)}isEqual(e){return e instanceof Hy&&Fi(this.bu,e.bu)}}function b2(t,e,n,r){const s=t.Su(1,e,n);Wy("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();ia(r,(c,d)=>{const u=qy(e,c,n);d=We(d);const h=s.fu(u);if(d instanceof lf)i.push(u);else{const f=la(d,h);f!=null&&(i.push(u),o.set(u,f))}});const l=new Cn(i);return new i1(o,l,s.fieldTransforms)}function w2(t,e,n,r,s,i){const o=t.Su(1,e,n),l=[vg(e,r,n)],c=[s];if(i.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(vg(e,i[f])),c.push(i[f+1]);const d=[],u=yn.empty();for(let f=l.length-1;f>=0;--f)if(!u1(d,l[f])){const p=l[f];let g=c[f];g=We(g);const y=o.fu(p);if(g instanceof lf)d.push(p);else{const b=la(g,y);b!=null&&(d.push(p),u.set(p,b))}}const h=new Cn(d);return new i1(u,h,o.fieldTransforms)}function _2(t,e,n,r=!1){return la(n,t.Su(r?4:3,e))}function la(t,e){if(d1(t=We(t)))return Wy("Unsupported field value:",e,t),c1(t,e);if(t instanceof Io)return function(r,s){if(!a1(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=la(l,s.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=jt.fromDate(r);return{timestampValue:Uu(s.serializer,i)}}if(r instanceof jt){const i=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uu(s.serializer,i)}}if(r instanceof $y)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mo)return{bytesValue:ST(s.serializer,r._byteString)};if(r instanceof cn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${nf(r)}`)}(t,e)}function c1(t,e){const n={};return eT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,s)=>{const i=la(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function d1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof $y||t instanceof mo||t instanceof cn||t instanceof Io)}function Wy(t,e,n){if(!d1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=nf(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function vg(t,e,n){if((e=We(e))instanceof sf)return e._internalPath;if(typeof e=="string")return qy(t,e);throw Bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const j2=new RegExp("[~\\*/\\[\\]]");function qy(t,e,n){if(e.search(j2)>=0)throw Bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te(B.INVALID_ARGUMENT,l+t+c)}function u1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E2 extends h1{data(){return super.data()}}function Gy(t,e){return typeof e=="string"?qy(t,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class S2 extends Ky{}function jr(t,e,...n){let r=[];e instanceof Ky&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Yy).length,l=i.filter(c=>c instanceof cf).length;if(o>1||o>0&&l>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cf extends S2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cf(e,n,r)}_apply(e){const n=this._parse(e);return f1(e._query,n),new To(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=of(e.firestore);return function(i,o,l,c,d,u,h){let f;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){p0(h,u);const p=[];for(const g of h)p.push(f0(c,i,g));f={arrayValue:{values:p}}}else f=f0(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||p0(h,u),f=_2(l,o,h,u==="in"||u==="not-in");return vt.create(d,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(t,e,n){const r=e,s=Gy("where",t);return cf._create(s,r,n)}class Yy extends Ky{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)f1(o,c),o=cg(o,c)}(e._query,n),new To(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f0(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&n.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!oe.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mw(t,new oe(r))}if(n instanceof cn)return Mw(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function p0(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f1(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T2{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new $y(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=by(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);He(kT(r));const s=new oc(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Mr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m1 extends h1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wd extends m1{data(e={}){return super.data(e)}}class I2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wd(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Wd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ll(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Wd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ll(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:C2(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){t=vr(t,cn);const e=vr(t.firestore,oa);return u2(Uy(e),t._key).then(n=>A2(e,t,n))}class g1 extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Be(t){t=vr(t,To);const e=vr(t.firestore,oa),n=Uy(e),r=new g1(e);return N2(t._query),h2(n,t._query).then(s=>new I2(e,r,t,s))}function P2(t,e,n){t=vr(t,cn);const r=vr(t.firestore,oa),s=p1(t.converter,e,n);return df(r,[o1(of(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Kn.none())])}function en(t,e,n,...r){t=vr(t,cn);const s=vr(t.firestore,oa),i=of(s);let o;return o=typeof(e=We(e))=="string"||e instanceof sf?w2(i,"updateDoc",t._key,e,n,r):b2(i,"updateDoc",t._key,e),df(s,[o.toMutation(t._key,Kn.exists(!0))])}function hn(t){return df(vr(t.firestore,oa),[new Sy(t._key,Kn.none())])}function it(t,e){const n=vr(t.firestore,oa),r=Fe(t),s=p1(t.converter,e);return df(n,[o1(of(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function df(t,e){return function(r,s){const i=new Pr;return r.asyncQueue.enqueueAndForget(async()=>XV(await d2(r),s,i)),i.promise}(Uy(t),e)}function A2(t,e,n){const r=n.docs.get(e._key),s=new g1(t);return new m1(t,s,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}function k2(){return new By("serverTimestamp")}function R2(...t){return new zy("arrayUnion",t)}function v1(...t){return new Hy("arrayRemove",t)}(function(e,n=!0){(function(s){Eo=s})(ra),pr(new Xn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new oa(new DL(r.getProvider("auth-internal")),new VL(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(d.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),jn(kw,"4.4.2",e),jn(kw,"4.4.2","esm2017")})();var D2="firebase",O2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(D2,O2,"app");const y1="@firebase/installations",Qy="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1e4,b1=`w:${Qy}`,w1="FIS_v2",L2="https://firebaseinstallations.googleapis.com/v1",M2=60*60*1e3,V2="installations",F2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hi=new na(V2,F2,U2);function _1(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1({projectId:t}){return`${L2}/projects/${t}/installations`}function E1(t){return{token:t.token,requestStatus:2,expiresIn:B2(t.expiresIn),creationTime:Date.now()}}async function N1(t,e){const r=(await e.json()).error;return Hi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function S1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $2(t,{refreshToken:e}){const n=S1(t);return n.append("Authorization",z2(e)),n}async function T1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function B2(t){return Number(t.replace("s","000"))}function z2(t){return`${w1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=j1(t),s=S1(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:w1,appId:t.appId,sdkVersion:b1},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await T1(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:E1(d.authToken)}}else throw await N1("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^[cdef][\w-]{21}$/,yg="";function G2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=K2(t);return q2.test(n)?n:yg}catch{return yg}}function K2(t){return W2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;function P1(t,e){const n=uf(t);A1(n,e),Y2(n,e)}function A1(t,e){const n=C1.get(t);if(n)for(const r of n)r(e)}function Y2(t,e){const n=Q2();n&&n.postMessage({key:t,fid:e}),X2()}let Si=null;function Q2(){return!Si&&"BroadcastChannel"in self&&(Si=new BroadcastChannel("[Firebase] FID Change"),Si.onmessage=t=>{A1(t.data.key,t.data.fid)}),Si}function X2(){C1.size===0&&Si&&(Si.close(),Si=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firebase-installations-database",Z2=1,Wi="firebase-installations-store";let fp=null;function Xy(){return fp||(fp=WN(J2,Z2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wi)}}})),fp}async function zu(t,e){const n=uf(t),s=(await Xy()).transaction(Wi,"readwrite"),i=s.objectStore(Wi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&P1(t,e.fid),e}async function k1(t){const e=uf(t),r=(await Xy()).transaction(Wi,"readwrite");await r.objectStore(Wi).delete(e),await r.done}async function hf(t,e){const n=uf(t),s=(await Xy()).transaction(Wi,"readwrite"),i=s.objectStore(Wi),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&P1(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(t){let e;const n=await hf(t.appConfig,r=>{const s=eF(r),i=tF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===yg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eF(t){const e=t||{fid:G2(),registrationStatus:0};return R1(e)}function tF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Hi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rF(t)}:{installationEntry:e}}async function nF(t,e){try{const n=await H2(t,e);return zu(t.appConfig,n)}catch(n){throw _1(n)&&n.customData.serverCode===409?await k1(t.appConfig):await zu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rF(t){let e=await m0(t.appConfig);for(;e.registrationStatus===1;)await I1(100),e=await m0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Jy(t);return r||n}return e}function m0(t){return hf(t,e=>{if(!e)throw Hi.create("installation-not-found");return R1(e)})}function R1(t){return sF(t)?{fid:t.fid,registrationStatus:0}:t}function sF(t){return t.registrationStatus===1&&t.registrationTime+x1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF({appConfig:t,heartbeatServiceProvider:e},n){const r=aF(t,n),s=$2(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:b1,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await T1(()=>fetch(r,l));if(c.ok){const d=await c.json();return E1(d)}else throw await N1("Generate Auth Token",c)}function aF(t,{fid:e}){return`${j1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zy(t,e=!1){let n;const r=await hf(t.appConfig,i=>{if(!D1(i))throw Hi.create("not-registered");const o=i.authToken;if(!e&&cF(o))return i;if(o.requestStatus===1)return n=oF(t,e),i;{if(!navigator.onLine)throw Hi.create("app-offline");const l=uF(i);return n=lF(t,l),l}});return n?await n:r.authToken}async function oF(t,e){let n=await g0(t.appConfig);for(;n.authToken.requestStatus===1;)await I1(100),n=await g0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Zy(t,e):r}function g0(t){return hf(t,e=>{if(!D1(e))throw Hi.create("not-registered");const n=e.authToken;return hF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lF(t,e){try{const n=await iF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await zu(t.appConfig,r),n}catch(n){if(_1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await zu(t.appConfig,r)}throw n}}function D1(t){return t!==void 0&&t.registrationStatus===2}function cF(t){return t.requestStatus===2&&!dF(t)}function dF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M2}function uF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hF(t){return t.requestStatus===1&&t.requestTime+x1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Jy(e);return r?r.catch(console.error):Zy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e=!1){const n=t;return await mF(n),(await Zy(n,e)).token}async function mF(t){const{registrationPromise:e}=await Jy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(!t||!t.options)throw pp("App Configuration");if(!t.name)throw pp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pp(t){return Hi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="installations",vF="installations-internal",yF=t=>{const e=t.getProvider("app").getImmediate(),n=gF(e),r=oi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xF=t=>{const e=t.getProvider("app").getImmediate(),n=oi(e,O1).getImmediate();return{getId:()=>fF(n),getToken:s=>pF(n,s)}};function bF(){pr(new Xn(O1,yF,"PUBLIC")),pr(new Xn(vF,xF,"PRIVATE"))}bF();jn(y1,Qy);jn(y1,Qy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="analytics",wF="firebase_id",_F="origin",jF=60*1e3,EF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ex="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Ch("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new na("analytics","Analytics",NF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){if(!t.startsWith(ex)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return En.warn(e.message),""}return t}function L1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function TF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function IF(t,e){const n=TF("firebase-js-sdk-policy",{createScriptURL:SF}),r=document.createElement("script"),s=`${ex}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function CF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PF(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await L1(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){En.error(l)}t("config",s,i)}async function AF(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await L1(n);for(const c of o){const d=l.find(h=>h.measurementId===c),u=d&&e[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){En.error(i)}}function kF(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await AF(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await PF(t,e,n,r,l,c)}else if(i==="consent"){const[l]=o;t("consent","update",l)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){En.error(l)}}return s}function RF(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=kF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function DF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ex)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=30,LF=1e3;class MF{constructor(e={},n=LF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const M1=new MF;function VF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:VF(r)},i=EF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function UF(t,e=M1,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Rn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new zF;return setTimeout(async()=>{l.abort()},n!==void 0?n:jF),V1({appId:r,apiKey:s,measurementId:i},o,l,e)}async function V1(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=M1){var i;const{appId:o,measurementId:l}=t;try{await $F(r,e)}catch(c){if(l)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await FF(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!BF(d)){if(s.deleteThrottleMetadata(o),l)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const u=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?dw(n,s.intervalMillis,OF):dw(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),En.debug(`Calling attemptFetch again in ${u} millis`),V1(t,h,r,s)}}function $F(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BF(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class zF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HF(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(){if(Wv())try{await BN()}catch(t){return En.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return En.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qF(t,e,n,r,s,i,o){var l;const c=UF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>En.error(p)),e.push(c);const d=WF().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,d]);DF(i)||IF(i,u.measurementId),s("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[_F]="firebase",f.update=!0,h!=null&&(f[wF]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.app=e}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},v0=[];const y0={};let mp="dataLayer",KF="gtag",x0,F1,b0=!1;function YF(){const t=[];if($N()&&t.push("This is a browser extension environment."),dD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function QF(t,e,n){YF();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Nl[r]!=null)throw Rn.create("already-exists",{id:r});if(!b0){CF(mp);const{wrappedGtag:i,gtagCore:o}=RF(Nl,v0,y0,mp,KF);F1=i,x0=o,b0=!0}return Nl[r]=qF(t,v0,y0,e,x0,mp,n),new GF(t)}function XF(t=Ph()){t=We(t);const e=oi(t,Hu);return e.isInitialized()?e.getImmediate():JF(t)}function JF(t,e={}){const n=oi(t,Hu);if(n.isInitialized()){const s=n.getImmediate();if(Fi(e,n.getOptions()))return s;throw Rn.create("already-initialized")}return n.initialize({options:e})}function ZF(t,e,n,r){t=We(t),HF(F1,Nl[t.app.options.appId],e,n,r).catch(s=>En.error(s))}const w0="@firebase/analytics",_0="0.10.1";function eU(){pr(new Xn(Hu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return QF(r,s,n)},"PUBLIC")),pr(new Xn("analytics-internal",t,"PRIVATE")),jn(w0,_0),jn(w0,_0,"esm2017");function t(e){try{const n=e.getProvider(Hu).getImmediate();return{logEvent:(r,s,i)=>ZF(n,r,s,i)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}eU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebasestorage.googleapis.com",$1="storageBucket",tU=2*60*1e3,nU=10*60*1e3,rU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends er{constructor(e,n,r=0){super(gp(e),`Firebase Storage: ${n} (${gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qe||(Qe={}));function gp(t){return"storage/"+t}function tx(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(Qe.UNKNOWN,t)}function sU(t){return new ct(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iU(t){return new ct(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(Qe.UNAUTHENTICATED,t)}function oU(){return new ct(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lU(t){return new ct(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function B1(){return new ct(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z1(){return new ct(Qe.CANCELED,"User canceled the upload/download.")}function cU(t){return new ct(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}function dU(t){return new ct(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uU(){return new ct(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$1+"' property when initializing the app?")}function H1(){return new ct(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hU(){return new ct(Qe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function fU(){return new ct(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pU(t){return new ct(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new ct(Qe.INVALID_ARGUMENT,t)}function W1(){return new ct(Qe.APP_DELETED,"The Firebase app was deleted.")}function mU(t){return new ct(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(t,e){return new ct(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ho(t){throw new ct(Qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pn.makeFromUrl(e,n)}catch{return new Pn(e,"")}if(r.path==="")return r;throw dU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},y=n===U1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${b}`,"i"),v=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<v.length;j++){const S=v[j],E=S.regex.exec(e);if(E){const I=E[S.indices.bucket];let w=E[S.indices.path];w||(w=""),r=new Pn(I,w),S.postModify(r);break}}if(r==null)throw cU(e);return r}}class gU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...b){d||(d=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(p,c())},b)}function f(){i&&clearTimeout(i)}function p(b,...m){if(d){f();return}if(b){f(),u.call(null,b,...m);return}if(c()||o){f(),u.call(null,b,...m);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let g=!1;function y(b){g||(g=!0,f(),!d&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function yU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){return t!==void 0}function bU(t){return typeof t=="function"}function wU(t){return typeof t=="object"&&!Array.isArray(t)}function ff(t){return typeof t=="string"||t instanceof String}function j0(t){return nx()&&t instanceof Blob}function nx(){return typeof Blob<"u"}function E0(t,e,n,r){if(r<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function q1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ai||(Ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,r,s,i,o,l,c,d,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Ai.NO_ERROR,c=i.getStatus();if(!l||G1(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ai.ABORT;r(!1,new wd(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new wd(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());xU(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=tx();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?W1():z1();o(c)}else{const c=B1();o(c)}};this.canceled_?n(!1,new wd(!1,null,!0)):this.backoffId_=vU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TU(t,e,n,r,s,i,o=!0){const l=q1(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return NU(d,e),jU(d,n),EU(d,i),SU(d,r),new _U(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CU(...t){const e=IU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nx())return new Blob(t);throw new ct(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){if(typeof atob>"u")throw pU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vp{constructor(e,n){this.data=e,this.contentType=n||null}}function kU(t,e){switch(t){case Sr.RAW:return new vp(K1(e));case Sr.BASE64:case Sr.BASE64URL:return new vp(Y1(t,e));case Sr.DATA_URL:return new vp(DU(e),OU(e))}throw tx()}function K1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function RU(t){let e;try{e=decodeURIComponent(t)}catch{throw Sl(Sr.DATA_URL,"Malformed data URL.")}return K1(e)}function Y1(t,e){switch(t){case Sr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Sl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Sl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AU(e)}catch(s){throw s.message.includes("polyfill")?s:Sl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Q1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sl(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function DU(t){const e=new Q1(t);return e.base64?Y1(Sr.BASE64,e.rest):RU(e.rest)}function OU(t){return new Q1(t).contentType}function LU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let r=0,s="";j0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(j0(this.data_)){const r=this.data_,s=PU(r,e,n);return s===null?null:new Yr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(r,!0)}}static getBlob(...e){if(nx()){const n=e.map(r=>r instanceof Yr?r.data_:r);return new Yr(CU.apply(null,n))}else{const n=e.map(o=>ff(o)?kU(Sr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Yr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){let e;try{e=JSON.parse(t)}catch{return null}return wU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function J1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t,e){return e}class sn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||FU}}let _d=null;function UU(t){return!ff(t)||t.length<2?t:J1(t)}function rx(){if(_d)return _d;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(i,o){return UU(o)}const n=new sn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new sn("size");return s.xform=r,t.push(s),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),_d=t,_d}function $U(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Pn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function BU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return $U(r,t),r}function Z1(t,e,n){const r=X1(e);return r===null?null:BU(t,r,n)}function zU(t,e,n,r){const s=X1(e);if(s===null||!ff(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=Co(f,n,r),g=q1({alt:"media",token:d});return p+g})[0]}function eI(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ca{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){if(!t)throw tx()}function sx(t,e){function n(r,s){const i=Z1(t,s,e);return rs(i!==null),i}return n}function HU(t,e){function n(r,s){const i=Z1(t,s,e);return rs(i!==null),zU(i,s,t.host,t._protocol)}return n}function $c(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=oU():s=aU():n.getStatus()===402?s=iU(t.bucket):n.getStatus()===403?s=lU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ix(t){const e=$c(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=sU(t.path)),i.serverResponse=s.serverResponse,i}return n}function WU(t,e,n){const r=e.fullServerUrl(),s=Co(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ca(s,i,sx(t,n),o);return l.errorHandler=ix(e),l}function qU(t,e,n){const r=e.fullServerUrl(),s=Co(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ca(s,i,HU(t,n),o);return l.errorHandler=ix(e),l}function GU(t,e){const n=e.fullServerUrl(),r=Co(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const l=new ca(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=ix(e),l}function KU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=KU(null,e)),r}function nI(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let j=0;j<2;j++)v=v+Math.random().toString().slice(2);return v}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=tI(e,r,s),u=eI(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Yr.getBlob(h,r,f);if(p===null)throw H1();const g={name:d.fullPath},y=Co(i,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,x=new ca(y,b,sx(t,n),m);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=$c(e),x}class Wu{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function ax(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{rs(!1)}return rs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function YU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=tI(e,r,s),l={name:o.fullPath},c=Co(i,t.host,t._protocol),d="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=eI(o,n),f=t.maxUploadRetryTime;function p(y){ax(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{rs(!1)}return rs(ff(b)),b}const g=new ca(c,d,p,f);return g.urlParams=l,g.headers=u,g.body=h,g.errorHandler=$c(e),g}function QU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(d){const u=ax(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rs(!1)}h||rs(!1);const f=Number(h);return rs(!isNaN(f)),new Wu(f,r.size(),u==="final")}const o="POST",l=t.maxUploadRetryTime,c=new ca(n,o,i,l);return c.headers=s,c.errorHandler=$c(e),c}const N0=256*1024;function XU(t,e,n,r,s,i,o,l){const c=new Wu(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw hU();const d=c.total-c.current;let u=d;s>0&&(u=Math.min(u,s));const h=c.current,f=h+u;let p="";u===0?p="finalize":d===u?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},y=r.slice(h,f);if(y===null)throw H1();function b(j,S){const E=ax(j,["active","final"]),I=c.current+u,w=r.size();let _;return E==="final"?_=sx(e,i)(j,S):_=null,new Wu(I,w,E==="final",_)}const m="POST",x=e.maxUploadRetryTime,v=new ca(n,m,b,x);return v.headers=g,v.body=y.uploadData(),v.progressCallback=l||null,v.errorHandler=$c(t),v}const mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yp(t){switch(t){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JU=class{constructor(e,n,r){if(bU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ZU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e$ extends ZU{initXhr(){this.xhr_.responseType="text"}}function Es(){return new e$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=rx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Qe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(G1(s.status,[]))if(i)s=B1();else{this.sleepTime=Math.max(this.sleepTime*2,rU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Qe.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=YU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=QU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Es,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=N0*this._chunkMultiplier,n=new Wu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=XU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Es,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){N0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=WU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=nI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=z1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new JU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yp(this._state)){case mn.SUCCESS:pa(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:const n=this._reject;pa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yp(this._state)){case mn.RUNNING:case mn.PAUSED:e.next&&pa(e.next.bind(e,this.snapshot))();break;case mn.SUCCESS:e.complete&&pa(e.complete.bind(e))();break;case mn.CANCELED:case mn.ERROR:e.error&&pa(e.error.bind(e,this._error))();break;default:e.error&&pa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J1(this._location.path)}get storage(){return this._service}get parent(){const e=MU(this._location.path);if(e===null)return null;const n=new Pn(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mU(e)}}function n$(t,e,n){t._throwIfRoot("uploadBytes");const r=nI(t.storage,t._location,rx(),new Yr(e,!0),n);return t.storage.makeRequestWithTokens(r,Es).then(s=>({metadata:s,ref:t}))}function r$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new t$(t,new Yr(e),n)}function s$(t){t._throwIfRoot("getDownloadURL");const e=qU(t.storage,t._location,rx());return t.storage.makeRequestWithTokens(e,Es).then(n=>{if(n===null)throw fU();return n})}function i$(t){t._throwIfRoot("deleteObject");const e=GU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Es)}function a$(t,e){const n=VU(t._location.path,e),r=new Pn(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){return/^[A-Za-z]+:\/\//.test(t)}function l$(t,e){return new qi(t,e)}function rI(t,e){if(t instanceof ox){const n=t;if(n._bucket==null)throw uU();const r=new qi(n,n._bucket);return e!=null?rI(r,e):r}else return e!==void 0?a$(t,e):t}function c$(t,e){if(e&&o$(e)){if(t instanceof ox)return l$(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return rI(t,e)}function S0(t,e){const n=e==null?void 0:e[$1];return n==null?null:Pn.makeFromBucketSpec(n,t)}function d$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:UN(s,t.app.options.projectId))}class ox{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=U1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tU,this._maxUploadRetryTime=nU,this._requests=new Set,s!=null?this._bucket=Pn.makeFromBucketSpec(s,this._host):this._bucket=S0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=S0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new gU(W1());{const o=TU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const T0="@firebase/storage",I0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="storage";function $r(t,e,n){return t=We(t),n$(t,e,n)}function iI(t,e,n){return t=We(t),r$(t,e,n)}function Br(t){return t=We(t),s$(t)}function yr(t){return t=We(t),i$(t)}function Pe(t,e){return t=We(t),c$(t,e)}function u$(t=Ph(),e){t=We(t);const r=oi(t,sI).getImmediate({identifier:e}),s=MN("storage");return s&&h$(r,...s),r}function h$(t,e,n,r={}){d$(t,e,n,r)}function f$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ox(n,r,s,e,ra)}function p$(){pr(new Xn(sI,f$,"PUBLIC").setMultipleInstances(!0)),jn(T0,I0,""),jn(T0,I0,"esm2017")}p$();function lx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function aI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m$=aI,oI=new na("auth","Firebase",aI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Ch("@firebase/auth");function g$(t,...e){qu.logLevel<=Ne.WARN&&qu.warn(`Auth (${ra}): ${t}`,...e)}function qd(t,...e){qu.logLevel<=Ne.ERROR&&qu.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw cx(t,...e)}function Rr(t,...e){return cx(t,...e)}function lI(t,e,n){const r=Object.assign(Object.assign({},m$()),{[e]:n});return new na("auth","Firebase",r).create(e,{appName:t.name})}function v$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(t,"argument-error"),lI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oI.create(t,...e)}function de(t,e,...n){if(!t)throw cx(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function us(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y$(){return C0()==="http:"||C0()==="https:"}function C0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y$()||$N()||"connection"in navigator)?navigator.onLine:!0}function b$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=iD()||oD()}get(){return x$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=new Bc(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,r,s={}){return dI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Nc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),cI.fetch()(uI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function dI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w$),e);try{const s=new E$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw jd(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw lI(t,u,d);Zn(t,u)}}catch(s){if(s instanceof er)throw s;Zn(t,"network-request-failed",{message:String(s)})}}async function zc(t,e,n,r,s={}){const i=await zr(t,e,n,r,s);return"mfaPendingCredential"in i&&Zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function uI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?dx(t.config,s):`${t.config.apiScheme}://${s}`}function j$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),_$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function P0(t){return t!==void 0&&t.enterprise!==void 0}class N${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function S$(t,e){return zr(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function I$(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C$(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=ux(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tl(xp(s.auth_time)),issuedAtTime:Tl(xp(s.iat)),expirationTime:Tl(xp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function ux(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const s=ON(n);return s?JSON.parse(s):(qd("Failed to decode base64 JWT payload"),null)}catch(s){return qd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P$(t){const e=ux(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&A$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await go(t,I$(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?O$(i.providerUserInfo):[],l=D$(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function R$(t){const e=We(t);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function O$(t){return t.map(e=>{var{providerId:n}=e,r=lx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e){const n=await dI(t,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=uI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",cI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M$(t,e){return zr(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await L$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new dc;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dc,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=lx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await go(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C$(this,e)}reload(){return R$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await go(this,T$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:j,isAnonymous:S,providerData:E,stsTokenManager:I}=n;de(v&&I,e,"internal-error");const w=dc.fromJSON(this.name,I);de(typeof v=="string",e,"internal-error"),ys(h,e.name),ys(f,e.name),de(typeof j=="boolean",e,"internal-error"),de(typeof S=="boolean",e,"internal-error"),ys(p,e.name),ys(g,e.name),ys(y,e.name),ys(b,e.name),ys(m,e.name),ys(x,e.name);const _=new ki({uid:v,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:w,createdAt:m,lastLoginAt:x});return E&&Array.isArray(E)&&(_.providerData=E.map(N=>Object.assign({},N))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new dc;s.updateFromServerResponse(n);const i=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gu(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function ts(t){us(t instanceof Function,"Expected a class definition");let e=A0.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fI.type="NONE";const k0=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Gd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Gd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(ts(k0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ts(k0);const o=Gd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(o);if(u){const h=ki._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ha(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yI(e))return"Blackberry";if(xI(e))return"Webos";if(hx(e))return"Safari";if((e.includes("chrome/")||mI(e))&&!e.includes("edge/"))return"Chrome";if(vI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pI(t=bt()){return/firefox\//i.test(t)}function hx(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mI(t=bt()){return/crios\//i.test(t)}function gI(t=bt()){return/iemobile/i.test(t)}function vI(t=bt()){return/android/i.test(t)}function yI(t=bt()){return/blackberry/i.test(t)}function xI(t=bt()){return/webos/i.test(t)}function pf(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V$(t=bt()){var e;return pf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function F$(){return lD()&&document.documentMode===10}function bI(t=bt()){return pf(t)||vI(t)||xI(t)||yI(t)||/windows phone/i.test(t)||gI(t)}function U$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e=[]){let n;switch(t){case"Browser":n=R0(bt());break;case"Worker":n=`${R0(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e={}){return zr(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=6;class H${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:z$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new $$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?We(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B$(this),n=new H$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&g$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gs(t){return We(t)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mD(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q$(t){mf=t}function _I(t){return mf.loadJS(t)}function G$(){return mf.recaptchaEnterpriseScript}function K$(){return mf.gapiScript}function Y$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Q$="recaptcha-enterprise",X$="NO_RECAPTCHA";class J${constructor(e){this.type=Q$,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{S$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new N$(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;P0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(X$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&P0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=G$();c.length!==0&&(c+=l),_I(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function O0(t,e,n,r=!1){const s=new J$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ku(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await O0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await O0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){const n=oi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fi(i,e??{}))return s;Zn(s,"already-initialized")}return n.initialize({options:e})}function e4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t4(t,e,n){const r=gs(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=jI(e),{host:o,port:l}=n4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||r4()}function jI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n4(t){const e=jI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L0(o)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function s4(t,e){return zr(t,"POST","/v1/accounts:update",e)}async function i4(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){return zc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function EI(t,e){return zr(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function o4(t,e){return EI(t,e)}async function l4(t,e){return EI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function d4(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends fx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,n,"signInWithPassword",a4);case"emailLink":return c4(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(e,r,"signUpPassword",i4);case"emailLink":return d4(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e){return zc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="http://localhost";class Gi extends fx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=lx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Gi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:u4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f4(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class px{constructor(e){var n,r,s,i,o,l;const c=nl(rl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=h4((s=c.mode)!==null&&s!==void 0?s:null);de(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=f4(e);try{return new px(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=px.parseLink(n);return de(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends mx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Hc{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Hc{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Hc{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return zc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ki._fromIdTokenResponse(e,r,s),o=M0(r);return new Ki({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M0(r);return new Ki({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends er{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yu(e,n,r,s)}}function NI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yu._fromErrorAndOperation(t,i,e,r):i})}async function m4(t,e,n=!1){const r=await go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ki._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await go(t,NI(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=ux(i.idToken);de(o,r,"internal-error");const{sub:l}=o;return de(t.uid===l,r,"user-mismatch"),Ki._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t,e,n=!1){const r="signIn",s=await NI(t,r,e),i=await Ki._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function v4(t,e){return SI(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e,n){var r;de(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y4(t,e,n){const r=gs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&TI(r,s,n),await Ku(r,s,"getOobCode",l4)}async function V0(t,e,n){const r=gs(t),o=await Ku(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&II(t),c}),l=await Ki._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function x4(t,e,n){return v4(We(t),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&II(t),r})}async function b4(t,e){const n=We(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&TI(n.auth,s,e);const{email:i}=await o4(n.auth,s);i!==t.email&&await t.reload()}function w4(t,e){return _4(We(t),null,e)}async function _4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await go(t,s4(r,i));await t._updateTokensIfNecessary(o,!0)}function j4(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function E4(t,e,n){return We(t).beforeAuthStateChanged(e,n)}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){const t=bt();return hx(t)||pf(t)}const S4=1e3,T4=10;class PI extends CI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=N4()&&U$(),this.fallbackToPolling=bI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);F$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,T4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PI.type="LOCAL";const I4=PI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends CI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AI.type="SESSION";const kI=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await C4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=gx("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function A4(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function k4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D4(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebaseLocalStorageDb",O4=1,Xu="firebaseLocalStorage",OI="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function L4(){const t=indexedDB.deleteDatabase(DI);return new Wc(t).toPromise()}function wg(){const t=indexedDB.open(DI,O4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xu,{keyPath:OI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xu)?e(r):(r.close(),await L4(),e(await wg()))})})}async function F0(t,e,n){const r=vf(t,!0).put({[OI]:e,value:n});return new Wc(r).toPromise()}async function M4(t,e){const n=vf(t,!1).get(e),r=await new Wc(n).toPromise();return r===void 0?null:r.value}function U0(t,e){const n=vf(t,!0).delete(e);return new Wc(n).toPromise()}const V4=800,F4=3;class LI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>F4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(D4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await k4(),!this.activeServiceWorker)return;this.sender=new P4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await F0(e,Qu,"1"),await U0(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vf(s,!1).getAll();return new Wc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LI.type="LOCAL";const U4=LI;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){return e?ts(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends fx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $4(t){return SI(t.auth,new vx(t),t.bypassAuthState)}function B4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),g4(n,new vx(t),t.bypassAuthState)}async function z4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),m4(n,new vx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return B4;default:Zn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Bc(2e3,1e4);async function W4(t,e,n){const r=gs(t);v$(t,e,mx);const s=MI(r,n);return new Ti(r,"signInViaPopup",e,s).executeNotNull()}class Ti extends VI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=gx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H4.get())};e()}}Ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="pendingRedirect",Kd=new Map;class G4 extends VI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await K4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K4(t,e){const n=X4(e),r=Q4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Y4(t,e){Kd.set(t._key(),e)}function Q4(t){return ts(t._redirectPersistence)}function X4(t){return Gd(q4,t.config.apiKey,t.name)}async function J4(t,e,n=!1){const r=gs(t),s=MI(r,e),o=await new G4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=10*60*1e3;class e3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z4&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;async function i3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n3(t);for(const n of e)try{if(a3(n))return}catch{}Zn(t,"unauthorized-domain")}function a3(t){const e=bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s3.test(n))return!1;if(r3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Bc(3e4,6e4);function B0(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l3(t){return new Promise((e,n)=>{var r,s,i;function o(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Rr(t,"network-request-failed"))},timeout:o3.get()})}if(!((s=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Dr().gapi)===null||i===void 0)&&i.load)o();else{const l=Y$("iframefcb");return Dr()[l]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},_I(`${K$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function c3(t){return Yd=Yd||l3(t),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Bc(5e3,15e3),u3="__/auth/iframe",h3="emulator/auth/iframe",f3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m3(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dx(e,h3):`https://${t.config.authDomain}/${u3}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=p3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nc(r).slice(1)}`}async function g3(t){const e=await c3(t),n=Dr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:m3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),l=Dr().setTimeout(()=>{i(o)},d3.get());function c(){Dr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y3=500,x3=600,b3="_blank",w3="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _3(t,e,n,r=y3,s=x3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},v3),{width:r.toString(),height:s.toString(),top:i,left:o}),d=bt().toLowerCase();n&&(l=mI(d)?b3:n),pI(d)&&(e=e||w3,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(V$(d)&&l!=="_self")return j3(e||"",l),new z0(null);const h=window.open(e||"",l,u);de(h,t,"popup-blocked");try{h.focus()}catch{}return new z0(h)}function j3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="__/auth/handler",N3="emulator/auth/handler",S3=encodeURIComponent("fac");async function H0(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof mx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Hc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${S3}=${encodeURIComponent(c)}`:"";return`${T3(t)}?${Nc(l).slice(1)}${d}`}function T3({config:t}){return t.emulator?dx(t,N3):`https://${t.authDomain}/${E3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class I3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kI,this._completeRedirectFn=J4,this._overrideRedirectResult=Y4}async _openPopup(e,n,r,s){var i;us((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await H0(e,n,r,bg(),s);return _3(e,o,gx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await H0(e,n,r,bg(),s);return A4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(us(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g3(e),r=new e3(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bp];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bI()||hx()||pf()}}const C3=I3;var W0="@firebase/auth",q0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(t){pr(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wI(t)},d=new W$(r,s,i,c);return e4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Xn("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new P3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(W0,q0,A3(t)),jn(W0,q0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=5*60,D3=FN("authIdTokenMaxAge")||R3;let G0=null;const O3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D3)return;const s=n==null?void 0:n.token;G0!==s&&(G0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L3(t=Ph()){const e=oi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z$(t,{popupRedirectResolver:C3,persistence:[U4,I4,kI]}),r=FN("authTokenSyncURL");if(r){const i=O3(r);E4(n,i,()=>i(n.currentUser)),j4(n,o=>i(o))}const s=LN("auth");return s&&t4(n,`http://${s}`),n}function M3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",M3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");const V3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},yx=qN(V3),Ae=u$(yx);XF(yx);const G=g2(yx),Xt=L3(),F3=new Qr;function cr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ti(t){return!!t&&!!t[tt]}function hs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===K3}(t)||Array.isArray(t)||!!t[e_]||!!(!((e=t.constructor)===null||e===void 0)&&e[e_])||xx(t)||bx(t))}function Yi(t,e,n){n===void 0&&(n=!1),Ao(t)===0?(n?Object.keys:Ga)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Ao(t){var e=t[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xx(t)?2:bx(t)?3:0}function qa(t,e){return Ao(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function U3(t,e){return Ao(t)===2?t.get(e):t[e]}function UI(t,e,n){var r=Ao(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $I(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xx(t){return q3&&t instanceof Map}function bx(t){return G3&&t instanceof Set}function gi(t){return t.o||t.t}function wx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=zI(t);delete e[tt];for(var n=Ga(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function _x(t,e){return e===void 0&&(e=!1),jx(t)||ti(t)||!hs(t)||(Ao(t)>1&&(t.set=t.add=t.clear=t.delete=$3),Object.freeze(t),e&&Yi(t,function(n,r){return _x(r,!0)},!0)),t}function $3(){cr(2)}function jx(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Or(t){var e=Ng[t];return e||cr(18,t),e}function B3(t,e){Ng[t]||(Ng[t]=e)}function _g(){return hc}function wp(t,e){e&&(Or("Patches"),t.u=[],t.s=[],t.v=e)}function Ju(t){jg(t),t.p.forEach(z3),t.p=null}function jg(t){t===hc&&(hc=t.l)}function K0(t){return hc={p:[],l:hc,h:t,m:!0,_:0}}function z3(t){var e=t[tt];e.i===0||e.i===1?e.j():e.g=!0}function _p(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Or("ES5").S(e,t,r),r?(n[tt].P&&(Ju(e),cr(4)),hs(t)&&(t=Zu(e,t),e.l||eh(e,t)),e.u&&Or("Patches").M(n[tt].t,t,e.u,e.s)):t=Zu(e,n,[]),Ju(e),e.u&&e.v(e.u,e.s),t!==BI?t:void 0}function Zu(t,e,n){if(jx(e))return e;var r=e[tt];if(!r)return Yi(e,function(l,c){return Y0(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return eh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=wx(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),Yi(i,function(l,c){return Y0(t,r,s,l,c,n,o)}),eh(t,s,!1),n&&t.u&&Or("Patches").N(r,n,t.u,t.s)}return r.o}function Y0(t,e,n,r,s,i,o){if(ti(s)){var l=Zu(t,s,i&&e&&e.i!==3&&!qa(e.R,r)?i.concat(r):void 0);if(UI(n,r,l),!ti(l))return;t.m=!1}else o&&n.add(s);if(hs(s)&&!jx(s)){if(!t.h.D&&t._<1)return;Zu(t,s),e&&e.A.l||eh(t,s)}}function eh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&_x(e,n)}function jp(t,e){var n=t[tt];return(n?gi(n):t)[e]}function Q0(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Is(t){t.P||(t.P=!0,t.l&&Is(t.l))}function Ep(t){t.o||(t.o=wx(t.t))}function Eg(t,e,n){var r=xx(e)?Or("MapSet").F(e,n):bx(e)?Or("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),l={i:o?1:0,A:i?i.A:_g(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,d=fc;o&&(c=[l],d=cl);var u=Proxy.revocable(c,d),h=u.revoke,f=u.proxy;return l.k=f,l.j=h,f}(e,n):Or("ES5").J(e,n);return(n?n.A:_g()).p.push(r),r}function H3(t){return ti(t)||cr(22,t),function e(n){if(!hs(n))return n;var r,s=n[tt],i=Ao(n);if(s){if(!s.P&&(s.i<4||!Or("ES5").K(s)))return s.t;s.I=!0,r=X0(n,i),s.I=!1}else r=X0(n,i);return Yi(r,function(o,l){s&&U3(s.t,o)===l||UI(r,o,e(l))}),i===3?new Set(r):r}(t)}function X0(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return wx(t)}function W3(){function t(i,o){var l=s[i];return l?l.enumerable=o:s[i]=l={configurable:!0,enumerable:o,get:function(){var c=this[tt];return fc.get(c,i)},set:function(c){var d=this[tt];fc.set(d,i,c)}},l}function e(i){for(var o=i.length-1;o>=0;o--){var l=i[o][tt];if(!l.P)switch(l.i){case 5:r(l)&&Is(l);break;case 4:n(l)&&Is(l)}}}function n(i){for(var o=i.t,l=i.k,c=Ga(l),d=c.length-1;d>=0;d--){var u=c[d];if(u!==tt){var h=o[u];if(h===void 0&&!qa(o,u))return!0;var f=l[u],p=f&&f[tt];if(p?p.t!==h:!$I(f,h))return!0}}var g=!!o[tt];return c.length!==Ga(o).length+(g?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var s={};B3("ES5",{J:function(i,o){var l=Array.isArray(i),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=zI(h);delete g[tt];for(var y=Ga(g),b=0;b<y.length;b++){var m=y[b];g[m]=t(m,u||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),d={i:l?5:4,A:o?o.A:_g(),P:!1,I:!1,R:{},l:o,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,tt,{value:d,writable:!0}),c},S:function(i,o,l){l?ti(o)&&o[tt].A===i&&e(i.p):(i.u&&function c(d){if(d&&typeof d=="object"){var u=d[tt];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)Yi(f,function(v){v!==tt&&(h[v]!==void 0||qa(h,v)?p[v]||c(f[v]):(p[v]=!0,Is(u)))}),Yi(h,function(v){f[v]!==void 0||qa(f,v)||(p[v]=!1,Is(u))});else if(g===5){if(r(u)&&(Is(u),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var b=h.length;b<f.length;b++)p[b]=!0;for(var m=Math.min(f.length,h.length),x=0;x<m;x++)f.hasOwnProperty(x)||(p[x]=!0),p[x]===void 0&&c(f[x])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var J0,hc,Ex=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",q3=typeof Map<"u",G3=typeof Set<"u",Z0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",BI=Ex?Symbol.for("immer-nothing"):((J0={})["immer-nothing"]=!0,J0),e_=Ex?Symbol.for("immer-draftable"):"__$immer_draftable",tt=Ex?Symbol.for("immer-state"):"__$immer_state",K3=""+Object.prototype.constructor,Ga=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,zI=Object.getOwnPropertyDescriptors||function(t){var e={};return Ga(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Ng={},fc={get:function(t,e){if(e===tt)return t;var n=gi(t);if(!qa(n,e))return function(s,i,o){var l,c=Q0(i,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!hs(r)?r:r===jp(t.t,e)?(Ep(t),t.o[e]=Eg(t.A.h,r,t)):r},has:function(t,e){return e in gi(t)},ownKeys:function(t){return Reflect.ownKeys(gi(t))},set:function(t,e,n){var r=Q0(gi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=jp(gi(t),e),i=s==null?void 0:s[tt];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if($I(n,s)&&(n!==void 0||qa(t.t,e)))return!0;Ep(t),Is(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return jp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ep(t),Is(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=gi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){cr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){cr(12)}},cl={};Yi(fc,function(t,e){cl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),cl.deleteProperty=function(t,e){return cl.set.call(this,t,e,void 0)},cl.set=function(t,e,n){return fc.set.call(this,t[0],e,n,t[0])};var Y3=function(){function t(n){var r=this;this.O=Z0,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(y){var b=this;y===void 0&&(y=l);for(var m=arguments.length,x=Array(m>1?m-1:0),v=1;v<m;v++)x[v-1]=arguments[v];return c.produce(y,function(j){var S;return(S=i).call.apply(S,[b,j].concat(x))})}}var d;if(typeof i!="function"&&cr(6),o!==void 0&&typeof o!="function"&&cr(7),hs(s)){var u=K0(r),h=Eg(r,s,void 0),f=!0;try{d=i(h),f=!1}finally{f?Ju(u):jg(u)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(y){return wp(u,o),_p(y,u)},function(y){throw Ju(u),y}):(wp(u,o),_p(d,u))}if(!s||typeof s!="object"){if((d=i(s))===void 0&&(d=s),d===BI&&(d=void 0),r.D&&_x(d,!0),o){var p=[],g=[];Or("Patches").M(s,d,p,g),o(p,g)}return d}cr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(d){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(d,function(p){return s.apply(void 0,[p].concat(h))})};var o,l,c=r.produce(s,i,function(d,u){o=d,l=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,l]}):[c,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){hs(n)||cr(8),ti(n)&&(n=H3(n));var r=K0(this),s=Eg(this,n,void 0);return s[tt].C=!0,jg(r),s},e.finishDraft=function(n,r){var s=n&&n[tt],i=s.A;return wp(i,r),_p(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Z0&&cr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=Or("Patches").$;return ti(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),Ln=new Y3,HI=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseProxies.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Q3(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X3(t){var e=Q3(t,"string");return pc(e)=="symbol"?e:String(e)}function J3(t,e,n){return e=X3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function n_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(n),!0).forEach(function(r){J3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var r_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Np=function(){return Math.random().toString(36).substring(7).split("").join(".")},th={INIT:"@@redux/INIT"+Np(),REPLACE:"@@redux/REPLACE"+Np(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Np()}};function Z3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Nx(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gt(1));return n(Nx)(t,e)}if(typeof t!="function")throw new Error(Gt(2));var s=t,i=e,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(Gt(3));return i}function h(y){if(typeof y!="function")throw new Error(Gt(4));if(c)throw new Error(Gt(5));var b=!0;return d(),l.push(y),function(){if(b){if(c)throw new Error(Gt(6));b=!1,d();var x=l.indexOf(y);l.splice(x,1),o=null}}}function f(y){if(!Z3(y))throw new Error(Gt(7));if(typeof y.type>"u")throw new Error(Gt(8));if(c)throw new Error(Gt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var b=o=l,m=0;m<b.length;m++){var x=b[m];x()}return y}function p(y){if(typeof y!="function")throw new Error(Gt(10));s=y,f({type:th.REPLACE})}function g(){var y,b=h;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Gt(11));function v(){x.next&&x.next(u())}v();var j=b(v);return{unsubscribe:j}}},y[r_]=function(){return this},y}return f({type:th.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[r_]=g,r}function eB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:th.INIT});if(typeof r>"u")throw new Error(Gt(12));if(typeof n(void 0,{type:th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function WI(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{eB(n)}catch(l){o=l}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],y=c[p],b=g(y,d);if(typeof b>"u")throw d&&d.type,new Error(Gt(14));h[p]=b,u=u||b!==y}return u=u||i.length!==Object.keys(c).length,u?h:c}}function nh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function tB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Gt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(o)});return i=nh.apply(void 0,l)(s.dispatch),n_(n_({},s),{},{dispatch:i})}}}function qI(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(l){return typeof l=="function"?l(s,i,t):o(l)}}};return e}var GI=qI();GI.withExtraArgument=qI;const Sg=GI;var KI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nB=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},vo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},rB=Object.defineProperty,sB=Object.defineProperties,iB=Object.getOwnPropertyDescriptors,s_=Object.getOwnPropertySymbols,aB=Object.prototype.hasOwnProperty,oB=Object.prototype.propertyIsEnumerable,i_=function(t,e,n){return e in t?rB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ks=function(t,e){for(var n in e||(e={}))aB.call(e,n)&&i_(t,n,e[n]);if(s_)for(var r=0,s=s_(e);r<s.length;r++){var n=s[r];oB.call(e,n)&&i_(t,n,e[n])}return t},Sp=function(t,e){return sB(t,iB(e))},lB=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(d){s(d)}},o=function(c){try{l(n.throw(c))}catch(d){s(d)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,o)};l((n=n.apply(t,e)).next())})},cB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nh:nh.apply(null,arguments)};function dB(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Ys(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Ks(Ks({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var uB=function(t){KI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,vo([void 0],n.concat(this))))},e}(Array),hB=function(t){KI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,vo([void 0],n.concat(this))))},e}(Array);function Tg(t){return hs(t)?HI(t,function(){}):t}function fB(t){return typeof t=="boolean"}function pB(){return function(e){return mB(e)}}function mB(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new uB;return n&&(fB(n)?r.push(Sg):r.push(Sg.withExtraArgument(n.extraArgument))),r}var gB=!0;function vB(t){var e=pB(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,d=n.preloadedState,u=d===void 0?void 0:d,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(dB(s))p=WI(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=tB.apply(void 0,g),b=nh;c&&(b=cB(Ks({trace:!gB},typeof c=="object"&&c)));var m=new hB(y),x=m;Array.isArray(f)?x=vo([y],f):typeof f=="function"&&(x=f(m));var v=b.apply(void 0,x);return Nx(p,u,v)}function YI(t){var e={},n=[],r,s={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function yB(t){return typeof t=="function"}function xB(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?YI(e):[e,n,r],i=s[0],o=s[1],l=s[2],c;if(yB(t))c=function(){return Tg(t())};else{var d=Tg(t);c=function(){return d}}function u(h,f){h===void 0&&(h=c());var p=vo([i[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,y){if(y)if(ti(g)){var b=g,m=y(b,f);return m===void 0?g:m}else{if(hs(g))return HI(g,function(x){return y(x,f)});var m=y(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return u.getInitialState=c,u}function bB(t,e){return t+"/"+e}function rn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Tg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},l={};s.forEach(function(u){var h=r[u],f=bB(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[u]=p,o[f]=p,l[u]=g?Ys(f,g):Ys(f)});function c(){var u=typeof t.extraReducers=="function"?YI(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,y=u[2],b=y===void 0?void 0:y,m=Ks(Ks({},f),o);return xB(n,function(x){for(var v in m)x.addCase(v,m[v]);for(var j=0,S=g;j<S.length;j++){var E=S[j];x.addMatcher(E.matcher,E.reducer)}b&&x.addDefaultCase(b)})}var d;return{name:e,reducer:function(u,h){return d||(d=c()),d(u,h)},actions:l,caseReducers:i,getInitialState:function(){return d||(d=c()),d.getInitialState()}}}var wB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_B=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=wB[Math.random()*64|0];return e},jB=["name","message","stack","code"],Tp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),a_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),EB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=jB;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Ys(e+"/fulfilled",function(d,u,h,f){return{payload:d,meta:Sp(Ks({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),i=Ys(e+"/pending",function(d,u,h){return{payload:void 0,meta:Sp(Ks({},h||{}),{arg:u,requestId:d,requestStatus:"pending"})}}),o=Ys(e+"/rejected",function(d,u,h,f,p){return{payload:f,error:(r&&r.serializeError||EB)(d||"Rejected"),meta:Sp(Ks({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function d(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return d.prototype.abort=function(){},d}();function c(d){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(d):_B(),g=new l,y;function b(x){y=x,g.abort()}var m=function(){return lB(this,null,function(){var x,v,j,S,E,I,w;return nB(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),S=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,d,{getState:h,extra:f}),SB(S)?[4,S]:[3,2];case 1:S=_.sent(),_.label=2;case 2:if(S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(N,P){return g.signal.addEventListener("abort",function(){return P({name:"AbortError",message:y||"Aborted"})})}),u(i(p,d,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:d},{getState:h,extra:f}))),[4,Promise.race([E,Promise.resolve(n(d,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:b,rejectWithValue:function(N,P){return new Tp(N,P)},fulfillWithValue:function(N,P){return new a_(N,P)}})).then(function(N){if(N instanceof Tp)throw N;return N instanceof a_?s(N.payload,p,d,N.meta):s(N,p,d)})])];case 3:return j=_.sent(),[3,5];case 4:return I=_.sent(),j=I instanceof Tp?o(null,p,d,I.payload,I.meta):o(I,p,d),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(j)&&j.meta.condition,w||u(j),[2,j]}})})}();return Object.assign(m,{abort:b,requestId:p,arg:d,unwrap:function(){return m.then(NB)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function NB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function SB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Sx="listenerMiddleware";Ys(Sx+"/add");Ys(Sx+"/removeAll");Ys(Sx+"/remove");var o_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);W3();const l_={email:"",userType:"",isVarified:!1},QI=rn({name:"UserAuth",initialState:l_,reducers:{getUserAuthSuccessAction:(t,e)=>({...t,email:e.payload.email,userType:e.payload.userType,isVarified:e.payload.isVarified}),getUserAuthLogoutAction:t=>({...t,initialState:l_})}}),{getUserAuthSuccessAction:TB,getUserAuthLogoutAction:c_}=QI.actions,d_={data:[]},XI=rn({name:"News",initialState:d_,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=d_.data}}}),{getNewsSuccessAction:IB,getNewsFailedAction:eq}=XI.actions,u_={data:[]},JI=rn({name:"Slider",initialState:u_,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=u_.data}}}),{getSliderSuccessAction:CB,getSliderFailedAction:tq}=JI.actions,h_={data:[]},ZI=rn({name:"Publications",initialState:h_,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=h_.data}}}),{getPublicationsSuccessAction:PB,getPublicationsFailedAction:nq}=ZI.actions,f_={data:[]},eC=rn({name:"Supervisors",initialState:f_,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=f_.data}}}),{getSupervisorsSuccessAction:AB,getSupervisorsFailedAction:rq}=eC.actions,p_={data:[]},tC=rn({name:"Phd",initialState:p_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=p_.data}}}),{getPhdSuccessAction:kB,getPhdFailedAction:sq}=tC.actions,m_={data:[]},nC=rn({name:"PHUG",initialState:m_,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=m_.data}}}),{getPHUGSuccessAction:RB,getPHUGFailedAction:iq}=nC.actions,g_={data:[]},rC=rn({name:"VisitorsAndInterns",initialState:g_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=g_.data}}}),{getVisitorsAndInternsSuccessAction:DB,getVisitorsAndInternsFailedAction:aq}=rC.actions,v_={data:[]},sC=rn({name:"Datasets",initialState:v_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=v_.data}}}),{getDatasetsSuccessAction:OB,getDatasetsFailedAction:oq}=sC.actions,y_={data:[]},iC=rn({name:"ResearchArea",initialState:y_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=y_.data}}}),{getResearchAreaSuccessAction:LB,getResearchAreaFailedAction:lq}=iC.actions,x_={data:[]},aC=rn({name:"SubAreas",initialState:x_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=x_.data}}}),{getSubAreasSuccessAction:MB,getSubAreasFailedAction:cq}=aC.actions,b_={data:[]},oC=rn({name:"ProjectsItems",initialState:b_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=b_.data}}}),{getProjectsItemsSuccessAction:VB,getProjectsItemsFailedAction:dq}=oC.actions,w_={data:[]},lC=rn({name:"ProjectsMain",initialState:w_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=w_.data}}}),{getProjectsMainSuccessAction:FB,getProjectsMainFailedAction:uq}=lC.actions,__={data:[]},cC=rn({name:"Gallery",initialState:__,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=__.data}}}),{getGallerySuccessAction:UB,getGalleryFailedAction:hq}=cC.actions,j_={data:[]},dC=rn({name:"Datasets",initialState:j_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=j_.data}}}),{getAlertsSuccessAction:uC,getAlertsFailedAction:fq}=dC.actions,E_={data:[]},hC=rn({name:"ProjectsImages",initialState:E_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=E_.data}}}),{getProjectsImagesSuccessAction:$B,getProjectsImagesFailedAction:pq}=hC.actions,BB=WI({getauth:QI.reducer,getnews:XI.reducer,getslider:JI.reducer,getpublications:ZI.reducer,getsupervisors:eC.reducer,getphdStudents:tC.reducer,getpgugStudents:nC.reducer,getvisitorsandinterns:rC.reducer,getdatasets:sC.reducer,getresearcharea:iC.reducer,getsubareas:aC.reducer,getprojectitems:oC.reducer,getprojectsmain:lC.reducer,getgallery:cC.reducer,getalerts:dC.reducer,getprojectsimages:hC.reducer});var Tx="persist:",fC="persist/FLUSH",Ix="persist/REHYDRATE",pC="persist/PAUSE",mC="persist/PERSIST",gC="persist/PURGE",vC="persist/REGISTER",zB=-1;function Qd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qd=function(n){return typeof n}:Qd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qd(t)}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(n,!0).forEach(function(r){WB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t,e,n,r){r.debug;var s=HB({},n);return t&&Qd(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function GB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Tx).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(S){return S}:typeof t.serialize=="function"?l=t.serialize:l=KB;var c=t.writeFailHandler||null,d={},u={},h=[],f=null,p=null,g=function(S){Object.keys(S).forEach(function(E){m(E)&&d[E]!==S[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(d).forEach(function(E){S[E]===void 0&&m(E)&&h.indexOf(E)===-1&&d[E]!==void 0&&h.push(E)}),f===null&&(f=setInterval(y,s)),d=S};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var j=h.shift(),S=r.reduce(function(E,I){return I.in(E,j,d)},d[j]);if(S!==void 0)try{u[j]=l(S)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete u[j];h.length===0&&b()}function b(){Object.keys(u).forEach(function(j){d[j]===void 0&&delete u[j]}),p=o.setItem(i,l(u)).catch(x)}function m(j){return!(n&&n.indexOf(j)===-1&&j!=="_persist"||e&&e.indexOf(j)!==-1)}function x(j){c&&c(j)}var v=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:v}}function KB(t){return JSON.stringify(t)}function YB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Tx).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=QB,r.getItem(n).then(function(i){if(i)try{var o={},l=s(i);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(d,u){return u.out(d,c,l)},s(l[c]))}),o}catch(c){throw c}else return})}function QB(t){return JSON.parse(t)}function XB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Tx).concat(t.key);return e.removeItem(n,JB)}function JB(t){}function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(n,!0).forEach(function(r){ZB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t,e){if(t==null)return{};var n=tz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var nz=5e3;function rz(t,e){var n=t.version!==void 0?t.version:zB;t.debug;var r=t.stateReconciler===void 0?qB:t.stateReconciler,s=t.getStoredState||YB,i=t.timeout!==void 0?t.timeout:nz,o=null,l=!1,c=!0,d=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=ez(f,["_persist"]),y=g;if(h.type===mC){var b=!1,m=function(w,_){b||(h.rehydrate(t.key,w,_),b=!0)};if(i&&setTimeout(function(){!b&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=GB(t)),p)return Hr({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(I){var w=t.migrate||function(_,N){return Promise.resolve(_)};w(I,n).then(function(_){m(_)},function(_){m(void 0,_)})},function(I){m(void 0,I)}),Hr({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===gC)return l=!0,h.result(XB(t)),Hr({},e(y,h),{_persist:p});if(h.type===fC)return h.result(o&&o.flush()),Hr({},e(y,h),{_persist:p});if(h.type===pC)c=!0;else if(h.type===Ix){if(l)return Hr({},y,{_persist:Hr({},p,{rehydrated:!0})});if(h.key===t.key){var x=e(y,h),v=h.payload,j=r!==!1&&v!==void 0?r(v,u,x,t):x,S=Hr({},j,{_persist:Hr({},p,{rehydrated:!0})});return d(S)}}}if(!p)return e(u,h);var E=e(y,h);return E===y?u:d(Hr({},E,{_persist:p}))}}function T_(t){return az(t)||iz(t)||sz()}function sz(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function iz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function az(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(n,!0).forEach(function(r){oz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yC={registry:[],bootstrapped:!1},lz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yC,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case vC:return Ig({},e,{registry:[].concat(T_(e.registry),[n.key])});case Ix:var r=e.registry.indexOf(n.key),s=T_(e.registry);return s.splice(r,1),Ig({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function cz(t,e,n){var r=n||!1,s=Nx(lz,yC,e&&e.enhancer?e.enhancer:void 0),i=function(d){s.dispatch({type:vC,key:d})},o=function(d,u,h){var f={type:Ix,payload:u,err:h,key:d};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Ig({},s,{purge:function(){var d=[];return t.dispatch({type:gC,result:function(h){d.push(h)}}),Promise.all(d)},flush:function(){var d=[];return t.dispatch({type:fC,result:function(h){d.push(h)}}),Promise.all(d)},pause:function(){t.dispatch({type:pC})},persist:function(){t.dispatch({type:mC,register:i,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var xC={},Cx={},Px={};Object.defineProperty(Px,"__esModule",{value:!0});function Ed(){}const dz={getItem:Ed,setItem:Ed,removeItem:Ed,keys:[],getAllKeys:Ed};function uz(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function hz(t){const e=`${t}Storage`;return uz(e)?self[e]:dz}Px.default=hz;var fz=Pl&&Pl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cx,"__esModule",{value:!0});const pz=fz(Px);function mz(t){const e=(0,pz.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}Cx.default=mz;var gz=Pl&&Pl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xC,"__esModule",{value:!0});const vz=gz(Cx),yz=(0,vz.default)("session");var xz=xC.default=yz;const bz={key:"root",storage:xz},wz=rz(bz,BB),ft=vB({reducer:wz,middleware:[Sg]}),_z=cz(ft),qc=async()=>{try{const t=ce(G,"publications"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ft.dispatch(PB(n))}catch(t){console.error("Error fetching Publications:",t)}};async function jz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=Fe(G,"publications",t);await hn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var bC={exports:{}},wC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=T;function Ez(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nz=typeof Object.is=="function"?Object.is:Ez,Sz=Gc.useSyncExternalStore,Tz=Gc.useRef,Iz=Gc.useEffect,Cz=Gc.useMemo,Pz=Gc.useDebugValue;wC.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Tz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Cz(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,Nz(u,p))return g;var y=r(p);return s!==void 0&&s(g,y)?g:(u=p,h=y)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=Sz(t,i[0],i[1]);return Iz(function(){o.hasValue=!0,o.value=l},[l]),Pz(l),l};bC.exports=wC;var Az=bC.exports,An="default"in Wp?De:Wp,C_=Symbol.for("react-redux-context"),P_=typeof globalThis<"u"?globalThis:{};function kz(){if(!An.createContext)return{};const t=P_[C_]??(P_[C_]=new Map);let e=t.get(An.createContext);return e||(e=An.createContext(null),t.set(An.createContext,e)),e}var ni=kz(),Rz=()=>{throw new Error("uSES not initialized!")};function Ax(t=ni){return function(){return An.useContext(t)}}var _C=Ax(),jC=Rz,Dz=t=>{jC=t},Oz=(t,e)=>t===e;function Lz(t=ni){const e=t===ni?_C:Ax(t),n=(r,s={})=>{const{equalityFn:i=Oz,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:d,stabilityCheck:u,identityFunctionCheck:h}=e();An.useRef(!0);const f=An.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=jC(c.addNestedSub,l.getState,d||l.getState,f,i);return An.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var J=Lz();function Mz(t){t()}function Vz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var A_={notify(){},get:()=>[]};function Fz(t,e){let n,r=A_,s=0,i=!1;function o(y){u();const b=r.subscribe(y);let m=!1;return()=>{m||(m=!0,b(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Vz())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=A_)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Uz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$z=Uz?An.useLayoutEffect:An.useEffect;function Bz({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=An.useMemo(()=>{const d=Fz(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=An.useMemo(()=>t.getState(),[t]);$z(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=e||ni;return An.createElement(c.Provider,{value:o},n)}var zz=Bz;function EC(t=ni){const e=t===ni?_C:Ax(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Hz=EC();function Wz(t=ni){const e=t===ni?Hz:EC(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var qz=Wz();Dz(Az.useSyncExternalStoreWithSelector);const fs=async()=>{try{const t=ce(G,"supervisors"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i.profileImage,c=l?await Gz(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ft.dispatch(AB(n))}catch(t){console.error("Error fetching Supervisors:",t)}},Gz=async t=>{try{const e=Pe(Ae,`/peoples/supervisor_profile_images/${t}`);return await Br(e)}catch{return null}};async function Kz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=Fe(G,"supervisors",t),s=(await Jn(e)).data().profileImage;if(await hn(e),s){const i=Pe(Ae,`/peoples/supervisor_profile_images/${s}`);await yr(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var NC={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Pl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(w,_){var N=(_=_||{}).dynamicTyping||!1;if(I(N)&&(_.dynamicTypingFunction=N,N={}),_.dynamicTyping=N,_.transform=!!I(_.transform)&&_.transform,_.worker&&c.WORKERS_SUPPORTED){var P=function(){if(!c.WORKERS_SUPPORTED)return!1;var k=(U=r.URL||r.webkitURL||null,D=n.toString(),c.BLOB_URL||(c.BLOB_URL=U.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))),A=new r.Worker(k),U,D;return A.onmessage=x,A.id=l++,o[A.id]=A}();return P.userStep=_.step,P.userChunk=_.chunk,P.userComplete=_.complete,P.userError=_.error,_.step=I(_.step),_.chunk=I(_.chunk),_.complete=I(_.complete),_.error=I(_.error),delete _.worker,void P.postMessage({input:w,config:_,workerId:P.id})}var C=null;return c.NODE_STREAM_INPUT,typeof w=="string"?(w=function(k){return k.charCodeAt(0)===65279?k.slice(1):k}(w),C=_.download?new h(_):new p(_)):w.readable===!0&&I(w.read)&&I(w.on)?C=new g(_):(r.File&&w instanceof File||w instanceof Object)&&(C=new f(_)),C.stream(w)},unparse:function(w,_){var N=!1,P=!0,C=",",k=`\r
`,A='"',U=A+A,D=!1,M=null,O=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return _.delimiter.indexOf(R)!==-1}).length||(C=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(N=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(D=_.skipEmptyLines),typeof _.newline=="string"&&(k=_.newline),typeof _.quoteChar=="string"&&(A=_.quoteChar),typeof _.header=="boolean"&&(P=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");M=_.columns}_.escapeChar!==void 0&&(U=_.escapeChar+A),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(O=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(b(A),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return $(null,w,D);if(typeof w[0]=="object")return $(M||Object.keys(w[0]),w,D)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||M),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),$(w.fields||[],w.data||[],D);throw new Error("Unable to serialize unrecognized input");function $(R,F,K){var ne="";typeof R=="string"&&(R=JSON.parse(R)),typeof F=="string"&&(F=JSON.parse(F));var le=Array.isArray(R)&&0<R.length,fe=!Array.isArray(F[0]);if(le&&P){for(var Ee=0;Ee<R.length;Ee++)0<Ee&&(ne+=C),ne+=H(R[Ee],Ee);0<F.length&&(ne+=k)}for(var ee=0;ee<F.length;ee++){var ue=le?R.length:F[ee].length,se=!1,be=le?Object.keys(F[ee]).length===0:F[ee].length===0;if(K&&!le&&(se=K==="greedy"?F[ee].join("").trim()==="":F[ee].length===1&&F[ee][0].length===0),K==="greedy"&&le){for(var ge=[],Se=0;Se<ue;Se++){var Ie=fe?R[Se]:Se;ge.push(F[ee][Ie])}se=ge.join("").trim()===""}if(!se){for(var ae=0;ae<ue;ae++){0<ae&&!be&&(ne+=C);var ke=le&&fe?R[ae]:ae;ne+=H(F[ee][ke],ae)}ee<F.length-1&&(!K||0<ue&&!be)&&(ne+=k)}}return ne}function H(R,F){if(R==null)return"";if(R.constructor===Date)return JSON.stringify(R).slice(1,25);var K=!1;O&&typeof R=="string"&&O.test(R)&&(R="'"+R,K=!0);var ne=R.toString().replace(L,U);return(K=K||N===!0||typeof N=="function"&&N(R,F)||Array.isArray(N)&&N[F]||function(le,fe){for(var Ee=0;Ee<fe.length;Ee++)if(-1<le.indexOf(fe[Ee]))return!0;return!1}(ne,c.BAD_DELIMITERS)||-1<ne.indexOf(C)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?A+ne+A:ne}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=y,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var d=r.jQuery;d.fn.parse=function(w){var _=w.config||{},N=[];return this.each(function(k){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var A=0;A<this.files.length;A++)N.push({file:this.files[A],inputElem:this,instanceConfig:d.extend({},_)})}),P(),this;function P(){if(N.length!==0){var k,A,U,D,M=N[0];if(I(w.before)){var O=w.before(M.file,M.inputElem);if(typeof O=="object"){if(O.action==="abort")return k="AbortError",A=M.file,U=M.inputElem,D=O.reason,void(I(w.error)&&w.error({name:k},A,U,D));if(O.action==="skip")return void C();typeof O.config=="object"&&(M.instanceConfig=d.extend(M.instanceConfig,O.config))}else if(O==="skip")return void C()}var L=M.instanceConfig.complete;M.instanceConfig.complete=function($){I(L)&&L($,M.file,M.inputElem),C()},c.parse(M.file,M.instanceConfig)}else I(w.complete)&&w.complete()}function C(){N.splice(0,1),P()}}}function u(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var N=S(_);N.chunkSize=parseInt(N.chunkSize),_.step||_.chunk||(N.chunkSize=null),this._handle=new y(N),(this._handle.streamer=this)._config=N}).call(this,w),this.parseChunk=function(_,N){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(_);P!==void 0&&(_=P)}this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+_;this._partialLine="";var k=this._handle.parse(C,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var A=k.meta.cursor;this._finished||(this._partialLine=C.substring(A-this._baseIndex),this._baseIndex=A),k&&k.data&&(this._rowCount+=k.data.length);var U=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:k,workerId:c.WORKER_ID,finished:U});else if(I(this._config.chunk)&&!N){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);k=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!U||!I(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),U||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(_){I(this._config.error)?this._config.error(_):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function h(w){var _;(w=w||{}).chunkSize||(w.chunkSize=c.RemoteChunkSize),u.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=E(this._chunkLoaded,this),_.onerror=E(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var P in N)_.setRequestHeader(P,N[P])}if(this._config.chunkSize){var C=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+C)}try{_.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var P=N.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(N){var P=_.statusText||N;this._sendError(new Error(P))}}function f(w){var _,N;(w=w||{}).chunkSize||(w.chunkSize=c.LocalChunkSize),u.call(this,w);var P=typeof FileReader<"u";this.stream=function(C){this._input=C,N=C.slice||C.webkitSlice||C.mozSlice,P?((_=new FileReader).onload=E(this._chunkLoaded,this),_.onerror=E(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var k=Math.min(this._start+this._config.chunkSize,this._input.size);C=N.call(C,this._start,k)}var A=_.readAsText(C,this._config.encoding);P||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(w){var _;u.call(this,w=w||{}),this.stream=function(N){return _=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,P=this._config.chunkSize;return P?(N=_.substring(0,P),_=_.substring(P)):(N=_,_=""),this._finished=!_,this.parseChunk(N)}}}function g(w){u.call(this,w=w||{});var _=[],N=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):N=!0},this._streamData=E(function(C){try{_.push(typeof C=="string"?C:C.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(k){this._streamError(k)}},this),this._streamError=E(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=E(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(w){var _,N,P,C=Math.pow(2,53),k=-C,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,M=0,O=0,L=!1,$=!1,H=[],R={data:[],errors:[],meta:{}};if(I(w.step)){var F=w.step;w.step=function(ee){if(R=ee,le())ne();else{if(ne(),R.data.length===0)return;M+=ee.data.length,w.preview&&M>w.preview?N.abort():(R.data=R.data[0],F(R,D))}}}function K(ee){return w.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function ne(){return R&&P&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),w.skipEmptyLines&&(R.data=R.data.filter(function(ee){return!K(ee)})),le()&&function(){if(!R)return;function ee(se,be){I(w.transformHeader)&&(se=w.transformHeader(se,be)),H.push(se)}if(Array.isArray(R.data[0])){for(var ue=0;le()&&ue<R.data.length;ue++)R.data[ue].forEach(ee);R.data.splice(0,1)}else R.data.forEach(ee)}(),function(){if(!R||!w.header&&!w.dynamicTyping&&!w.transform)return R;function ee(se,be){var ge,Se=w.header?{}:[];for(ge=0;ge<se.length;ge++){var Ie=ge,ae=se[ge];w.header&&(Ie=ge>=H.length?"__parsed_extra":H[ge]),w.transform&&(ae=w.transform(ae,Ie)),ae=fe(Ie,ae),Ie==="__parsed_extra"?(Se[Ie]=Se[Ie]||[],Se[Ie].push(ae)):Se[Ie]=ae}return w.header&&(ge>H.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+ge,O+be):ge<H.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+ge,O+be)),Se}var ue=1;return!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(ee),ue=R.data.length):R.data=ee(R.data,0),w.header&&R.meta&&(R.meta.fields=H),O+=ue,R}()}function le(){return w.header&&H.length===0}function fe(ee,ue){return se=ee,w.dynamicTypingFunction&&w.dynamicTyping[se]===void 0&&(w.dynamicTyping[se]=w.dynamicTypingFunction(se)),(w.dynamicTyping[se]||w.dynamicTyping)===!0?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&(function(be){if(A.test(be)){var ge=parseFloat(be);if(k<ge&&ge<C)return!0}return!1}(ue)?parseFloat(ue):U.test(ue)?new Date(ue):ue===""?null:ue):ue;var se}function Ee(ee,ue,se,be){var ge={type:ee,code:ue,message:se};be!==void 0&&(ge.row=be),R.errors.push(ge)}this.parse=function(ee,ue,se){var be=w.quoteChar||'"';if(w.newline||(w.newline=function(Ie,ae){Ie=Ie.substring(0,1048576);var ke=new RegExp(b(ae)+"([^]*?)"+b(ae),"gm"),Z=(Ie=Ie.replace(ke,"")).split("\r"),$e=Ie.split(`
`),Et=1<$e.length&&$e[0].length<Z[0].length;if(Z.length===1||Et)return`
`;for(var Nt=0,Me=0;Me<Z.length;Me++)Z[Me][0]===`
`&&Nt++;return Nt>=Z.length/2?`\r
`:"\r"}(ee,be)),P=!1,w.delimiter)I(w.delimiter)&&(w.delimiter=w.delimiter(ee),R.meta.delimiter=w.delimiter);else{var ge=function(Ie,ae,ke,Z,$e){var Et,Nt,Me,X;$e=$e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Xe=0;Xe<$e.length;Xe++){var W=$e[Xe],Re=0,Le=0,zt=0;Me=void 0;for(var Nn=new m({comments:Z,delimiter:W,newline:ae,preview:10}).parse(Ie),tr=0;tr<Nn.data.length;tr++)if(ke&&K(Nn.data[tr]))zt++;else{var nr=Nn.data[tr].length;Le+=nr,Me!==void 0?0<nr&&(Re+=Math.abs(nr-Me),Me=nr):Me=nr}0<Nn.data.length&&(Le/=Nn.data.length-zt),(Nt===void 0||Re<=Nt)&&(X===void 0||X<Le)&&1.99<Le&&(Nt=Re,Et=W,X=Le)}return{successful:!!(w.delimiter=Et),bestDelimiter:Et}}(ee,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);ge.successful?w.delimiter=ge.bestDelimiter:(P=!0,w.delimiter=c.DefaultDelimiter),R.meta.delimiter=w.delimiter}var Se=S(w);return w.preview&&w.header&&Se.preview++,_=ee,N=new m(Se),R=N.parse(_,ue,se),ne(),L?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,N.abort(),_=I(w.chunk)?"":_.substring(N.getCharIndex())},this.resume=function(){D.streamer._halted?(L=!1,D.streamer.parseChunk(_,!0)):setTimeout(D.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,N.abort(),R.meta.aborted=!0,I(w.complete)&&w.complete(R),_=""}}function b(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(w){var _,N=(w=w||{}).delimiter,P=w.newline,C=w.comments,k=w.step,A=w.preview,U=w.fastMode,D=_=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(D=w.escapeChar),(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=","),C===N)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var M=0,O=!1;this.parse=function(L,$,H){if(typeof L!="string")throw new Error("Input must be a string");var R=L.length,F=N.length,K=P.length,ne=C.length,le=I(k),fe=[],Ee=[],ee=[],ue=M=0;if(!L)return Un();if(w.header&&!$){var se=L.split(P)[0].split(N),be=[],ge={},Se=!1;for(var Ie in se){var ae=se[Ie];I(w.transformHeader)&&(ae=w.transformHeader(ae,Ie));var ke=ae,Z=ge[ae]||0;for(0<Z&&(Se=!0,ke=ae+"_"+Z),ge[ae]=Z+1;be.includes(ke);)ke=ke+"_"+Z;be.push(ke)}if(Se){var $e=L.split(P);$e[0]=be.join(N),L=$e.join(P)}}if(U||U!==!1&&L.indexOf(_)===-1){for(var Et=L.split(P),Nt=0;Nt<Et.length;Nt++){if(ee=Et[Nt],M+=ee.length,Nt!==Et.length-1)M+=P.length;else if(H)return Un();if(!C||ee.substring(0,ne)!==C){if(le){if(fe=[],zt(ee.split(N)),Yc(),O)return Un()}else zt(ee.split(N));if(A&&A<=Nt)return fe=fe.slice(0,A),Un(!0)}}return Un()}for(var Me=L.indexOf(N,M),X=L.indexOf(P,M),Xe=new RegExp(b(D)+b(_),"g"),W=L.indexOf(_,M);;)if(L[M]!==_)if(C&&ee.length===0&&L.substring(M,M+ne)===C){if(X===-1)return Un();M=X+K,X=L.indexOf(P,M),Me=L.indexOf(N,M)}else if(Me!==-1&&(Me<X||X===-1))ee.push(L.substring(M,Me)),M=Me+F,Me=L.indexOf(N,M);else{if(X===-1)break;if(ee.push(L.substring(M,X)),nr(X+K),le&&(Yc(),O))return Un();if(A&&fe.length>=A)return Un(!0)}else for(W=M,M++;;){if((W=L.indexOf(_,W+1))===-1)return H||Ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fe.length,index:M}),tr();if(W===R-1)return tr(L.substring(M,W).replace(Xe,_));if(_!==D||L[W+1]!==D){if(_===D||W===0||L[W-1]!==D){Me!==-1&&Me<W+1&&(Me=L.indexOf(N,W+1)),X!==-1&&X<W+1&&(X=L.indexOf(P,W+1));var Re=Nn(X===-1?Me:Math.min(Me,X));if(L.substr(W+1+Re,F)===N){ee.push(L.substring(M,W).replace(Xe,_)),L[M=W+1+Re+F]!==_&&(W=L.indexOf(_,M)),Me=L.indexOf(N,M),X=L.indexOf(P,M);break}var Le=Nn(X);if(L.substring(W+1+Le,W+1+Le+K)===P){if(ee.push(L.substring(M,W).replace(Xe,_)),nr(W+1+Le+K),Me=L.indexOf(N,M),W=L.indexOf(_,M),le&&(Yc(),O))return Un();if(A&&fe.length>=A)return Un(!0);break}Ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fe.length,index:M}),W++}}else W++}return tr();function zt($n){fe.push($n),ue=M}function Nn($n){var Hx=0;if($n!==-1){var _f=L.substring(W+1,$n);_f&&_f.trim()===""&&(Hx=_f.length)}return Hx}function tr($n){return H||($n===void 0&&($n=L.substring(M)),ee.push($n),M=R,zt(ee),le&&Yc()),Un()}function nr($n){M=$n,zt(ee),ee=[],X=L.indexOf(P,M)}function Un($n){return{data:fe,errors:Ee,meta:{delimiter:N,linebreak:P,aborted:O,truncated:!!$n,cursor:ue+($||0)}}}function Yc(){k(Un()),fe=[],Ee=[]}},this.abort=function(){O=!0},this.getCharIndex=function(){return M}}function x(w){var _=w.data,N=o[_.workerId],P=!1;if(_.error)N.userError(_.error,_.file);else if(_.results&&_.results.data){var C={abort:function(){P=!0,v(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(I(N.userStep)){for(var k=0;k<_.results.data.length&&(N.userStep({data:_.results.data[k],errors:_.results.errors,meta:_.results.meta},C),!P);k++);delete _.results}else I(N.userChunk)&&(N.userChunk(_.results,C,_.file),delete _.results)}_.finished&&!P&&v(_.workerId,_.results)}function v(w,_){var N=o[w];I(N.userComplete)&&N.userComplete(_),N.terminate(),delete o[w]}function j(){throw new Error("Not implemented.")}function S(w){if(typeof w!="object"||w===null)return w;var _=Array.isArray(w)?[]:{};for(var N in w)_[N]=S(w[N]);return _}function E(w,_){return function(){w.apply(_,arguments)}}function I(w){return typeof w=="function"}return i&&(r.onmessage=function(w){var _=w.data;if(c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0});else if(r.File&&_.input instanceof File||_.input instanceof Object){var N=c.parse(_.input,_.config);N&&r.postMessage({workerId:c.WORKER_ID,results:N,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(NC);var Yz=NC.exports;const SC=yo(Yz);function TC(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const Qz=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,Xz=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`;let Nd;const Jz=new Uint8Array(16);function Zz(){if(!Nd&&(Nd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nd(Jz)}const Rt=[];for(let t=0;t<256;++t)Rt.push((t+256).toString(16).slice(1));function e9(t,e=0){return Rt[t[e+0]]+Rt[t[e+1]]+Rt[t[e+2]]+Rt[t[e+3]]+"-"+Rt[t[e+4]]+Rt[t[e+5]]+"-"+Rt[t[e+6]]+Rt[t[e+7]]+"-"+Rt[t[e+8]]+Rt[t[e+9]]+"-"+Rt[t[e+10]]+Rt[t[e+11]]+Rt[t[e+12]]+Rt[t[e+13]]+Rt[t[e+14]]+Rt[t[e+15]]}const t9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),k_={randomUUID:t9};function kx(t,e,n){if(k_.randomUUID&&!e&&!t)return k_.randomUUID();t=t||{};const r=t.random||(t.rng||Zz)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return e9(r)}const V=(t,e)=>{const n=ft.getState().getalerts.data;ft.dispatch(uC([...n,{id:kx(),type:t,content:e}]))},n9=()=>{const t=J(A=>A.getpublications.data),e=J(A=>A.getauth),n=J(A=>A.getsupervisors.data),[r,s]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(""),[d,u]=T.useState(""),[h,f]=T.useState(""),[p,g]=T.useState(""),[y,b]=T.useState(""),[m,x]=T.useState(""),[v,j]=T.useState(""),[S,E]=T.useState(""),[I,w]=T.useState(""),[_,N]=T.useState(e!=null&&e.userType.includes("SUPERVISOR")?[e==null?void 0:e.email]:[]),[P,C]=T.useState(!1);T.useEffect(()=>{qc(),fs()},[]);const k=A=>{if(A.preventDefault(),!r||!i||!l||!d||!h||!p||!y||!m||!v||!S||!I){V("danger","Please fill all required fields!");return}C(!0),it(ce(G,"publications"),{paperTitle:r,paperType:i,publisher:l,publicationDate:d,link:h,author:p,journalName:y,pages:m,volume:v,impact:S,isbn:I,users:_}).then(()=>{V("success","Publication has been saved! You can view it in the admin panel."),C(!1),window.location.reload()}).catch(()=>{V("danger","Error adding Publication! Please try again later."),C(!1)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"List of Publications"}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),a.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((A,U)=>{var Ee,ee;const{paperTitle:D,author:M,impact:O,link:L,pages:$,publisher:H,publicationDate:R,volume:F,journalName:K,paperType:ne,isbn:le,users:fe}=A==null?void 0:A.data;return a.jsxs("tr",{children:[a.jsx("td",{children:U+1}),a.jsx("td",{className:"fw-bold text-danger",children:D==null?void 0:D.stringValue}),a.jsx("td",{children:M==null?void 0:M.stringValue}),a.jsx("td",{children:O==null?void 0:O.stringValue}),a.jsx("td",{children:$==null?void 0:$.stringValue}),a.jsx("td",{children:H==null?void 0:H.stringValue}),a.jsx("td",{children:R==null?void 0:R.stringValue}),a.jsx("td",{children:F==null?void 0:F.stringValue}),a.jsx("td",{children:K==null?void 0:K.stringValue}),a.jsx("td",{children:ne==null?void 0:ne.stringValue}),a.jsx("td",{children:le==null?void 0:le.stringValue}),a.jsx("td",{children:a.jsx("a",{href:L==null?void 0:L.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(Ee=e==null?void 0:e.userType)!=null&&Ee.includes("ADMIN")||(ee=fe==null?void 0:fe.arrayValue)!=null&&ee.values.some(ue=>(ue==null?void 0:ue.stringValue)==e.email)?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(re,{className:"dropdown-item text-primary",to:A==null?void 0:A._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>jz(A._id),children:"Delete"})})]}):"NA"})]})})]},A._id)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:k,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:r,onChange:A=>s(A.target.value),required:!0,disabled:P})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{disabled:e.userType.includes("SUPERVISOR")&&!e.userType.includes("ADMIN"),name:"userEmail",className:"form-control",onChange:A=>{const U=A.target.value;if(!(!_||U==""))if(U==="other"){let D=prompt("Please enter supervisor Email (ie. user@gmail.com):");D&&N([..._,D])}else _.includes(U)?alert("User with this name already existed."):N([..._,U])},children:[a.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((A,U)=>{var D,M,O;return a.jsxs("option",{value:(D=A==null?void 0:A.data)==null?void 0:D.email,children:[(M=A==null?void 0:A.data)==null?void 0:M.name,"-",(O=A==null?void 0:A.data)==null?void 0:O.email]},U)}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:_==null?void 0:_.map((A,U)=>a.jsxs("span",{className:"badge bg-success",children:[A," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("SUPERVISOR"))&&confirm("Are you sure want to remove?")){const D=_.filter(M=>M!==A);N(D)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},U))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:i,onChange:A=>o(A.target.value),required:!0,disabled:P,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:l,onChange:A=>c(A.target.value),required:!0,disabled:P})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:d,onChange:A=>u(A.target.value),required:!0,disabled:P,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((A,U)=>a.jsx("option",{value:2008+U,children:2008+U},U))]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:h,onChange:A=>f(A.target.value),disabled:P})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:A=>g(A.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:P})]}),a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:y,onChange:A=>b(A.target.value),required:!0,disabled:P}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:m,onChange:A=>x(A.target.value),disabled:P})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:A=>j(A.target.value),disabled:P})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:S,onChange:A=>E(A.target.value),disabled:P})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:I,onChange:A=>w(A.target.value),disabled:P})]})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:P,children:P?"Please Wait...":"Submit"})]})})]})})}),a.jsx(r9,{getsupervisors:n,userType:e==null?void 0:e.userType,userEmail:e==null?void 0:e.email})]})},r9=({getsupervisors:t,userType:e,userEmail:n})=>{const r=T.useRef(null),[s,i]=T.useState(!1),[o,l]=T.useState(e.includes("SUPERVISOR")?[n]:[]),[c,d]=T.useState([]),u=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&SC.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));d(m)},header:!0})},h=async p=>{try{return!(await Be(jr(ce(G,"publications"),lr("paperTitle","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){V("danger","Error! Please select supervisors.");return}if(!c.length){V("danger","ERROR! Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return it(ce(G,"publications"),{paperTitle:b[2],paperType:b[0],publisher:b[3],publicationDate:b[4],link:b[7],author:b[1],journalName:b[5],pages:b[9],volume:b[6],impact:b[8],isbn:b[10],users:o})});await Promise.all(g),V("success","Publications have been saved!"),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Publications"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),a.jsxs("select",{disabled:e.includes("SUPERVISOR")&&!e.includes("ADMIN"),name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.name,children:[(b=p==null?void 0:p.data)==null?void 0:b.name,"-",(m=p==null?void 0:p.data)==null?void 0:m.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(e!=="SUPERVISOR"&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>TC(Qz,Xz,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{ref:r,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:u})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})},Rx=async()=>{try{const t=ce(G,"news"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,d=i.title.stringValue;n.push({_id:o,title:d,datetime1:c,description:l})});await Promise.all(r),ft.dispatch(IB(n))}catch(t){console.error("Error fetching news:",t)}};async function s9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=Fe(G,"news",t);await hn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function i9(t,e){try{const n=Fe(G,"news",t),i={...(await Jn(n)).data(),...e};await P2(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const R_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:o,_id:l})=>a.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),a.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:o,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),a9=()=>{const t=J(h=>h.getnews).data,[e,n]=T.useState(),[r,s]=T.useState(),[i,o]=T.useState(),[l,c]=T.useState(!1);T.useEffect(()=>{Rx()},[]);const d=()=>{if(!e||!r||!i){V("danger","Please fill all required fields.");return}c(!0),it(ce(G,"news"),{title:r,timestamp:i,description:e}).then(()=>{V("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{V("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},u=h=>{o(h.datetime1),s(h.title)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Latest News"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h.title}),a.jsx("td",{children:o9(h==null?void 0:h.datetime1)}),a.jsx("td",{children:h.description}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>s9(h._id),children:"Delete"})}),a.jsxs("li",{children:[a.jsx("button",{className:"dropdown-item text-primary",onClick:()=>u(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),a.jsx(R_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>i9(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})]})]})})]},f))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),a.jsx(R_,{_id:"AddNewsModal",submitHandler:d,datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})},o9=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},l9=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=async i=>{if(i.preventDefault(),t!==n||t===""||n===""){V("warning","Passwords do not match");return}const o=Xt.currentUser;if(!o){location.href="/CVPR_LAB/#/";return}o?w4(o,n).then(()=>{V("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(l=>{V("danger","Error while changing the password, Message: "+c9(l.code).toUpperCase())}):V("danger","No user is currently signed in."),r(""),e("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Change Password"})}),a.jsx("hr",{}),a.jsxs("form",{className:"card g-3 p-3 gap-3 my-3 rounded-1 ",onSubmit:s,noValidate:!0,children:[a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),a.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:i=>e(i.target.value),required:!0}),a.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:i=>r(i.target.value),required:!0})]}),a.jsx("div",{className:"",children:a.jsx("button",{type:"submit",className:"btn btn-primary text-uppercase w-full w-100 p-3",children:"Submit"})})]})]})})};function c9(t){const e=t.indexOf("/");return e!==-1?t.substring(e+1):""}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function IC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){h9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function d9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PC(r.key),r)}}function u9(t,e,n){return e&&O_(t.prototype,e),n&&O_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h9(t,e,n){return e=PC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CC(t){return f9(t)||p9(t)||m9(t)||g9()}function f9(t){if(Array.isArray(t))return Pg(t)}function p9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m9(t,e){if(t){if(typeof t=="string")return Pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(t,e)}}function Pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PC(t){var e=v9(t,"string");return typeof e=="symbol"?e:String(e)}var yf=typeof window<"u"&&typeof window.document<"u",Fr=yf?window:{},Dx=yf&&Fr.document.documentElement?"ontouchstart"in Fr.document.documentElement:!1,Ox=yf?"PointerEvent"in Fr:!1,Ze="cropper",Lx="all",AC="crop",kC="move",RC="zoom",ui="e",hi="w",ma="s",xs="n",Wo="ne",qo="nw",Go="se",Ko="sw",Ag="".concat(Ze,"-crop"),L_="".concat(Ze,"-disabled"),gn="".concat(Ze,"-hidden"),M_="".concat(Ze,"-hide"),y9="".concat(Ze,"-invisible"),rh="".concat(Ze,"-modal"),kg="".concat(Ze,"-move"),mc="".concat(Ze,"Action"),Sd="".concat(Ze,"Preview"),Mx="crop",DC="move",OC="none",Rg="crop",Dg="cropend",Og="cropmove",Lg="cropstart",V_="dblclick",x9=Dx?"touchstart":"mousedown",b9=Dx?"touchmove":"mousemove",w9=Dx?"touchend touchcancel":"mouseup",F_=Ox?"pointerdown":x9,U_=Ox?"pointermove":b9,$_=Ox?"pointerup pointercancel":w9,B_="ready",z_="resize",H_="wheel",Mg="zoom",W_="image/jpeg",_9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,j9=/^data:/,E9=/^data:image\/jpeg;base64,/,N9=/^img|canvas$/i,LC=200,MC=100,q_={viewMode:0,dragMode:Mx,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:LC,minContainerHeight:MC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},S9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',T9=Number.isNaN||Fr.isNaN;function we(t){return typeof t=="number"&&!T9(t)}var G_=function(e){return e>0&&e<1/0};function Ip(t){return typeof t>"u"}function Qi(t){return Cg(t)==="object"&&t!==null}var I9=Object.prototype.hasOwnProperty;function Ra(t){if(!Qi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&I9.call(n,"isPrototypeOf")}catch{return!1}}function pn(t){return typeof t=="function"}var C9=Array.prototype.slice;function VC(t){return Array.from?Array.from(t):C9.call(t)}function yt(t,e){return t&&pn(e)&&(Array.isArray(t)||we(t.length)?VC(t).forEach(function(n,r){e.call(t,n,r,t)}):Qi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var nt=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Qi(e)&&r.length>0&&r.forEach(function(i){Qi(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},P9=/\.\d*(?:0|9){12}\d*$/;function Ka(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return P9.test(t)?Math.round(t*e)/e:t}var A9=/^width|height|left|top|marginLeft|marginTop$/;function Rs(t,e){var n=t.style;yt(e,function(r,s){A9.test(s)&&we(r)&&(r="".concat(r,"px")),n[s]=r})}function k9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function St(t,e){if(e){if(we(t.length)){yt(t,function(r){St(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Lr(t,e){if(e){if(we(t.length)){yt(t,function(n){Lr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Da(t,e,n){if(e){if(we(t.length)){yt(t,function(r){Da(r,e,n)});return}n?St(t,e):Lr(t,e)}}var R9=/([a-z\d])([A-Z])/g;function Vx(t){return t.replace(R9,"$1-$2").toLowerCase()}function Vg(t,e){return Qi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Vx(e)))}function gc(t,e,n){Qi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Vx(e)),n)}function D9(t,e){if(Qi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Vx(e)))}var FC=/\s\s*/,UC=function(){var t=!1;if(yf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Fr.addEventListener("test",n,r),Fr.removeEventListener("test",n,r)}return t}();function sr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(FC).forEach(function(i){if(!UC){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Bn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(FC).forEach(function(i){if(r.once&&!UC){var o=t.listeners,l=o===void 0?{}:o;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function Ya(t,e,n){var r;return pn(Event)&&pn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function $C(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Cp=Fr.location,O9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function K_(t){var e=t.match(O9);return e!==null&&(e[1]!==Cp.protocol||e[2]!==Cp.hostname||e[3]!==Cp.port)}function Y_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Il(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];we(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),we(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),we(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),we(n)&&n!==1&&o.push("scaleX(".concat(n,")")),we(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function L9(t){var e=IC({},t),n=0;return yt(t,function(r,s){delete e[s],yt(e,function(i){var o=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),d=Math.abs(r.endY-i.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),f=(h-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Td(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:IC({startX:n,startY:r},s)}function M9(t){var e=0,n=0,r=0;return yt(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ds(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=G_(r),o=G_(n);if(i&&o){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function V9(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),l=e*o+n*i,c=e*i+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function F9(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,y=n.naturalHeight,b=r.fillColor,m=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,v=x===void 0?!0:x,j=r.imageSmoothingQuality,S=j===void 0?"low":j,E=r.maxWidth,I=E===void 0?1/0:E,w=r.maxHeight,_=w===void 0?1/0:w,N=r.minWidth,P=N===void 0?0:N,C=r.minHeight,k=C===void 0?0:C,A=document.createElement("canvas"),U=A.getContext("2d"),D=Ds({aspectRatio:p,width:I,height:_}),M=Ds({aspectRatio:p,width:P,height:k},"cover"),O=Math.min(D.width,Math.max(M.width,g)),L=Math.min(D.height,Math.max(M.height,y)),$=Ds({aspectRatio:s,width:I,height:_}),H=Ds({aspectRatio:s,width:P,height:k},"cover"),R=Math.min($.width,Math.max(H.width,i)),F=Math.min($.height,Math.max(H.height,o)),K=[-R/2,-F/2,R,F];return A.width=Ka(O),A.height=Ka(L),U.fillStyle=m,U.fillRect(0,0,O,L),U.save(),U.translate(O/2,L/2),U.rotate(c*Math.PI/180),U.scale(u,f),U.imageSmoothingEnabled=v,U.imageSmoothingQuality=S,U.drawImage.apply(U,[t].concat(CC(K.map(function(ne){return Math.floor(Ka(ne))})))),U.restore(),A}var BC=String.fromCharCode;function U9(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=BC(t.getUint8(s));return r}var $9=/^data:.*,/;function B9(t){var e=t.replace($9,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return yt(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function z9(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(BC.apply(null,VC(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function H9(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,d=s+10;if(U9(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(i=d+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function W9(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var q9={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);St(s,gn),Lr(e,gn);var l={width:Math.max(r.offsetWidth,i>=0?i:LC),height:Math.max(r.offsetHeight,o>=0?o:MC)};this.containerData=l,Rs(s,{width:l.width,height:l.height}),St(e,gn),Lr(s,gn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,l=i/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:i,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=nt({},u)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,s.width),h=Math.max(h,s.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var f=Ds({aspectRatio:c,width:u,height:h});u=f.width,h=f.height,i.minWidth=u,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(d?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),d&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=V9({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,l=i.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Rs(this.canvas,nt({width:r.width,height:r.height},Il({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);nt(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Rs(this.image,nt({width:r.width,height:r.height},Il(nt({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=nt({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;d=Math.min(d,s.width),u=Math.min(u,s.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,f),o.maxWidth=h,o.maxHeight=f}n&&(l?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&gc(this.face,mc,r.width>=n.width&&r.height>=n.height?kC:Lx),Rs(this.cropBox,nt({width:r.width,height:r.height},Il({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ya(this.element,Rg,this.getData())}},G9={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,yt(l,function(c){var d=document.createElement("img");gc(c,Sd,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=s,d.alt=i,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){yt(this.previews,function(e){var n=Vg(e,Sd);Rs(e,{width:n.width,height:n.height}),e.innerHTML=n.html,D9(e,Sd)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(Rs(this.viewBoxImage,nt({width:o,height:l},Il(nt({translateX:-c,translateY:-d},e)))),yt(this.previews,function(u){var h=Vg(u,Sd),f=h.width,p=h.height,g=f,y=p,b=1;s&&(b=f/s,y=i*b),i&&y>p&&(b=p/i,g=s*b,y=p),Rs(u,{width:g,height:y}),Rs(u.getElementsByTagName("img")[0],nt({width:o*b,height:l*b},Il(nt({translateX:-c*b,translateY:-d*b},e))))}))}},K9={bind:function(){var e=this.element,n=this.options,r=this.cropper;pn(n.cropstart)&&Bn(e,Lg,n.cropstart),pn(n.cropmove)&&Bn(e,Og,n.cropmove),pn(n.cropend)&&Bn(e,Dg,n.cropend),pn(n.crop)&&Bn(e,Rg,n.crop),pn(n.zoom)&&Bn(e,Mg,n.zoom),Bn(r,F_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Bn(r,H_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Bn(r,V_,this.onDblclick=this.dblclick.bind(this)),Bn(e.ownerDocument,U_,this.onCropMove=this.cropMove.bind(this)),Bn(e.ownerDocument,$_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Bn(window,z_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;pn(n.cropstart)&&sr(e,Lg,n.cropstart),pn(n.cropmove)&&sr(e,Og,n.cropmove),pn(n.cropend)&&sr(e,Dg,n.cropend),pn(n.crop)&&sr(e,Rg,n.crop),pn(n.zoom)&&sr(e,Mg,n.zoom),sr(r,F_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&sr(r,H_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&sr(r,V_,this.onDblclick),sr(e.ownerDocument,U_,this.onCropMove),sr(e.ownerDocument,$_,this.onCropEnd),n.responsive&&sr(window,z_,this.onResize)}},Y9={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(yt(l,function(d,u){l[u]=d*o})),this.setCropBoxData(yt(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===OC||this.setDragMode(k9(this.dragBox,Ag)?DC:Mx)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(we(n)&&n!==1||we(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?yt(e.changedTouches,function(l){i[l.identifier]=Td(l)}):i[e.pointerId||0]=Td(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=RC:o=Vg(e.target,mc),_9.test(o)&&Ya(this.element,Lg,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===AC&&(this.cropping=!0,St(this.dragBox,rh)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Ya(this.element,Og,{originalEvent:e,action:n})!==!1&&(e.changedTouches?yt(e.changedTouches,function(s){nt(r[s.identifier]||{},Td(s,!0))}):nt(r[e.pointerId||0]||{},Td(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?yt(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Da(this.dragBox,rh,this.cropped&&this.options.modal)),Ya(this.element,Dg,{originalEvent:e,action:n}))}}},Q9={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=i.left,u=i.top,h=i.width,f=i.height,p=d+h,g=u+f,y=0,b=0,m=s.width,x=s.height,v=!0,j;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(y=i.minLeft,b=i.minTop,m=y+Math.min(s.width,r.width,r.left+r.width),x=b+Math.min(s.height,r.height,r.top+r.height));var S=o[Object.keys(o)[0]],E={x:S.endX-S.startX,y:S.endY-S.startY},I=function(_){switch(_){case ui:p+E.x>m&&(E.x=m-p);break;case hi:d+E.x<y&&(E.x=y-d);break;case xs:u+E.y<b&&(E.y=b-u);break;case ma:g+E.y>x&&(E.y=x-g);break}};switch(l){case Lx:d+=E.x,u+=E.y;break;case ui:if(E.x>=0&&(p>=m||c&&(u<=b||g>=x))){v=!1;break}I(ui),h+=E.x,h<0&&(l=hi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case xs:if(E.y<=0&&(u<=b||c&&(d<=y||p>=m))){v=!1;break}I(xs),f-=E.y,u+=E.y,f<0&&(l=ma,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case hi:if(E.x<=0&&(d<=y||c&&(u<=b||g>=x))){v=!1;break}I(hi),h-=E.x,d+=E.x,h<0&&(l=ui,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case ma:if(E.y>=0&&(g>=x||c&&(d<=y||p>=m))){v=!1;break}I(ma),f+=E.y,f<0&&(l=xs,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case Wo:if(c){if(E.y<=0&&(u<=b||p>=m)){v=!1;break}I(xs),f-=E.y,u+=E.y,h=f*c}else I(xs),I(ui),E.x>=0?p<m?h+=E.x:E.y<=0&&u<=b&&(v=!1):h+=E.x,E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=Ko,f=-f,h=-h,u-=f,d-=h):h<0?(l=qo,h=-h,d-=h):f<0&&(l=Go,f=-f,u-=f);break;case qo:if(c){if(E.y<=0&&(u<=b||d<=y)){v=!1;break}I(xs),f-=E.y,u+=E.y,h=f*c,d+=i.width-h}else I(xs),I(hi),E.x<=0?d>y?(h-=E.x,d+=E.x):E.y<=0&&u<=b&&(v=!1):(h-=E.x,d+=E.x),E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=Go,f=-f,h=-h,u-=f,d-=h):h<0?(l=Wo,h=-h,d-=h):f<0&&(l=Ko,f=-f,u-=f);break;case Ko:if(c){if(E.x<=0&&(d<=y||g>=x)){v=!1;break}I(hi),h-=E.x,d+=E.x,f=h/c}else I(ma),I(hi),E.x<=0?d>y?(h-=E.x,d+=E.x):E.y>=0&&g>=x&&(v=!1):(h-=E.x,d+=E.x),E.y>=0?g<x&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Wo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Go,h=-h,d-=h):f<0&&(l=qo,f=-f,u-=f);break;case Go:if(c){if(E.x>=0&&(p>=m||g>=x)){v=!1;break}I(ui),h+=E.x,f=h/c}else I(ma),I(ui),E.x>=0?p<m?h+=E.x:E.y>=0&&g>=x&&(v=!1):h+=E.x,E.y>=0?g<x&&(f+=E.y):f+=E.y;h<0&&f<0?(l=qo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Ko,h=-h,d-=h):f<0&&(l=Wo,f=-f,u-=f);break;case kC:this.move(E.x,E.y),v=!1;break;case RC:this.zoom(L9(o),e),v=!1;break;case AC:if(!E.x||!E.y){v=!1;break}j=$C(this.cropper),d=S.startX-j.left,u=S.startY-j.top,h=i.minWidth,f=i.minHeight,E.x>0?l=E.y>0?Go:Wo:E.x<0&&(d-=h,l=E.y>0?Ko:qo),E.y<0&&(u-=f),this.cropped||(Lr(this.cropBox,gn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}v&&(i.width=h,i.height=f,i.left=d,i.top=u,this.action=l,this.renderCropBox()),yt(o,function(w){w.startX=w.endX,w.startY=w.endY})}},X9={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&St(this.dragBox,rh),Lr(this.cropBox,gn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=nt({},this.initialImageData),this.canvasData=nt({},this.initialCanvasData),this.cropBoxData=nt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(nt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Lr(this.dragBox,rh),St(this.cropBox,gn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,yt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Lr(this.cropper,L_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,St(this.cropper,L_)),this},destroy:function(){var e=this.element;return e[Ze]?(e[Ze]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(Ip(e)?e:s+Number(e),Ip(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(we(e)&&(r.left=e,s=!0),we(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,l=i.height,c=i.naturalWidth,d=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var u=c*e,h=d*e;if(Ya(this.element,Mg,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=$C(this.cropper),g=f&&Object.keys(f).length?M9(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(u-o)*((g.pageX-p.left-i.left)/o),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else Ra(n)&&we(n.x)&&we(n.y)?(i.left-=(u-o)*((n.x-i.left)/o),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(u-o)/2,i.top-=(h-l)/2);i.width=u,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),we(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,we(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(we(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(we(e)&&(r.scaleX=e,s=!0),we(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(yt(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Ra(e)){var o=!1;n.rotatable&&we(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(we(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),we(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;we(e.x)&&(i.left=e.x*l+s.left),we(e.y)&&(i.top=e.y*l+s.top),we(e.width)&&(i.width=e.width*l),we(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?nt({},this.containerData):{}},getImageData:function(){return this.sized?nt({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ra(e)&&(we(e.left)&&(n.left=e.left),we(e.top)&&(n.top=e.top),we(e.width)?(n.width=e.width,n.height=e.width/r):we(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Ra(e)&&(we(e.left)&&(n.left=e.left),we(e.top)&&(n.top=e.top),we(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),we(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=F9(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,l=s.width,c=s.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(i*=d,o*=d,l*=d,c*=d);var u=l/c,h=Ds({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ds({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ds({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),g=p.width,y=p.height;g=Math.min(h.width,Math.max(f.width,g)),y=Math.min(h.height,Math.max(f.height,y));var b=document.createElement("canvas"),m=b.getContext("2d");b.width=Ka(g),b.height=Ka(y),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,y);var x=e.imageSmoothingEnabled,v=x===void 0?!0:x,j=e.imageSmoothingQuality;m.imageSmoothingEnabled=v,j&&(m.imageSmoothingQuality=j);var S=r.width,E=r.height,I=i,w=o,_,N,P,C,k,A;I<=-l||I>S?(I=0,_=0,P=0,k=0):I<=0?(P=-I,I=0,_=Math.min(S,l+I),k=_):I<=S&&(P=0,_=Math.min(l,S-I),k=_),_<=0||w<=-c||w>E?(w=0,N=0,C=0,A=0):w<=0?(C=-w,w=0,N=Math.min(E,c+w),A=N):w<=E&&(C=0,N=Math.min(c,E-w),A=N);var U=[I,w,_,N];if(k>0&&A>0){var D=g/l;U.push(P*D,C*D,k*D,A*D)}return m.drawImage.apply(m,[r].concat(CC(U.map(function(M){return Math.floor(Ka(M))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!Ip(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===Mx,o=n.movable&&e===DC;e=i||o?e:OC,n.dragMode=e,gc(r,mc,e),Da(r,Ag,i),Da(r,kg,o),n.cropBoxMovable||(gc(s,mc,e),Da(s,Ag,i),Da(s,kg,o))}return this}},J9=Fr.Cropper,zC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d9(this,t),!e||!N9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=nt({},q_,Ra(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return u9(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Ze]){if(n[Ze]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(j9.test(n)){E9.test(n)?this.read(B9(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==W_&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&K_(n)&&s.crossOrigin&&(n=Y_(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=H9(n),o=0,l=1,c=1;if(i>1){this.url=z9(n,W_);var d=W9(i);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&K_(r)&&(s||(s="anonymous"),i=Y_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),St(o,M_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Fr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Fr.navigator.userAgent),i=function(d,u){nt(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=nt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||l.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=S9;var l=o.querySelector(".".concat(Ze,"-container")),c=l.querySelector(".".concat(Ze,"-canvas")),d=l.querySelector(".".concat(Ze,"-drag-box")),u=l.querySelector(".".concat(Ze,"-crop-box")),h=u.querySelector(".".concat(Ze,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(Ze,"-view-box")),this.face=h,c.appendChild(s),St(n,gn),i.insertBefore(l,n.nextSibling),Lr(s,M_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,St(u,gn),r.guides||St(u.getElementsByClassName("".concat(Ze,"-dashed")),gn),r.center||St(u.getElementsByClassName("".concat(Ze,"-center")),gn),r.background&&St(l,"".concat(Ze,"-bg")),r.highlight||St(h,y9),r.cropBoxMovable&&(St(h,kg),gc(h,mc,Lx)),r.cropBoxResizable||(St(u.getElementsByClassName("".concat(Ze,"-line")),gn),St(u.getElementsByClassName("".concat(Ze,"-point")),gn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),pn(r.ready)&&Bn(n,B_,r.ready,{once:!0}),Ya(n,B_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Lr(this.element,gn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=J9,t}},{key:"setDefaults",value:function(n){nt(q_,Ra(n)&&n)}}]),t}();nt(zC.prototype,q9,G9,K9,Y9,Q9,X9);var yi=function(){return yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},yi.apply(this,arguments)};function Pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var Z9=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],e5={opacity:0,maxWidth:"100%"},t5=De.forwardRef(function(t,e){var n=Pp(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,l=n.className,c=n.crossOrigin,d=n.scaleX,u=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,y=g===void 0?"picture":g,b=n.ready,m=n.onInitialized,x=Pp(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),v={scaleY:u,scaleX:d,enable:h,zoomTo:f,rotateTo:p},j=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var w=T.useRef(null);return De.useEffect(function(){E.forEach(function(_){_&&(typeof _=="function"?_(w.current):_.current=w.current)})},[E]),w}(e,T.useRef(null));T.useEffect(function(){var E;!((E=j.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&j.current.cropper.zoomTo(f)},[n.zoomTo]),T.useEffect(function(){var E;!((E=j.current)===null||E===void 0)&&E.cropper&&i!==void 0&&j.current.cropper.reset().clear().replace(i)},[i]),T.useEffect(function(){if(j.current!==null){var E=new zC(j.current,yi(yi({dragMode:s},x),{ready:function(I){I.currentTarget!==null&&function(w,_){_===void 0&&(_={});var N=_.enable,P=N===void 0||N,C=_.scaleX,k=C===void 0?1:C,A=_.scaleY,U=A===void 0?1:A,D=_.zoomTo,M=D===void 0?0:D,O=_.rotateTo;P?w.enable():w.disable(),w.scaleX(k),w.scaleY(U),O!==void 0&&w.rotateTo(O),M>0&&w.zoomTo(M)}(I.currentTarget.cropper,v),b&&b(I)}}));m&&m(E)}return function(){var I,w;(w=(I=j.current)===null||I===void 0?void 0:I.cropper)===null||w===void 0||w.destroy()}},[j]);var S=function(E){return Z9.reduce(function(I,w){var _=I,N=w;return _[N],Pp(_,[typeof N=="symbol"?N:N+""])},E)}(yi(yi({},x),{crossOrigin:c,src:i,alt:y}));return De.createElement("div",{style:o,className:l},De.createElement("img",yi({},S,{style:e5,ref:j})))});const HC=async()=>{try{const t=ce(G,"slider_images"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,d=l?await n5(l):null;n.push({_id:o,title:c,bannerURL:d})});await Promise.all(r),ft.dispatch(CB(n))}catch(t){console.error("Error fetching Slider:",t)}},n5=async t=>{try{const e=Pe(Ae,`slider_images/${t}`);return await Br(e)}catch{return null}};async function r5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=Fe(G,"slider_images",t),s=(await Jn(e)).data().banner;if(await hn(e),s){const i=Pe(Ae,`slider_images/${s}`);await yr(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const s5=()=>{const t=J(p=>p.getslider).data,[e,n]=T.useState(),[r,s]=T.useState(""),[i,o]=T.useState(!1),[l,c]=T.useState("");T.useEffect(()=>{HC()},[]);const d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){V("danger","Please select an image and provide a title!");return}o(!0);const p=Pe(Ae,`slider_images/${r}`),g=await fetch(l).then(b=>b.blob()),y=new FileReader;y.readAsDataURL(g),y.onloadend=async()=>{$r(p,g).then(async()=>{await it(ce(G,"slider_images"),{title:r,bannerURL:r}),V("success","Slider Image has been saved!"),s(""),n(null),o(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),o(!1)})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Slider Images"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(re,{target:"_blank",to:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>r5(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:i}),a.jsx("div",{className:"my-2",children:a.jsx(t5,{src:e,ref:d,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ko=async()=>{try{const t=ce(G,"phdStudents"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await a5(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ft.dispatch(kB(n))}catch(t){console.error("Error fetching phd:",t)}};async function i5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=Fe(G,"phdStudents",t);await hn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const a5=async t=>{try{const e=Pe(Ae,`/peoples/phd_profile_images/${t}`);return await Br(e)}catch{return null}},WC=async()=>{try{const t=ce(G,"pgusStudents"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ft.dispatch(RB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function o5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=Fe(G,"pgusStudents",t);await hn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const qC=async()=>{try{const t=ce(G,"visitorsAndInterns"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ft.dispatch(DB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function l5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=Fe(G,"visitorsAndInterns",t);await hn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const c5=()=>{const t=J(c=>c.getauth),e=J(c=>c.getphdStudents.data),n=J(c=>c.getpgugStudents.data),r=J(c=>c.getvisitorsandinterns.data),[s,i]=T.useState(1),[o,l]=T.useState("");return T.useEffect(()=>{ko(),WC(),qC()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Peoples"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100",children:a.jsxs(a.Fragment,{children:[a.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(s===1||s===3)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),s!==5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(s===2||s===4)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),s!==5&&a.jsxs(a.Fragment,{children:[" ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:s===3||s===1?"Research Interests":"Currently Working At"})]}),s===5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[(s===1||s===3)&&(e==null?void 0:e.map(c=>{var b,m,x,v,j,S,E,I,w,_,N,P,C;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,researchInterests:g,supervisor:y}=c==null?void 0:c.data;return s===1&&(h!=null&&h.booleanValue)||s===3&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("a",{href:c==null?void 0:c.profileImage,target:"_blank",children:a.jsx("img",{src:c==null?void 0:c.profileImage,alt:"Profile Image",style:{width:"80px"}})}),a.jsx("strong",{className:"text-danger text-nowrap",children:((m=(b=y==null?void 0:y.mapValue)==null?void 0:b.fields)==null?void 0:m.email)===t.email&&"(Your Scholar)"})]}),a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsxs("td",{children:[a.jsxs("strong",{className:"text-danger",children:["1. Email:"," "]}),a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:a.jsx("div",{children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("strong",{className:"text-danger",children:"2. Supervisor"}),a.jsxs("div",{children:[(j=(v=(x=y==null?void 0:y.mapValue)==null?void 0:x.fields)==null?void 0:v.name)==null?void 0:j.stringValue,","," ",(I=(E=(S=y==null?void 0:y.mapValue)==null?void 0:S.fields)==null?void 0:E.email)==null?void 0:I.stringValue]})]}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:a.jsx("ol",{children:(_=(w=g==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:_.map((k,A)=>a.jsx("li",{children:k.stringValue},A))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[" ",a.jsx("li",{children:a.jsx(re,{className:"dropdown-item",to:"/phd/"+(c==null?void 0:c._id),target:"_blank",children:"Profile"})}),((C=(P=(N=y==null?void 0:y.mapValue)==null?void 0:N.fields)==null?void 0:P.email)==null?void 0:C.stringValue)===t.email&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>i5(c._id),children:"Delete"})})]})]})})]},c._id)})),(s===2||s===4)&&(n==null?void 0:n.map(c=>{const{name:d,batch:u,isAlumni:h,email:f,mobile:p,degree:g,currentlyWorkingAt:y}=c==null?void 0:c.data;return s===2&&(h!=null&&h.booleanValue)||s===4&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("td",{children:a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("td",{children:(g==null?void 0:g.stringValue)||"N/A"}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:y==null?void 0:y.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>o5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)})),s===5&&(r==null?void 0:r.map(c=>{const{name:d,collegeName:u}=c==null?void 0:c.data;return a.jsxs("tr",{children:[a.jsx("td",{children:d==null?void 0:d.stringValue}),a.jsx("td",{children:u==null?void 0:u.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>l5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)}))]})]}),!r.length&&s===5&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(s===1||s===3)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!n.length&&(s===2||s===4)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),a.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:c=>l(c.target.value),children:[a.jsx("option",{value:"",children:"--select designation--"}),a.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),a.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),a.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),a.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),a.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2",children:[(o==="Ph.D. Scholars"||o==="Alumni Ph.D.")&&a.jsx(d5,{}),(o==="Post Graduate students"||o==="Alumni Masters and Bachelors")&&a.jsx(u5,{}),o==="Visitors and Interns"&&a.jsx(h5,{})]})]})})]})})})]})},d5=()=>{var S,E,I,w;const t=J(_=>_.getsupervisors.data),e=J(_=>_.getauth),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState({name:e.userType==="SUPERVISOR"?(E=(S=t.filter(_=>{var N;return((N=_==null?void 0:_.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:S.data)==null?void 0:E.name:"",email:e.userType==="SUPERVISOR"?(w=(I=t.filter(_=>{var N;return((N=_==null?void 0:_.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:I.data)==null?void 0:w.email:""}),[f,p]=T.useState(""),[g,y]=T.useState(!1),[b,m]=T.useState(!1),[x,v]=T.useState(),j=async _=>{if(_.preventDefault(),!n||!s||!o||!c||!f){V("danger","Error! Please fill all required fields.");return}if(!x){V("danger","Please upload an Image!");return}m(!0);const N=Pe(Ae,`/peoples/phd_profile_images/${n}_${x.name}`);await $r(N,x).then(async()=>{console.log("Profile image uploaded successfully"),it(ce(G,"phdStudents"),{name:n,email:s,mobile:o,batch:c,supervisor:u,researchInterests:f.split(",").map(P=>P.trim()),isAlumni:g,profileImage:n+"_"+x.name}).then(async()=>{await it(ce(G,"users"),{email:s,userType:"PHD"}),V("success","Data Saved Successfully!"),r(""),i(""),l(""),d(""),p(""),y(!1),m(!1),window.location.reload()}).catch(()=>{V("danger","Failed to save Data!"),m(!1)})})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:j,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:_=>r(_.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",onChange:_=>i(_.target.value),placeholder:"ie. user@gmail.com"})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",children:["Supervisor",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:_=>{var N,P;h({name:_.target.value,email:(P=(N=t.filter(C=>{var k;return((k=C==null?void 0:C.data)==null?void 0:k.name)==_.target.value})[0])==null?void 0:N.data)==null?void 0:P.email})},disabled:b||e.userType==="SUPERVISOR",children:[a.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((_,N)=>{var P,C,k,A;return a.jsxs("option",{value:(P=_==null?void 0:_.data)==null?void 0:P.name,selected:e.email==((C=_==null?void 0:_.data)==null?void 0:C.email),children:[(k=_==null?void 0:_.data)==null?void 0:k.name,"-",(A=_==null?void 0:_.data)==null?void 0:A.email]},N)})]})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:_=>l(_.target.value),placeholder:"ie. 10 digits mobile number"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:_=>{var P;const N=(P=_.target.files)==null?void 0:P[0];v(N)},disabled:b})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:_=>d(_.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:_=>p(_.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:_=>y(_.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:b,children:b?"Submitting...":"Submit"})})]})})},u5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,y]=T.useState(!1),b=m=>{if(m.preventDefault(),!t||!n||!s||!o||!c||!u){V("danger","Please fill all the required fields.");return}y(!0),it(ce(G,"pgusStudents"),{degree:t,name:n,email:s,mobile:o,batch:c,currentlyWorkingAt:u,isAlumni:f}).then(()=>{V("success","Data Saved!"),e(""),r(""),i(""),l(""),d(""),h(""),p(!1),y(!1),location.reload()}).catch(()=>{V("danger","Error while Saving Data!"),y(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:b,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),a.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[a.jsx("option",{value:"",children:"--select--"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>d(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Currently Working At"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},h5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=l=>{if(l.preventDefault(),!t||!n){V("danger","Please fill all the required details.");return}i(!0),it(ce(G,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{V("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{V("danger","Failed to save data."),i(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:o,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"College Name"}),a.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},f5=["Professor","Associate Professor","Assistant Professor","Adjunct Professor","Visiting Professor","Emeritus Professor","Research Professor"],Ap={name:"",email:"",designation:"",phone:"",researchInterests:"",introduction:"",teaching:"",accomplishments:"",professional_affiliation:"",links:[]},p5=()=>{var g;const t=J(y=>y.getauth),e=J(y=>y.getsupervisors.data),[n,r]=T.useState(!1),[s,i]=T.useState(),[o,l]=T.useState(Ap),[c,d]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const u=y=>{const{name:b,value:m}=y.target;l(x=>({...x,[b]:m}))},h=async()=>{const{name:y,email:b,designation:m}=o;if(!y||!b||!m){V("danger","Designation, Email and Name are required fields.");return}if(r(!0),!s)it(ce(G,"supervisors"),{...o,startDate:new Date,endDate:"NA"}).then(async()=>{await it(ce(G,"users"),{email:b,userType:"SUPERVISOR"}),V("success","Supervisor details has been saved successfully!"),l(Ap),i(void 0),r(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)});else{const x=Pe(Ae,`/peoples/supervisor_profile_images/${y}_${s.name}`);await $r(x,s).then(async()=>{V("success","Profile image uploaded successfully"),it(ce(G,"supervisors"),{...o,startDate:new Date,endDate:"NA",profileImage:y+s.name}).then(async()=>{await it(ce(G,"users"),{email:b,userType:"SUPERVISOR"}),V("success","Supervisor details along with profile image have been saved successfully!"),l(Ap),i(void 0),r(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}},f=t==null?void 0:t.userType.includes("SUPERVISOR"),p=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:!p&&f?"Your Profile":"Supervisors"}),p&&a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsxs("table",{className:"table table-bordered table-hover w-100",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:e==null?void 0:e.map((y,b)=>{const{name:m,designation:x,email:v,phone:j,researchInterests:S,introduction:E,links:I,teaching:w,accomplishments:_,professional_affiliation:N}=y==null?void 0:y.data;if(!(!p&&f&&(t==null?void 0:t.email)!=v))return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:y!=null&&y.profileImage?a.jsx("a",{href:y==null?void 0:y.profileImage,target:"_blank",children:a.jsx("img",{src:y==null?void 0:y.profileImage,alt:`${m}'s profile`,style:{width:"50px",height:"auto"}})}):"Not Uploaded"}),a.jsxs("td",{children:[f&&t.email===v&&a.jsxs(a.Fragment,{children:[" ",a.jsx("strong",{className:"text-danger",children:"Your Profile"}),a.jsx("hr",{})]}),a.jsx("h6",{className:"fw-bold text-primary",children:m}),a.jsxs("small",{className:"fw-bold text-danger",children:["(",x,")"]})]}),a.jsxs("td",{children:["Email:"," ",a.jsx("a",{href:"mailto:"+v,target:"_blank",children:v}),a.jsx("hr",{}),"Mobile: ",j]}),a.jsxs("td",{children:[a.jsx("strong",{children:"Research Interests: "}),S]}),a.jsx("td",{children:a.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:E})}),a.jsx("td",{children:a.jsx("ol",{children:I==null?void 0:I.map((P,C)=>a.jsx("li",{children:a.jsx(re,{to:P==null?void 0:P.linkURL,target:"_blank",className:"btn-link bnt-sm p-0",children:P==null?void 0:P.linkName})},C))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${b}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${b}`,children:[(t.email===v||p)&&a.jsx("li",{children:a.jsx(re,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),p&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Kz(y._id),children:"Delete"})})]})]})})]},y._id),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Techings: "})]}),a.jsx("td",{colSpan:5,children:w})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Accomplishments: "})]}),a.jsx("td",{colSpan:5,children:_})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Professional Affiliation: "})]}),a.jsx("td",{colSpan:5,children:N})]})]})})})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"fw-bold text-primary",children:"Personal Information:"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Designation(",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsxs("select",{name:"designation",className:"form-control",value:o.designation,onChange:u,id:"designation",children:[a.jsx("option",{value:"",children:"--select designation--"}),f5.map((y,b)=>a.jsx("option",{value:y,children:y},b))]})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:o.name,onChange:u})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:o.email,onChange:u})]})]}),a.jsx("div",{className:"alert alert-primary p-2 rounded-0 mb-3",role:"alert",children:"Name and Email fields are required, Supervisor can also edit other things later."}),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})}),a.jsx("h4",{className:"fw-bold text-primary",children:"Other Details (User can fill later):"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:o.phone,onChange:u,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:y=>{var m;const b=(m=y.target.files)==null?void 0:m[0];i(b)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:o.researchInterests,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:o.teaching||"",onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:o.accomplishments,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:o.professional_affiliation,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:o.introduction,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:y=>d({linkName:y.target.value,linkURL:c.linkURL}),value:c.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:y=>d({linkName:c.linkName,linkURL:y.target.value}),value:c.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!c.linkName||!c.linkURL){V("danger","Link Name and URL are required fields.");return}if(o.links.includes(c)){V("danger","This link already exists.");return}l({...o,links:[...o.links,c]}),d({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(g=o==null?void 0:o.links)==null?void 0:g.map((y,b)=>a.jsxs("tr",{children:[a.jsx("th",{children:b+1}),a.jsx("th",{children:y==null?void 0:y.linkName}),a.jsx("th",{children:a.jsx("a",{href:y==null?void 0:y.linkURL,target:"_blank",children:y==null?void 0:y.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&l({...o,links:o==null?void 0:o.links.filter(m=>m.linkName!==(y==null?void 0:y.linkName))})},children:"Remove"})})]}))})]}),!(o!=null&&o.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},da=async()=>{try{const t=ce(G,"datasets"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=(i==null?void 0:i.images.arrayValue.values)||[];let d=[];const u=c.map(async f=>{const p=await m5(f.stringValue)||"";d.push({name:f==null?void 0:f.stringValue,url:p})});await Promise.all(u);const h=i==null?void 0:i.description.stringValue;n.push({_id:o,title:l,description:h,images:d})});await Promise.all(r),ft.dispatch(OB(n))}catch(t){console.error("Error fetching Datasets:",t)}},m5=async t=>{try{const e=Pe(Ae,`dataset_images/${t}`);return await Br(e)}catch{return null}};async function g5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=Fe(G,"datasets",t),s=(await Jn(e)).data().images;await hn(e);const i=s.map(async o=>{const l=Pe(Ae,`dataset_images/${o}`);await yr(l),console.log("Deleted!")});await Promise.all(i),alert("Datasets item and images deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}async function v5(t,e){if(confirm("Are you sure want to delete this item?")){if(t===null||!e||e==null){alert("Invalid Parameters");return}try{const n=Pe(Ae,`dataset_images/${e}`);await yr(n);const r=Fe(G,"datasets",t),s=await Jn(r);if(s.exists()){const l=(s.data().images||[]).filter(c=>c!=e);await en(r,{images:l}),V("success","Datasets item and images deleted successfully!")}else V("danger","Something went wrong!");location.reload()}catch(n){console.log(n),alert("Error deleting Datasets!")}}}const y5=()=>{const t=J(c=>c.getdatasets).data,[e,n]=T.useState(""),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{da()},[]);const l=async()=>{if(!e||!r){V("warning","Please provide the required fields!");return}o(!0);try{await it(ce(G,"datasets"),{title:e,description:r,images:[]}),V("success","Datasets has been saved!"),V("info","You can add datasets images later!")}catch{V("danger","Error while saving the dataset, Try again!")}n(""),o(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Datasets"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning fw-bold rounded-0",children:"It is common for all, If you delete one dataset, it will deleted from all."}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:d+1}),a.jsx("td",{children:c==null?void 0:c.title}),a.jsxs("td",{children:[" ",a.jsx("div",{className:"overflow-auto p-2",children:c==null?void 0:c.description})]}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx(re,{to:c==null?void 0:c._id,className:"dropdown-item text-success",children:"Add Images"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>g5(c._id),children:"Delete"})})]})]})})]},d))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>n(c.target.value),disabled:i,value:e||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:c=>s(c.target.value),disabled:i,value:r||""})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:l,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},xf=async()=>{try{const t=ce(G,"ResearchArea"),e=await Be(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(u=i==null?void 0:i.subareas)==null?void 0:u.arrayValue)==null?void 0:h.values)||[],d=l?await x5(l):null;n.push({_id:o,title:l,subareas:c,bannerURL:d})});await Promise.all(r),ft.dispatch(LB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},x5=async t=>{try{const e=Pe(Ae,`research_areas_images/${t}`);return await Br(e)}catch{return null}};async function b5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=Fe(G,"ResearchArea",t),s=(await Jn(e)).data().banner;if(await hn(e),s){const i=Pe(Ae,`research_areas_images/${s}`);await yr(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const bf=async()=>{try{const t=ce(G,"research_subitems"),e=await Be(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,d=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,u=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:o,title:u,description:l,researchArea:c,projects:d})});await Promise.all(r),ft.dispatch(MB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function w5(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=Fe(G,"research_subitems",t);await hn(n);const r=Fe(G,"ResearchArea",e);await en(r,{subareas:v1(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const _5=()=>{const t=J(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{xf(),bf()},[]);const l=d=>{if(d.target.files&&d.target.files.length>0){const u=new FileReader;u.onload=()=>{n(u.result)},u.readAsDataURL(d.target.files[0])}},c=async()=>{if(!e||!r){V("danger","Please select an image and provide a title!");return}o(!0);const d=Pe(Ae,`research_areas_images/${r}`),u=await fetch(e).then(h=>h.blob());try{await $r(d,u),await it(ce(G,"ResearchArea"),{title:r,subareas:[]}),V("success","Research area has been saved!"),V("info","Info! You can add sub-areas later."),s(""),n(null),o(!1),location.reload()}catch{V("danger","Error! While uploading image, Please check your internet connection and try again."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Area"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-danger",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, it will be show in main website page to."}),a.jsx("li",{children:"You can modify any Research area for example you can add more details of the Research Area by adding Sub Areas."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{children:u+1}),a.jsx("td",{children:d==null?void 0:d.title}),a.jsx("td",{children:a.jsx(re,{to:d._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(re,{target:"_blank",to:d==null?void 0:d.bannerURL,children:a.jsx("img",{className:"rounded-2",src:d.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>b5(d._id),children:"Delete"})})})]})})]},u))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:d=>s(d.target.value),disabled:i,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),a.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:a.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),a.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ua=async()=>{try{const t=ce(G,"projects_items"),e=await Be(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,d=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,u=l?await j5(l):null;n.push({_id:o,title:l,bannerURL:u,pdfLink:d,pptLink:c})});await Promise.all(r),ft.dispatch(VB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},j5=async t=>{try{const e=Pe(Ae,`project_items_images/${t}`);return await Br(e)}catch{return null}};async function E5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=Fe(G,"projects_items",t),s=(await Jn(e)).data().banner;if(await hn(e),s){const c=Pe(Ae,`projects_items_images/${s}`);await yr(c)}const i=ce(G,"research_subitems"),l=(await Be(i)).docs.map(async c=>{const d=c.ref;await en(d,{projects:v1(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const N5=()=>{const{id:t}=Ur();T.useEffect(()=>{bf(),xf(),ua()},[]);const n=J(b=>{var m;return(m=b.getresearcharea)==null?void 0:m.data}).find(b=>b._id===t);if(!n){window.history.back();return}const r=J(b=>b.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(b=>s.some(m=>m.stringValue===(b==null?void 0:b._id))),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState([]),g=J(b=>{var m;return(m=b.getprojectitems)==null?void 0:m.data}),y=async()=>{if(!o){V("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await it(ce(G,"research_subitems"),{title:o,researcharea:n._id,description:c,projects:f})).id;await en(Fe(G,"ResearchArea",n._id),{subareas:R2(m)}),V("success","Subitem has been saved!"),l(""),d(""),p([]),h(!1),window.location.reload()}catch{V("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100 my-2",children:a.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((b,m)=>{var x;return a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{children:b==null?void 0:b.title}),a.jsx("td",{children:b==null?void 0:b.description}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=b==null?void 0:b.projects)==null?void 0:x.map((v,j)=>{const S=g==null?void 0:g.find(E=>(E==null?void 0:E._id)==(v==null?void 0:v.stringValue));return a.jsxs("div",{children:[j+1,". ",S==null?void 0:S.title," (",a.jsx(re,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>w5(b._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:b=>l(b.target.value),disabled:u,value:o})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:b=>d(b.target.value),disabled:u,placeholder:"describe in some words.."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),a.jsxs("select",{name:"project",className:"form-control",onChange:b=>{const m=b.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[a.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((b,m)=>a.jsx("option",{value:b==null?void 0:b._id,children:b==null?void 0:b.title},m))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:f==null?void 0:f.map((b,m)=>{const x=g==null?void 0:g.find(v=>(v==null?void 0:v._id)==b);return a.jsxs("tr",{children:[a.jsx("th",{children:m+1}),a.jsx("th",{children:x==null?void 0:x.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(v=>v!==b))},children:"Remove"})})]})})})]}),!f.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},S5=()=>{const t=J(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{ua()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){V("danger","Please select an image and provide a title!");return}u(!0);const p=Pe(Ae,`project_items_images/${r}`),g=await fetch(e).then(y=>y.blob());try{await $r(p,g),await it(ce(G,"projects_items"),{title:r,pptLink:i,pdfLink:l}),V("success","Project has been saved!"),s(""),c(""),o(""),n(null),u(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),s(""),c(""),o(""),n(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-danger",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, you can use these in Research Projects and Datasets."}),a.jsx("li",{children:"Please do not delete any, if it is already associated with any Research Project and Dataset."})]})]}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p==null?void 0:p.title}),a.jsx("td",{children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx(re,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),a.jsx("li",{children:a.jsx(re,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(re,{target:"_blank",to:p==null?void 0:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>E5(p._id),children:"Delete"})})})]})})]},g))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:d,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>o(p.target.value),disabled:d,value:i||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Kc=async()=>{try{const t=ce(G,"projects_main"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),ft.dispatch(FB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function T5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=Fe(G,"projects_main",t);await hn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const I5=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,C5=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,Q_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},P5=()=>{var y,b,m,x;const t=J(v=>v.getauth),[e,n]=T.useState(!1),r=J(v=>v.getsupervisors.data),s=J(v=>{var j;return(j=v.getprojectitems)==null?void 0:j.data}),i=J(v=>{var j;return(j=v.getdatasets)==null?void 0:j.data}),o=J(v=>{var j;return(j=v.getprojectsmain)==null?void 0:j.data}),[l,c]=T.useState(t!=null&&t.userType.includes("SUPERVISOR")?[t==null?void 0:t.email]:[]),[d,u]=T.useState(Q_);T.useEffect(()=>{da(),ua(),Kc()},[]);const h=v=>{const{id:j,value:S}=v.target;u(E=>({...E,[j]:S}))},f=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!l){V("danger","Please fill out all fields.");return}n(!0);try{await it(ce(G,"projects_main"),{...d,users:l}),V("success","Project has been saved!"),u(Q_),n(!1),window.location.reload()}catch{V("danger","Error! Failed to save project, Try again.")}},p=t==null?void 0:t.userType.includes("SUPERVISOR"),g=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("div",{className:"d-flex gap-2",children:(p||g)&&a.jsxs(a.Fragment,{children:[" ",a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),a.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:o==null?void 0:o.map((v,j)=>{var E,I,w,_,N,P,C,k,A,U,D,M,O,L,$;const S=(I=(E=v==null?void 0:v.users)==null?void 0:E.arrayValue)==null?void 0:I.values.some(H=>(H==null?void 0:H.stringValue)==t.email);return a.jsxs("tr",{children:[a.jsx("td",{children:j+1}),a.jsx("td",{className:"fw-bold text-danger",children:a.jsx("span",{children:(w=v==null?void 0:v.title)==null?void 0:w.stringValue})}),a.jsxs("td",{children:[a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"PIs:"})," ",a.jsx("p",{children:(_=v==null?void 0:v.pis)==null?void 0:_.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Co-PIs:"})," ",a.jsx("p",{children:(N=v==null?void 0:v.copis)==null?void 0:N.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Funding Agency:"})," ",a.jsx("p",{children:(P=v==null?void 0:v.funding_agency)==null?void 0:P.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Total Fund(Inr):"})," ",a.jsxs("p",{children:["Rs. ",(C=v==null?void 0:v.total_fund)==null?void 0:C.stringValue]})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Ph.D./JRF Students:"})," ",a.jsx("p",{children:(k=v==null?void 0:v.jrf_phd_scholar)==null?void 0:k.stringValue})]})]}),a.jsx("td",{children:a.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(A=v==null?void 0:v.description)==null?void 0:A.stringValue})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(M=(D=(U=v==null?void 0:v.related_datasets)==null?void 0:U.arrayValue)==null?void 0:D.values)==null?void 0:M.map((H,R)=>{const F=i==null?void 0:i.find(K=>(K==null?void 0:K._id)==(H==null?void 0:H.stringValue));return a.jsxs("div",{children:[R+1,". ",F==null?void 0:F.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:F==null?void 0:F.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:F==null?void 0:F.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+j,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:F==null?void 0:F.images.map((K,ne)=>a.jsx("div",{className:`carousel-item ${ne===0&&"active"}`,children:a.jsx("img",{src:K==null?void 0:K.url,className:"d-block w-100",alt:"This is image"})},ne))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+j,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+j,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:($=(L=(O=v==null?void 0:v.related_projectitems)==null?void 0:O.arrayValue)==null?void 0:L.values)==null?void 0:$.map((H,R)=>{const F=s==null?void 0:s.find(K=>(K==null?void 0:K._id)==(H==null?void 0:H.stringValue));return a.jsxs("div",{children:[R+1,". ",F==null?void 0:F.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:[F==null?void 0:F.title,"("," ",a.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:F==null?void 0:F.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(re,{to:F==null?void 0:F.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:F==null?void 0:F.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:S&&p?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(re,{className:"dropdown-item text-dark",to:"video/"+(v==null?void 0:v._id),children:"Upload Video"})})," ",a.jsx("li",{children:a.jsx(re,{className:"dropdown-item text-success",to:"images/"+(v==null?void 0:v._id),children:"Add Images"})})," ",a.jsx("li",{children:a.jsx(re,{className:"dropdown-item text-primary",to:v==null?void 0:v._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>T5(v._id),children:"Delete"})})]}):"NA"})]})})]},j)})})]}),!o.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:v=>{const j=v.target.value;!l||j===""||(l.includes(j)?alert("User with this name already existed."):c([...l,j]))},disabled:!g&&p,children:[a.jsx("option",{value:"",children:"--select user--"}),r==null?void 0:r.map((v,j)=>{var S,E,I,w;return a.jsxs("option",{value:(S=v==null?void 0:v.data)==null?void 0:S.email,selected:!g&&p&&((E=v==null?void 0:v.data)==null?void 0:E.email)===(t==null?void 0:t.email),children:[(I=v==null?void 0:v.data)==null?void 0:I.name,"-",(w=v==null?void 0:v.data)==null?void 0:w.email]},j)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((v,j)=>a.jsxs("span",{className:"badge bg-success",children:[v," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!g&&p)&&confirm("Are you sure want to remove?")){const S=l.filter(E=>E!==v);c(S)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},j))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:h,value:d.title,disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:h,value:d.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:h,value:d.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:h,value:d.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:h,value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:h,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:v=>{const j=v.target.value;j!==""&&(d.related_datasets.includes(j)||u(S=>({...S,related_datasets:[...S.related_datasets,j]})))},value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((v,j)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},j))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(y=d.related_datasets)==null?void 0:y.map((v,j)=>{const S=i==null?void 0:i.find(E=>(E==null?void 0:E._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:j+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_datasets:(I=d==null?void 0:d.related_datasets)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((b=d.related_datasets)!=null&&b.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:v=>{const j=v.target.value;j!==""&&(d.related_projectitems.includes(j)||u(S=>({...S,related_projectitems:[...S.related_projectitems,j]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((v,j)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},j))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(m=d.related_projectitems)==null?void 0:m.map((v,j)=>{const S=s==null?void 0:s.find(E=>(E==null?void 0:E._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:j+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_projectitems:(I=d==null?void 0:d.related_projectitems)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((x=d.related_projectitems)!=null&&x.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]}),a.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[a.jsx("strong",{children:"Note:"})," You can upload ",a.jsx("i",{children:"Images"})," related to project later."]}),a.jsx("button",{type:"button",className:"btn btn-danger w-100 p-3",onClick:f,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),a.jsx(A5,{getsupervisors:r,isAdmin:g,isSupervisor:p,getauth:t})]})},A5=({getsupervisors:t,isAdmin:e,isSupervisor:n,getauth:r})=>{const[s,i]=T.useState(!1),[o,l]=T.useState(r!=null&&r.userType.includes("SUPERVISOR")?[r==null?void 0:r.email]:[]),[c,d]=T.useState([]),u=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&SC.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));d(m)},header:!0})},h=async p=>{try{return!(await Be(jr(ce(G,"projects_main"),lr("title","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){V("danger","Please select supervisors!");return}if(!c.length){V("danger","Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return it(ce(G,"projects_main"),{title:b[1],description:b[5],funding_agency:b[2],pis:b[6],copis:b[7],jrf_phd_scholar:b[4],related_datasets:[],related_projectitems:[],total_fund:b[3],type:b[0],users:o})});await Promise.all(g),V("success","Projects have been saved!"),V("info","Note: You can upload Images related to project later."),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Projects"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},disabled:!e&&n,children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m,x;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.email,selected:!e&&n&&r.email===((b=p==null?void 0:p.data)==null?void 0:b.email),children:[(m=p==null?void 0:p.data)==null?void 0:m.name,"-",(x=p==null?void 0:p.data)==null?void 0:x.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!e&&n)&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>TC(I5,C5,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:u})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})};var GC={exports:{}},k5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R5=k5,D5=R5;function KC(){}function YC(){}YC.resetWarningCache=KC;var O5=function(){function t(r,s,i,o,l,c){if(c!==D5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YC,resetWarningCache:KC};return n.PropTypes=n,n};GC.exports=O5();var L5=GC.exports;const Je=yo(L5);function M5(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var QC=T,V5=M5(QC);function X_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var U5=!!(typeof window<"u"&&window.document&&window.document.createElement);function $5(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(u){return u.props})),d.canUseDOM?e(l):n&&(l=n(l))}var d=function(u){F5(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return V5.createElement(i,this.props)},h}(QC.PureComponent);return X_(d,"displayName","SideEffect("+r(i)+")"),X_(d,"canUseDOM",U5),d}}var B5=$5;const z5=yo(B5);var H5=typeof Element<"u",W5=typeof Map=="function",q5=typeof Set=="function",G5=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Xd(t[r],e[r]))return!1;return!0}var i;if(W5&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Xd(r.value[1],e.get(r.value[0])))return!1;return!0}if(q5&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(G5&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(H5&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Xd(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var K5=function(e,n){try{return Xd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Y5=yo(K5);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var J_=Object.getOwnPropertySymbols,Q5=Object.prototype.hasOwnProperty,X5=Object.prototype.propertyIsEnumerable;function J5(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Z5(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var e6=Z5()?Object.assign:function(t,e){for(var n,r=J5(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)Q5.call(n,o)&&(r[o]=n[o]);if(J_){s=J_(n);for(var l=0;l<s.length;l++)X5.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const t6=yo(e6);var Ri={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ve={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ve).map(function(t){return ve[t]});var et={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},sh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},n6=Object.keys(sh).reduce(function(t,e){return t[sh[e]]=e,t},{}),r6=[ve.NOSCRIPT,ve.SCRIPT,ve.STYLE],dr="data-react-helmet",s6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Z_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},l6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Fg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},c6=function(e){var n=Qa(e,ve.TITLE),r=Qa(e,vc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Qa(e,vc.DEFAULT_TITLE);return n||s||void 0},d6=function(e){return Qa(e,vc.ON_CHANGE_CLIENT_STATE)||function(){}},kp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return fn({},r,s)},{})},u6=function(e,n){return n.filter(function(r){return typeof r[ve.BASE]<"u"}).map(function(r){return r[ve.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Yo=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&m6("Helmet: "+e+' should be of type "Array". Instead found type "'+s6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var p=void 0,g=Object.keys(f),y=0;y<g.length;y++){var b=g[y],m=b.toLowerCase();n.indexOf(m)!==-1&&!(p===et.REL&&f[p].toLowerCase()==="canonical")&&!(m===et.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(b)!==-1&&(b===et.INNER_HTML||b===et.CSS_TEXT||b===et.ITEM_PROP)&&(p=b)}if(!p||!f[p])return!1;var x=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][x]?!1:(l[p][x]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=t6({},s[u],l[u]);s[u]=h}return i},[]).reverse()},Qa=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},h6=function(e){return{baseTag:u6([et.HREF,et.TARGET],e),bodyAttributes:kp(Ri.BODY,e),defer:Qa(e,vc.DEFER),encode:Qa(e,vc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:kp(Ri.HTML,e),linkTags:Yo(ve.LINK,[et.REL,et.HREF],e),metaTags:Yo(ve.META,[et.NAME,et.CHARSET,et.HTTPEQUIV,et.PROPERTY,et.ITEM_PROP],e),noscriptTags:Yo(ve.NOSCRIPT,[et.INNER_HTML],e),onChangeClientState:d6(e),scriptTags:Yo(ve.SCRIPT,[et.SRC,et.INNER_HTML],e),styleTags:Yo(ve.STYLE,[et.CSS_TEXT],e),title:c6(e),titleAttributes:kp(Ri.TITLE,e)}},Ug=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Ug(e)},0)}}(),ej=function(e){return clearTimeout(e)},f6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ug:global.requestAnimationFrame||Ug,p6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ej:global.cancelAnimationFrame||ej,m6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Qo=null,g6=function(e){Qo&&p6(Qo),e.defer?Qo=f6(function(){tj(e,function(){Qo=null})}):(tj(e),Qo=null)},tj=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,u=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;$g(ve.BODY,s),$g(ve.HTML,i),v6(f,p);var g={baseTag:ga(ve.BASE,r),linkTags:ga(ve.LINK,o),metaTags:ga(ve.META,l),noscriptTags:ga(ve.NOSCRIPT,c),scriptTags:ga(ve.SCRIPT,u),styleTags:ga(ve.STYLE,h)},y={},b={};Object.keys(g).forEach(function(m){var x=g[m],v=x.newTags,j=x.oldTags;v.length&&(y[m]=v),j.length&&(b[m]=g[m].oldTags)}),n&&n(),d(e,y,b)},XC=function(e){return Array.isArray(e)?e.join(""):e},v6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=XC(e)),$g(ve.TITLE,n)},$g=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(dr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);i.length===o.length?r.removeAttribute(dr):r.getAttribute(dr)!==l.join(",")&&r.setAttribute(dr,l.join(","))}},ga=function(e,n){var r=document.head||document.querySelector(ve.HEAD),s=r.querySelectorAll(e+"["+dr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var u in c)if(c.hasOwnProperty(u))if(u===et.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===et.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(dr,"true"),i.some(function(f,p){return l=p,d.isEqualNode(f)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},JC=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},y6=function(e,n,r,s){var i=JC(r),o=XC(n);return i?"<"+e+" "+dr+'="true" '+i+">"+Fg(o,s)+"</"+e+">":"<"+e+" "+dr+'="true">'+Fg(o,s)+"</"+e+">"},x6=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===et.INNER_HTML||d===et.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+Fg(i[u],r)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=r6.indexOf(e)===-1;return s+"<"+e+" "+dr+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},ZC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[sh[s]||s]=e[s],r},n)},b6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[n6[s]||s]=e[s],r},n)},w6=function(e,n,r){var s,i=(s={key:n},s[dr]=!0,s),o=ZC(r,i);return[De.createElement(ve.TITLE,o,n)]},_6=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[dr]=!0,i);return Object.keys(r).forEach(function(l){var c=sh[l]||l;if(c===et.INNER_HTML||c===et.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[l]}),De.createElement(e,o)})},Wr=function(e,n,r){switch(e){case ve.TITLE:return{toComponent:function(){return w6(e,n.title,n.titleAttributes)},toString:function(){return y6(e,n.title,n.titleAttributes,r)}};case Ri.BODY:case Ri.HTML:return{toComponent:function(){return ZC(n)},toString:function(){return JC(n)}};default:return{toComponent:function(){return _6(e,n)},toString:function(){return x6(e,n,r)}}}},eP=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.scriptTags,u=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Wr(ve.BASE,n,s),bodyAttributes:Wr(Ri.BODY,r,s),htmlAttributes:Wr(Ri.HTML,i,s),link:Wr(ve.LINK,o,s),meta:Wr(ve.META,l,s),noscript:Wr(ve.NOSCRIPT,c,s),script:Wr(ve.SCRIPT,d,s),style:Wr(ve.STYLE,u,s),title:Wr(ve.TITLE,{title:f,titleAttributes:p},s)}},j6=function(e){var n,r;return r=n=function(s){o6(i,s);function i(){return i6(this,i),l6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!Y5(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ve.SCRIPT:case ve.NOSCRIPT:return{innerHTML:c};case ve.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return fn({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[fn({},h,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(u.type){case ve.TITLE:return fn({},h,(c={},c[u.type]=p,c.titleAttributes=fn({},f),c));case ve.BODY:return fn({},h,{bodyAttributes:fn({},f)});case ve.HTML:return fn({},h,{htmlAttributes:fn({},f)})}return fn({},h,(d={},d[u.type]=fn({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=fn({},c);return Object.keys(l).forEach(function(u){var h;d=fn({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return De.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=Z_(f,["children"]),y=b6(g);switch(d.warnOnInvalidChildren(h,p),h.type){case ve.LINK:case ve.META:case ve.NOSCRIPT:case ve.SCRIPT:case ve.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:y,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=Z_(l,["children"]),u=fn({},d);return c&&(u=this.mapChildrenToProps(c,u)),De.createElement(e,u)},a6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(De.Component),n.propTypes={base:Je.object,bodyAttributes:Je.object,children:Je.oneOfType([Je.arrayOf(Je.node),Je.node]),defaultTitle:Je.string,defer:Je.bool,encodeSpecialCharacters:Je.bool,htmlAttributes:Je.object,link:Je.arrayOf(Je.object),meta:Je.arrayOf(Je.object),noscript:Je.arrayOf(Je.object),onChangeClientState:Je.func,script:Je.arrayOf(Je.object),style:Je.arrayOf(Je.object),title:Je.string,titleAttributes:Je.object,titleTemplate:Je.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=eP({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},E6=function(){return null},N6=z5(h6,g6,eP)(E6),Bt=j6(N6);Bt.renderStatic=Bt.rewind;const S6=({userType:t})=>{var M,O,L,$,H,R,F,K,ne,le,fe,Ee,ee,ue,se,be,ge,Se,Ie,ae,ke,Z,$e,Et,Nt,Me;const[e,n]=T.useState(!1);T.useEffect(()=>{(async()=>{n(!0),await qc(),await fs(),n(!1)})()},[]);const{id:r}=Ur(),i=J(X=>X.getpublications.data).filter(X=>X._id==r)[0],o=J(X=>X.getsupervisors.data),[l,c]=T.useState((O=(M=i==null?void 0:i.data)==null?void 0:M.paperTitle)==null?void 0:O.stringValue),[d,u]=T.useState(($=(L=i==null?void 0:i.data)==null?void 0:L.paperType)==null?void 0:$.stringValue),[h,f]=T.useState((R=(H=i==null?void 0:i.data)==null?void 0:H.publisher)==null?void 0:R.stringValue),[p,g]=T.useState((K=(F=i==null?void 0:i.data)==null?void 0:F.publicationDate)==null?void 0:K.stringValue),[y,b]=T.useState((le=(ne=i==null?void 0:i.data)==null?void 0:ne.link)==null?void 0:le.stringValue),[m,x]=T.useState((Ee=(fe=i==null?void 0:i.data)==null?void 0:fe.author)==null?void 0:Ee.stringValue),[v,j]=T.useState((ue=(ee=i==null?void 0:i.data)==null?void 0:ee.journalName)==null?void 0:ue.stringValue),[S,E]=T.useState((be=(se=i==null?void 0:i.data)==null?void 0:se.pages)==null?void 0:be.stringValue),[I,w]=T.useState((Se=(ge=i==null?void 0:i.data)==null?void 0:ge.volume)==null?void 0:Se.stringValue),[_,N]=T.useState((ae=(Ie=i==null?void 0:i.data)==null?void 0:Ie.impact)==null?void 0:ae.stringValue),[P,C]=T.useState((Z=(ke=i==null?void 0:i.data)==null?void 0:ke.isbn)==null?void 0:Z.stringValue),k=[];(Me=(Nt=(Et=($e=i==null?void 0:i.data)==null?void 0:$e.users)==null?void 0:Et.arrayValue)==null?void 0:Nt.values)==null||Me.map(X=>{k==null||k.push(X.stringValue)});const[A,U]=T.useState(k),D=X=>{if(X.preventDefault(),!l||!d||!h||!p||!y||!m||!v||!S||!I||!_||!P){V("danger","Please fill all required fields!");return}n(!0);const Xe=Fe(G,"publications",i==null?void 0:i._id);en(Xe,{paperTitle:l,paperType:d,publisher:h,publicationDate:p,link:y,author:m,journalName:v,pages:S,volume:I,impact:_,isbn:P,users:A}).then(()=>{V("success","Publication has been updated!"),n(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{V("danger","Error updating publication, Try again."),n(!1)})};if(!i){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Publication"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs("form",{onSubmit:D,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:l,onChange:X=>c(X.target.value),required:!0,disabled:!0})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",disabled:e||t==="SUPERVISOR",onChange:X=>{const Xe=X.target.value;if(A)if(Xe==="other"){let W=prompt("Please enter supervisor name:");W&&U([...A,W])}else A.includes(Xe)?alert("User with this name already existed."):U([...A,Xe])},children:[a.jsx("option",{value:"",children:"--select user--"}),o==null?void 0:o.map((X,Xe)=>{var W,Re,Le;return a.jsxs("option",{value:(W=X==null?void 0:X.data)==null?void 0:W.email,children:[(Re=X==null?void 0:X.data)==null?void 0:Re.name,"-",(Le=X==null?void 0:X.data)==null?void 0:Le.email]},Xe)}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:A==null?void 0:A.map((X,Xe)=>a.jsxs("span",{className:"badge bg-success",children:[X," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(t!=="SUPERVISOR"&&confirm("Are you sure want to remove?")){const W=A.filter(Re=>Re!==X);U(W)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},Xe))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:d,onChange:X=>u(X.target.value),required:!0,disabled:e,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:h,onChange:X=>f(X.target.value),required:!0,disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:p,onChange:X=>g(X.target.value),required:!0,disabled:e,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((X,Xe)=>a.jsx("option",{value:2008+Xe,children:2008+Xe},Xe))]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:y,onChange:X=>b(X.target.value),disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:X=>x(X.target.value),id:"authors",value:m,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:e})]}),a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:X=>j(X.target.value),required:!0,disabled:e}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:S,onChange:X=>E(X.target.value),disabled:e})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:I,onChange:X=>w(X.target.value),disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:_,onChange:X=>N(X.target.value),disabled:e})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:P,onChange:X=>C(X.target.value),disabled:e})]})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,children:e?"Please Wait...":"Submit"})]})})]})})},T6=()=>{var p,g,y,b,m,x,v,j,S,E,I;const{id:t}=Ur(),e=J(w=>w.getsupervisors.data),n=e==null?void 0:e.filter(w=>(w==null?void 0:w._id)==t)[0],[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState({name:(p=n==null?void 0:n.data)==null?void 0:p.name,email:(g=n==null?void 0:n.data)==null?void 0:g.email,phone:(y=n==null?void 0:n.data)==null?void 0:y.phone,researchInterests:(b=n==null?void 0:n.data)==null?void 0:b.researchInterests,introduction:(m=n==null?void 0:n.data)==null?void 0:m.introduction,accomplishments:(x=n==null?void 0:n.data)==null?void 0:x.accomplishments,designation:(v=n==null?void 0:n.data)==null?void 0:v.designation,professional_affiliation:(j=n==null?void 0:n.data)==null?void 0:j.professional_affiliation,teaching:(S=n==null?void 0:n.data)==null?void 0:S.teaching,links:(E=n==null?void 0:n.data)==null?void 0:E.links}),[d,u]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const h=w=>{const{name:_,value:N}=w.target;c(P=>({...P,[_]:N}))},f=async()=>{var L,$;const{name:w,email:_,phone:N,researchInterests:P,introduction:C,accomplishments:k,designation:A,links:U,professional_affiliation:D,teaching:M}=l;if(!w||!_||!N||!P||!C||!k||!A||!U||!D||!M){V("danger","Error! Please fill all required fields.");return}s(!0);const O=Fe(G,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const R=Pe(Ae,`/peoples/supervisor_profile_images/${($=(L=n==null?void 0:n.data)==null?void 0:L.profileImage)==null?void 0:$.stringValue}`);try{await yr(R)}catch{}}const H=Pe(Ae,`/peoples/supervisor_profile_images/${w}_${i.name}`);try{await $r(H,i),V("info","Profile image uploaded successfully");const R=`${w}_${i.name}`;await en(O,{...l,profileImage:R}),V("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{V("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await en(O,{...l}),V("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{V("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Supervisor"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),a.jsx("hr",{}),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"col-sm-12 mb-3",children:a.jsxs("div",{className:"col-sm-2",children:[" ",a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:h})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",a.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:w=>{var N;const _=(N=w.target.files)==null?void 0:N[0];o(_)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",a.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:h,rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:l.teaching||"",onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:l.accomplishments,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:l.professional_affiliation,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:w=>u({linkName:w.target.value,linkURL:d.linkURL}),value:d.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:w=>u({linkName:d.linkName,linkURL:w.target.value}),value:d.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!d.linkName||!d.linkURL){V("danger","Link Name and URL are required fields.");return}if(l.links.includes(d)){V("danger","This link already exists.");return}c({...l,links:[...l.links,d]}),u({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(I=l==null?void 0:l.links)==null?void 0:I.map((w,_)=>a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:w==null?void 0:w.linkName}),a.jsx("th",{children:a.jsx("a",{href:w==null?void 0:w.linkURL,target:"_blank",children:w==null?void 0:w.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&c({...l,links:l==null?void 0:l.links.filter(N=>N.linkName!==(w==null?void 0:w.linkName))})},children:"Remove"})})]}))})]}),!(l!=null&&l.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]}),a.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},I6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},C6=()=>{var m,x,v,j,S,E,I,w,_,N,P,C,k,A,U,D,M,O,L,$,H;const{id:t}=Ur(),[e,n]=T.useState(!1),r=J(R=>{var F;return(F=R.getprojectitems)==null?void 0:F.data}),s=J(R=>{var F;return(F=R.getdatasets)==null?void 0:F.data}),i=J(R=>R.getsupervisors.data),o=J(R=>{var F;return(F=R.getprojectsmain)==null?void 0:F.data}),l=o==null?void 0:o.filter(R=>(R==null?void 0:R._id)==t)[0],c=[];(v=(x=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:x.values)==null||v.map(R=>{c==null||c.push(R.stringValue)});const d=[];(E=(S=(j=l==null?void 0:l.related_projectitems)==null?void 0:j.arrayValue)==null?void 0:S.values)==null||E.map(R=>{d==null||d.push(R.stringValue)});const[u,h]=T.useState({title:(I=l==null?void 0:l.title)==null?void 0:I.stringValue,description:(w=l==null?void 0:l.description)==null?void 0:w.stringValue,funding_agency:(_=l==null?void 0:l.description)==null?void 0:_.stringValue,pis:(N=l==null?void 0:l.pis)==null?void 0:N.stringValue,copis:(P=l==null?void 0:l.copis)==null?void 0:P.stringValue,jrf_phd_scholar:(C=l==null?void 0:l.jrf_phd_scholar)==null?void 0:C.stringValue,related_datasets:c,related_projectitems:d,total_fund:(k=l==null?void 0:l.total_fund)==null?void 0:k.stringValue,type:(A=l==null?void 0:l.type)==null?void 0:A.stringValue}),f=[];(M=(D=(U=l==null?void 0:l.users)==null?void 0:U.arrayValue)==null?void 0:D.values)==null||M.map(R=>{f==null||f.push(R.stringValue)});const[p,g]=T.useState(f);T.useEffect(()=>{da(),ua(),Kc()},[]);const y=R=>{const{id:F,value:K}=R.target;h(ne=>({...ne,[F]:K}))},b=async()=>{if(!u.title||!u.description||!u.type||!u.copis||!u.total_fund||!u.funding_agency||!u.pis||!u.jrf_phd_scholar||!p){V("danger","Please fill out all fields.");return}n(!0);try{const R=Fe(G,"projects_main",l==null?void 0:l._id);await en(R,{...u,users:p}),V("success","Project has been saved!"),h(I6),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{V("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:R=>{const F=R.target.value;!p||F===""||(p.includes(F)?alert("User with this name already existed."):g([...p,F]))},children:[a.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((R,F)=>{var K,ne,le;return a.jsxs("option",{value:(K=R==null?void 0:R.data)==null?void 0:K.email,children:[(ne=R==null?void 0:R.data)==null?void 0:ne.name,"-",(le=R==null?void 0:R.data)==null?void 0:le.email]},F)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((R,F)=>a.jsxs("span",{className:"badge bg-success",children:[R," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const K=p.filter(ne=>ne!==R);g(K)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},F))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:y,value:u.title,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:y,value:u.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:y,value:u.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:y,value:u.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y,value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:y,value:u.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:R=>{const F=R.target.value;F!==""&&(u.related_datasets.includes(F)||h(K=>({...K,related_datasets:[...K.related_datasets,F]})))},value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((R,F)=>a.jsx("option",{value:R==null?void 0:R._id,children:R==null?void 0:R.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(O=u.related_datasets)==null?void 0:O.map((R,F)=>{const K=s==null?void 0:s.find(ne=>(ne==null?void 0:ne._id)==R);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:K==null?void 0:K.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(ne=>{var le;return{...ne,related_datasets:(le=u==null?void 0:u.related_datasets)==null?void 0:le.filter(fe=>fe!==R)}})},children:"Remove"})})]})})})]}),!((L=u.related_datasets)!=null&&L.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:R=>{const F=R.target.value;F!==""&&(u.related_projectitems.includes(F)||h(K=>({...K,related_projectitems:[...K.related_projectitems,F]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((R,F)=>a.jsx("option",{value:R==null?void 0:R._id,children:R==null?void 0:R.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:($=u.related_projectitems)==null?void 0:$.map((R,F)=>{const K=r==null?void 0:r.find(ne=>(ne==null?void 0:ne._id)==R);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:K==null?void 0:K.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(ne=>{var le;return{...ne,related_projectitems:(le=u==null?void 0:u.related_projectitems)==null?void 0:le.filter(fe=>fe!==R)}})},children:"Remove"})})]})})})]}),!((H=u.related_projectitems)!=null&&H.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsx("div",{className:"p-3 mt-4  col-sm-12",children:a.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:b,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},tP=async()=>{try{const t=ce(G,"gallery_images"),e=await Be(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.id.stringValue;console.log(i);const c=i.timestamp.timestampValue,d=l?await P6(l):null;n.push({_id:o,datetime:c,bannerURL:d})});await Promise.all(r),ft.dispatch(UB(n))}catch(t){console.error("Error fetching Gallery:",t)}},P6=async t=>{try{const e=Pe(Ae,`gallery_images/${t}`);return await Br(e)}catch{return null}};async function nP(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=Fe(G,"gallery_images",t),i=(await Jn(n)).data().banner;if(await hn(n),i){const o=Pe(Ae,`gallery_images/${i}`);await yr(o)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch(n){console.log(n),e||alert("Error deleting Gallery!")}}async function A6(t){for(let e=0;e<t.length;e++)await nP(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function Fx(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function k6(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}function R6(t){const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);let s=Math.floor(r/31536e3);return s>=1?s+" year"+(s>1?"s":"")+" ago":(s=Math.floor(r/2592e3),s>=1?s+" month"+(s>1?"s":"")+" ago":(s=Math.floor(r/86400),s>=1?s+" day"+(s>1?"s":"")+" ago":(s=Math.floor(r/3600),s>=1?s+" hour"+(s>1?"s":"")+" ago":(s=Math.floor(r/60),s>=1?s+" minute"+(s>1?"s":"")+" ago":Math.floor(r)+" second"+(r>1?"s":"")+" ago"))))}const D6=()=>{const t=J(h=>h.getgallery).data,[e,n]=T.useState([]),[r,s]=T.useState(!1),[i,o]=T.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=T.useState(0);T.useEffect(()=>{tP()},[]);const d=h=>{const f=h.target.files;if(f){if(f.length>10){V("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(y=>{const b=new FileReader;b.onload=()=>{typeof b.result=="string"&&g.push(b.result),g.length===p.length&&n(g)},b.readAsDataURL(y)})}},u=async()=>{if(!e.length){V("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=kx(),g=Pe(Ae,`gallery_images/${p}`),y=await fetch(f).then(m=>m.blob()),b=iI(g,y);return new Promise((m,x)=>{b.on("state_changed",v=>{const j=(v.bytesTransferred/v.totalBytes*100).toFixed(2);c(Number(j))},v=>{V("danger","Error uploading image! Try again."),x(v)},async()=>{await it(ce(G,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),V("success","Images has been saved!")}catch(h){V("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Gallery Images"}),a.jsxs("div",{children:[i.selectedChecks.length!==0&&a.jsx("button",{className:"btn btn-danger",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await A6(i.selectedChecks),V("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected("+i.selectedChecks.length+")"}),a.jsx("button",{className:"btn btn-dark rounded-0 ms-2","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>o({selectedAll:h.target.checked,selectedChecks:h.target.checked?O6(t):[]}),checked:i.selectedAll})," ",a.jsx("span",{children:"Select All "})]})}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return a.jsxs("tr",{children:[a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?o({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):o({selectedAll:!1,selectedChecks:i.selectedChecks.filter(y=>y!=(h==null?void 0:h._id))})},checked:p})}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx(re,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:a.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),a.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[k6(h.datetime)," on"," ",Fx(h.datetime)]}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:async()=>{await nP(h._id,!1),V("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:r,multiple:!0})]}),a.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",a.jsx("strong",{className:"fw-bold text-danger",children:"10 Images at a time"}),"!"]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:u,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),a.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[a.jsxs("h4",{className:"my-2 text-danger",children:["Preview (",e.length," selected)"]}),a.jsx("button",{className:"btn btn-sm btn-danger",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),a.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>a.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},O6=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},Ux=async()=>{try{const t=ce(G,"project_main_images"),e=await Be(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(u=i==null?void 0:i.title)==null?void 0:u.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,d=l?await L6(c,l):null;n.push({_id:o,title:l,bannerURL:d,project:c})});await Promise.all(r),ft.dispatch($B(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},L6=async(t,e)=>{try{const n=Pe(Ae,`project_main_images/${t+e}`);return await Br(n)}catch{return null}};async function M6(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=Fe(G,"project_main_images",t),s=(await Jn(e)).data().banner;if(await hn(e),s){const i=Pe(Ae,`project_main_images/${s}`);await yr(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsImages!")}}}const V6=()=>{var p,g,y,b,m,x,v;const{id:t}=Ur(),e=J(j=>{var S;return(S=j.getprojectsmain)==null?void 0:S.data}),n=J(j=>{var S;return(S=j.getprojectsimages)==null?void 0:S.data}),r=e.find(j=>j._id===t),s=n.filter(j=>(j==null?void 0:j.project)===t);if(!r){history.back();return}const[i,o]=T.useState(null),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{Ux()},[]);const h=j=>{if(j.target.files&&j.target.files.length>0){const S=new FileReader;S.onload=()=>{o(S.result)},S.readAsDataURL(j.target.files[0])}},f=async()=>{if(!i||!l){V("danger","Please select an image and provide a title!");return}u(!0);const j=Pe(Ae,`project_main_images/${t+l}`),S=await fetch(i).then(E=>E.blob());try{await $r(j,S),await it(ce(G,"project_main_images"),{title:l,project:t}),V("success","Image with title has been saved!"),c(""),o(null),u(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),c(""),o(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-danger",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(y=r==null?void 0:r.total_fund)==null?void 0:y.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(b=r==null?void 0:r.pis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(x=r==null?void 0:r.jrf_phd_scholar)==null?void 0:x.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-danger",children:"Introduction "})}),a.jsx("br",{}),(v=r==null?void 0:r.description)==null?void 0:v.stringValue]})})]})})})}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:s==null?void 0:s.map((j,S)=>a.jsxs("tr",{children:[a.jsx("td",{children:S+1}),a.jsx("td",{children:j==null?void 0:j.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(re,{target:"_blank",to:j==null?void 0:j.bannerURL,children:a.jsx("img",{className:"rounded-2",src:j==null?void 0:j.bannerURL,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>M6(j._id),children:"Delete"})})})]})})]},S))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:j=>c(j.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},rP=async()=>{console.log("Started!");try{Xt.onAuthStateChanged(async t=>{if(t){const e=jr(ce(G,"users"),lr("email","==",t.email)),n=await Be(e);if(n.empty)console.log("failed!"),ft.dispatch(c_());else{const s=n.docs[0].data(),{email:i,userType:o}=s,l=t==null?void 0:t.emailVerified;console.log({email:i,userType:o,isVarified:l}),ft.dispatch(TB({email:i,userType:o,isVarified:l}))}}})}catch(t){console.error("Error in getUserAuth:",t),ft.dispatch(c_())}},F6=()=>{var j,S;const t=J(E=>E.getauth),e=J(E=>E.getsupervisors.data),n=J(E=>E.getphdStudents.data),[r,s]=T.useState(!1),[i,o]=T.useState(!1),[l,c]=T.useState([]),[d,u]=T.useState([]),[h,f]=T.useState({email:"",name:""}),p=async()=>{o(!0);const E=await Be(ce(G,"users"));let I=[];E.forEach(async w=>{var N;const _=w.data();if((N=_==null?void 0:_.userType)!=null&&N.includes("ADMIN")){const P=_.userType;console.log({email:_.email,userType:P}),I.push({email:_.email,userType:P})}}),c(I),o(!1)},g=async()=>{o(!0),u([]);const E=await Be(ce(G,"users_requests"));let I=[];E.forEach(async w=>{const _=w.data(),N=_.userType;I.push({email:_.email,userType:N})}),u(I),o(!1)};T.useEffect(()=>{var E;rP(),ko(),fs(),p(),(E=t==null?void 0:t.userType)!=null&&E.includes("ADMIN")&&g()},[]);const y=async()=>{s(!0);try{(await Be(jr(ce(G,"users_requests"),lr("email","==",t==null?void 0:t.email),lr("userType","==",t==null?void 0:t.userType)))).empty?(await it(ce(G,"users_requests"),{email:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),V("success","Your request has been sent successfully. Please wait for the admin's approval.")):V("warning","A request with the same email and user type already exists. Please wait for the admin's approval.")}catch(E){console.error("Error while adding admin request:",E),V("danger","Error while adding admin request!")}s(!1)},b=async E=>{s(!0);try{const I=await Be(jr(ce(G,"users_requests"),lr("email","==",E)));I.empty?V("danger","No requests found with the provided email"):(I.forEach(async w=>{await hn(w.ref)}),V("success","Requests deleted successfully"))}catch{V("danger","Error deleting requests!")}s(!1),window.location.reload()},m=async E=>{s(!0);try{const I=jr(ce(G,"users"),lr("email","==",E)),w=await Be(I),_=w.docs[0].data();if(!_.userType||!_.userType.includes("ADMIN")){const N=_.userType?_.userType+",ADMIN":"ADMIN";await en(Fe(G,"users",w.docs[0].id),{userType:N}),V("success","Admin rights given successfully."),await b(E),window.location.reload()}else V("warning","The selected user is already an admin.")}catch{V("danger","Error while approving admin request!")}s(!1)},x=async()=>{s(!0);try{const E=jr(ce(G,"users"),lr("email","==",h.email)),I=await Be(E),w=I.docs[0].data();if(!w.userType||!w.userType.includes("ADMIN")){const _=w.userType?w.userType+",ADMIN":"ADMIN";await en(Fe(G,"users",I.docs[0].id),{userType:_}),V("success","Admin rights given successfully."),window.location.reload()}else V("warning","The selected user is already an admin.")}catch(E){console.error("Error in changing admin rights:",E),V("danger","Error in changing admin rights")}s(!1)},v=async E=>{s(!0);try{const I=await Be(jr(ce(G,"users"),lr("email","==",E))),w=[];I.forEach(_=>{const N=_.data();if(N.userType.includes("ADMIN")){const P=N.userType.replace("ADMIN","").replace(",","");w.push(en(Fe(G,"users",_.id),{userType:P}))}}),await Promise.all(w),V("success","Admin rights removed successfully from this user."),window.location.reload()}catch{V("danger","Error, while removing admin rights. Try again later.")}s(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Current Site Admins"}),(j=t==null?void 0:t.userType)!=null&&j.includes("ADMIN")?a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-danger btn-sm rounded-0 d-flex justify-content-center align-items-center me-1",disabled:!0,children:"Remove Admin Rights"}),a.jsxs("button",{className:"btn btn-dark btn-sm rounded-0 d-flex justify-content-center align-items-center","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:[a.jsx("i",{className:"bx bxs-edit me-1"})," Change Site Admin"]})]}):a.jsx("button",{className:"btn btn-primary btn-sm rounded-0 d-flex justify-content-center align-items-center",onClick:y,disabled:r,children:r?"Sending Request...":"Request Admin Rights"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:l.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-danger",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[" ",(t==null?void 0:t.email)!==E.email&&t.userType.includes("ADMIN")?a.jsx("button",{className:"btn btn-outline-danger ms-2 btn-sm",onClick:()=>{confirm("Are you sure to delete this user?")&&v(E.email)},disabled:r,children:"Delete"}):a.jsx("button",{className:"btn btn-primary ms-2 btn-sm",disabled:!0,children:"Not Available"})]})]},I))}),!l.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"No Data"})})})]})]})}),((S=t==null?void 0:t.userType)==null?void 0:S.includes("ADMIN"))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Admin Requests"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:d.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-danger",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[a.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>b(E.email),disabled:r,children:"Reject"}),a.jsx("button",{className:" ms-2 btn btn-outline-primary btn-sm",onClick:()=>m(E.email),disabled:r,children:"Approve"})]})]},I))}),!d.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"No Requests"})})})]})]})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Change Site Admin"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select User (",a.jsx("strong",{className:"text-danger",children:"*It can be supervisor as well as PHD Student."}),")",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:E=>{var w,_,N,P,C;let I=(_=(w=e.filter(k=>{var A;return((A=k==null?void 0:k.data)==null?void 0:A.name)===E.target.value})[0])==null?void 0:w.data)==null?void 0:_.email;I||(I=(C=(P=(N=n.filter(k=>{var A,U;return((U=(A=k==null?void 0:k.data)==null?void 0:A.name)==null?void 0:U.stringValue)===E.target.value})[0])==null?void 0:N.data)==null?void 0:P.email)==null?void 0:C.stringValue),f({name:E.target.value,email:I})},disabled:r,children:[a.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((E,I)=>{var w,_,N;return a.jsxs("option",{value:(w=E==null?void 0:E.data)==null?void 0:w.name,children:[(_=E==null?void 0:E.data)==null?void 0:_.name,",",(N=E==null?void 0:E.data)==null?void 0:N.email,", Supervisor"]},I)}),n==null?void 0:n.map((E,I)=>{var w,_,N,P,C,k;return a.jsxs("option",{value:(_=(w=E==null?void 0:E.data)==null?void 0:w.name)==null?void 0:_.stringValue,children:[(P=(N=E==null?void 0:E.data)==null?void 0:N.name)==null?void 0:P.stringValue,",",(k=(C=E==null?void 0:E.data)==null?void 0:C.email)==null?void 0:k.stringValue,", PHD Student"]},I)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:h.name?a.jsxs("table",{className:"table table-bordered table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("th",{children:h.name}),a.jsx("th",{children:h.email}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>f({email:"",name:""}),disabled:r,children:"Remove"})})]})})]}):a.jsx("div",{className:"w-100 h5 text-danger text-center my-3",children:"No User Selected"})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:r,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},sP=[{to:"supervisors",text:"Supervisors"},{to:"site-admin",text:"Site Admin"},{to:"cv",text:"Upload CV"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"datasets",text:"Datasets"},{to:"news",text:"News"},{to:"slider-images",text:"Slider Images"},{to:"gallary-images",text:"Gallery Images"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"change-password",text:"Change Password"}],Rp=[{to:"",text:"Home"},...sP],Dp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},...sP],Op=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"datasets",text:"Datasets"},{to:"change-password",text:"Change Password"}],Lp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"change-password",text:"Change Password"}],U6=()=>{var d,u;const{id:t}=Ur(),n=J(h=>h.getdatasets).data.find(h=>h._id===t);if(!n){history.back();return}const[r,s]=T.useState(null),[i,o]=T.useState(!1);T.useEffect(()=>{da()},[]);const l=h=>{if(h.target.files&&h.target.files.length>0){const f=new FileReader;f.onload=()=>{s(f.result)},f.readAsDataURL(h.target.files[0])}},c=async()=>{if(!r){V("danger","Please select an image.");return}o(!0);const h=t+"_"+kx(),f=Pe(Ae,`dataset_images/${h}`),p=await fetch(r).then(g=>g.blob());try{await $r(f,p);const g=Fe(G,"datasets",t||""),y=await Jn(g);if(y.exists()){const x=[...y.data().images||[],h];await en(g,{images:x}),V("success","Document successfully updated with new image!")}else V("danger","Something went wrong!");s(null),o(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),s(null),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3 w-100 justify-justify-content-start",children:[a.jsx("button",{className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Upload Image"}),a.jsx("button",{className:"btn btn-danger",onClick:()=>history.back(),children:"Back to Datasets"})]}),a.jsx("h4",{className:"fw-bold",children:"1. Dataset Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto my-4 card p-3 rounded-0",children:n==null?void 0:n.description}),a.jsx("h4",{className:"fw-bold",children:"2. Dataset Images"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsxs("tbody",{children:[(d=n==null?void 0:n.images)==null?void 0:d.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(re,{target:"_blank",to:h==null?void 0:h.url,children:a.jsx("img",{className:"rounded-2",src:h==null?void 0:h.url,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>v5(n._id,h==null?void 0:h.name),children:"Delete"})})})]})})]},f)),!((u=n==null?void 0:n.images)!=null&&u.length)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"fw-bold h3 text-success p-5 text-center",children:"No Data"})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Upload Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},$6=()=>{var y,b,m,x,v,j,S,E,I,w,_,N,P,C,k,A,U,D,M,O,L,$,H,R,F,K,ne,le,fe,Ee,ee,ue,se,be,ge,Se,Ie,ae,ke,Z,$e,Et,Nt,Me,X,Xe;const t=J(W=>W.getauth),e=(y=J(W=>W.getphdStudents))==null?void 0:y.data,n=e==null?void 0:e.filter(W=>{var Re,Le;return((Le=(Re=W==null?void 0:W.data)==null?void 0:Re.email)==null?void 0:Le.stringValue)===(t==null?void 0:t.email)})[0];let r="";(x=(m=(b=n==null?void 0:n.data)==null?void 0:b.researchInterests)==null?void 0:m.arrayValue)==null||x.values.map(W=>{r=r+(r===""?"":",")+(W==null?void 0:W.stringValue)});let s=[];(S=(j=(v=n==null?void 0:n.data)==null?void 0:v.links)==null?void 0:j.arrayValue)==null||S.values.map(W=>{var Re,Le,zt,Nn,tr,nr;s.push({linkName:(zt=(Le=(Re=W==null?void 0:W.mapValue)==null?void 0:Re.fields)==null?void 0:Le.linkName)==null?void 0:zt.stringValue,linkURL:(nr=(tr=(Nn=W==null?void 0:W.mapValue)==null?void 0:Nn.fields)==null?void 0:tr.linkURL)==null?void 0:nr.stringValue})});const[i,o]=T.useState(!1),[l,c]=T.useState(),[d,u]=T.useState({name:(I=(E=n==null?void 0:n.data)==null?void 0:E.name)==null?void 0:I.stringValue,email:(_=(w=n==null?void 0:n.data)==null?void 0:w.email)==null?void 0:_.stringValue,phone:(P=(N=n==null?void 0:n.data)==null?void 0:N.mobile)==null?void 0:P.stringValue,researchInterests:r,introduction:(k=(C=n==null?void 0:n.data)==null?void 0:C.introduction)==null?void 0:k.stringValue,links:s||[],personal_email:((U=(A=n==null?void 0:n.data)==null?void 0:A.personal_email)==null?void 0:U.stringValue)||""}),[h,f]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{ko()},[]);const p=W=>{const{name:Re,value:Le}=W.target;u(zt=>({...zt,[Re]:Le}))},g=async()=>{o(!0);const W=Fe(G,"phdStudents",n==null?void 0:n._id);if(l){const Re=Pe(Ae,`/peoples/phd_profile_images/${d.name}_${l.name}`);await $r(Re,l).then(async()=>{V("success","Profile image uploaded successfully");try{const Le=await Jn(W);if(Le.exists()){const zt={...Le.data(),...d,researchInterests:d.researchInterests.split(",").map(Nn=>Nn.trim()),profileImage:d.name+"_"+l.name};await en(W,zt),V("success","Document successfully updated!")}else console.log("No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{V("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),o(!1)})}else try{const Re=await Jn(W);if(Re.exists()){const Le={...Re.data(),...d,researchInterests:d.researchInterests.split(",").map(zt=>zt.trim())};await en(W,Le),console.log("Document successfully updated!")}else console.log("No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{V("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Profile"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"Edit Profile"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:n==null?void 0:n.profileImage,target:"_blank",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsx("td",{colSpan:7,children:(M=(D=n==null?void 0:n.data)==null?void 0:D.isAlumni)!=null&&M.booleanValue?a.jsx("div",{className:"fw-bold text-danger",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-danger",children:"Ongoing Student"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Name"})}),a.jsx("td",{children:(L=(O=n==null?void 0:n.data)==null?void 0:O.name)==null?void 0:L.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-danger",children:"Email"})}),a.jsx("td",{children:(H=($=n==null?void 0:n.data)==null?void 0:$.email)==null?void 0:H.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Batch"})]}),a.jsx("td",{children:((F=(R=n==null?void 0:n.data)==null?void 0:R.batch)==null?void 0:F.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(Ee=(fe=(le=(ne=(K=n==null?void 0:n.data)==null?void 0:K.supervisor)==null?void 0:ne.mapValue)==null?void 0:le.fields)==null?void 0:fe.name)==null?void 0:Ee.stringValue,", ",a.jsx("strong",{children:"Email: "}),(ge=(be=(se=(ue=(ee=n==null?void 0:n.data)==null?void 0:ee.supervisor)==null?void 0:ue.mapValue)==null?void 0:se.fields)==null?void 0:be.email)==null?void 0:ge.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Ie=(Se=n==null?void 0:n.data)==null?void 0:Se.mobile)==null?void 0:Ie.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((ke=(ae=n==null?void 0:n.data)==null?void 0:ae.personal_email)==null?void 0:ke.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Nt=(Et=($e=(Z=n==null?void 0:n.data)==null?void 0:Z.researchInterests)==null?void 0:$e.arrayValue)==null?void 0:Et.values)==null?void 0:Nt.map((W,Re)=>a.jsx(re,{to:"https://www.google.com/search?q="+(W==null?void 0:W.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:W==null?void 0:W.stringValue},Re)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(X=(Me=n==null?void 0:n.data)==null?void 0:Me.introduction)==null?void 0:X.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Links"})}),a.jsx("td",{colSpan:7,children:s.map(W=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(W==null?void 0:W.linkURL,"_blank"),children:W==null?void 0:W.linkName}))})]})]})})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Edit Profile"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name"," ",a.jsx("strong",{className:"text-danger",children:"*(You can't change name)"})]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:d.name,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email"," ",a.jsx("strong",{className:"text-danger",children:"*(You can't change email)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:d.email,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Personal Email",a.jsx("strong",{className:"text-danger",children:"*(Optional)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"personal_email",value:d.personal_email,onChange:p,disabled:i})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:d.phone,onChange:p,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:W=>{var Le;const Re=(Le=W.target.files)==null?void 0:Le[0];c(Re)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:d.researchInterests,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:d.introduction,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:W=>f({linkName:W.target.value,linkURL:h.linkURL}),value:h.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:W=>f({linkName:h.linkName,linkURL:W.target.value}),value:h.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!h.linkName||!h.linkURL){V("danger","Link Name and URL are required fields.");return}if(d.links.includes(h)){V("danger","This link already exists.");return}u({...d,links:[...d.links,h]}),f({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(Xe=d==null?void 0:d.links)==null?void 0:Xe.map((W,Re)=>a.jsxs("tr",{children:[a.jsx("th",{children:Re+1}),a.jsx("th",{children:W==null?void 0:W.linkName}),a.jsx("th",{children:a.jsx("a",{href:W==null?void 0:W.linkURL,target:"_blank",children:W==null?void 0:W.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u({...d,links:d==null?void 0:d.links.filter(Le=>Le.linkName!==(W==null?void 0:W.linkName))})},children:"Remove"})})]}))})]}),!(d!=null&&d.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},nj="/CVPR_LAB/assets/pdf-0ZyWgAAD.png",wf=async t=>{if(!t){V("danger","Invalid parameters!");return}console.log("getting..");try{const e=Pe(Ae,`users_resume/${t}`);return await Br(e)}catch{return null}},$x=async t=>{if(!t){V("danger","Invalid parameters!");return}console.log("getting..");try{const e=Pe(Ae,`project_videos/video_${t}`);return await Br(e)}catch{return null}};function iP(t){navigator.clipboard.writeText(t).then(function(){V("success","Text copied to clipboard successfully")}).catch(function(){V("danger","Could not copy text: "+t)})}const Mp=1,B6=()=>{const t=J(h=>h.getauth),[e,n]=T.useState(!1),[r,s]=T.useState(null),[i,o]=T.useState("");T.useEffect(()=>{(async()=>{n(!0);const f=await wf(t==null?void 0:t.email);if(!f||f===null){n(!1);return}o(f),n(!1)})()},[]);const l=h=>{const f=h.target.files&&h.target.files[0];f&&(f.size/1048576>Mp?(V("danger","File size must be less than "+Mp+"Mb"),s(null)):s(f))},c=()=>{if(r){const h=URL.createObjectURL(r),f=window.open(h,"_blank","width=500,height=600");f&&f.focus()}else V("danger","No File Selected")},d=async()=>{if(!r){V("danger","Please select a file.");return}n(!0);try{if(!(t!=null&&t.email)){V("danger","Invalid Parameters.");return}const h=Pe(Ae,"users_resume/"+(t==null?void 0:t.email)),f=new FileReader,p=await new Promise((b,m)=>{f.onload=x=>{var v;((v=x.target)==null?void 0:v.result)instanceof ArrayBuffer?b(x.target.result):m(new Error("Failed to read file"))},f.readAsArrayBuffer(r)}),g=new Uint8Array(p);await $r(h,g,{contentType:"application/pdf"}),V("success","Upload Successful!")}catch{V("danger","Error, while uploading the CV, Please try again later.")}s(null),n(!1),window.location.reload()},u=async()=>{if(confirm("Are you sure want to delete?")){n(!0);try{const h=Pe(Ae,"users_resume/"+(t==null?void 0:t.email));await yr(h),V("success","CV Deleted Successfully!"),window.location.reload()}catch{V("danger","Error while deleting the cv. Please try again later.")}n(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Resume"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Upload CV"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!i&&!e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No CV Uploaded"})}),e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),i&&!e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"fit-content"},children:a.jsx("img",{src:nj,alt:"PDF Icons",style:{width:"200px"},srcSet:nj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const h=window.open(i,"_blank","width=550,height=700");h&&h.focus()},disabled:e,children:a.jsx("h3",{children:"Resume.pdf"})}),a.jsxs("p",{className:"text-muted",children:["Current Version("," ",a.jsx("a",{href:i,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")"]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-danger btn-sm me-2",onClick:()=>iP(i),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:u,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Upload Your CV"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select PDF file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"application/pdf",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:l}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-danger p-3",style:{width:"100px"},disabled:e||!r,onClick:()=>c(),children:"Open"})})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a PDF file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select PDF file" button.'}),a.jsx("li",{children:"Choose the PDF file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: PDF (.pdf)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",Mp,"MB"]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:e,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},rj="/CVPR_LAB/assets/video-SNzMg2sE.png",Vp=10,z6=()=>{var y,b,m,x,v,j,S,E,I,w,_,N,P,C,k;const{id:t}=Ur(),e=J(A=>{var U;return(U=A.getprojectsmain)==null?void 0:U.data}),n=e.find(A=>A._id===t);if(!n||!e){history.back();return}const[r,s]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(0),[d,u]=T.useState("");T.useEffect(()=>{const A=async()=>{s(!0);const U=await $x(t);if(!U||U===null){s(!1);return}u(U),s(!1)};Kc(),A()},[]);const h=A=>{const U=A.target.files&&A.target.files[0];if(U){const D=U.size/1048576;D>Vp?(V("danger","Video File size must be less than "+Vp+"Mb, Select File Size:"+D.toFixed(0)+"MB"),o(null)):o(U)}},f=async()=>{if(!i){V("danger","Please select a valid video file!");return}s(!0);try{const A={contentType:"video/mp4"},U="video_"+t,D=Pe(Ae,`project_videos/${U}`),O=iI(D,i,A);await new Promise((L,$)=>{O.on("state_changed",H=>{const R=(H.bytesTransferred/H.totalBytes*100).toFixed(2);c(Number(R))},H=>{V("danger","Error uploading video! Try again."),s(!1),$(H)},async()=>{const H=Fe(G,"projects_main",n==null?void 0:n._id);await en(H,{video:{timestamp:k2(),name:U}}),V("success","Video has been uploaded!"),s(!1),L(),location.reload()})})}catch{V("danger","Error uploading the video, Try Again!"),s(!1)}o(null)},p=async()=>{if(confirm("Are you sure want to delete?")){s(!0);try{const A=Pe(Ae,"project_videos/video_"+t);await yr(A);const U=Fe(G,"projects_main",t);await en(U,{video:{timestamp:null,name:null}}),V("success","Deleted Successfully!"),window.location.reload()}catch{V("danger","Error while deleting. Please try again later.")}s(!1)}},g=()=>{if(i){const A=URL.createObjectURL(i),U=window.open(A,"_blank","width=500,height=600");U&&U.focus()}else V("danger","No File Selected")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-danger",children:(y=n==null?void 0:n.title)==null?void 0:y.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsxs("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:[a.jsx("i",{className:"bx bx-upload me-1"}),"Upload Video"]}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(b=n==null?void 0:n.funding_agency)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(m=n==null?void 0:n.total_fund)==null?void 0:m.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(x=n==null?void 0:n.pis)==null?void 0:x.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(v=n==null?void 0:n.copis)==null?void 0:v.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(j=n==null?void 0:n.jrf_phd_scholar)==null?void 0:j.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-danger",children:"Introduction "})}),a.jsx("br",{}),(S=n==null?void 0:n.description)==null?void 0:S.stringValue]})})]})})})}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!d&&!r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No Video Uploaded"})}),r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),d&&!r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"ps-3",style:{width:"fit-content"},children:a.jsx("img",{src:rj,alt:"PDF Icons",style:{width:"200px"},srcSet:rj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const A=window.open(d,"_blank","width=550,height=700");A&&A.focus()},disabled:r,children:a.jsxs("h3",{children:["Video_",t,".mp4"]})}),a.jsxs("p",{className:"text-muted",children:["Current Version(",a.jsx("a",{href:d,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")",a.jsx("br",{})," ",a.jsxs("small",{children:["Uploaded On:"," ",a.jsx("strong",{className:"text-danger",children:R6((_=(w=(I=(E=n==null?void 0:n.video)==null?void 0:E.mapValue)==null?void 0:I.fields)==null?void 0:w.timestamp)==null?void 0:_.timestampValue)})," ","(",(k=(C=(P=(N=n==null?void 0:n.video)==null?void 0:N.mapValue)==null?void 0:P.fields)==null?void 0:C.timestamp)==null?void 0:k.timestampValue,")"]})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-danger btn-sm me-2",onClick:()=>iP(d),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:p,disabled:r,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"addSliderModalLabel",children:[a.jsx("i",{className:"bx bx-upload me-1"})," Upload Video"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select Video file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"video/mp4",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:h}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-danger p-3",style:{width:"100px"},disabled:r||!i,onClick:()=>g(),children:"Open"})})]})]}),r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l," %"]})}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a Video file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select Video file" button.'}),a.jsx("li",{children:"Choose the Video file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: Video (.mp4)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",Vp,"MB"]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},H6=()=>{const t=J(l=>l.getauth),[e,n]=T.useState(0),[r,s]=T.useState(!1);T.useEffect(()=>{const l=Xt.onAuthStateChanged(async c=>{if(!c)try{await Xt.signOut(),window.location.href="/"}catch{console.error("Error logging out.")}});return()=>l()},[]),T.useEffect(()=>{rP()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await Xt.signOut(),window.close()}catch{console.error("Error logging out.")}},o=async()=>{s(!0);try{const l=Xt==null?void 0:Xt.currentUser;l?(await b4(l),V("success","Email has been sent, kindly check your inbox or spam!"),s(!1)):(V("danger","No authenticated user found!"),s(!1))}catch{V("danger","Error sending email verification!"),s(!1)}window.location.reload()};if(!(t!=null&&t.email)&&!(t!=null&&t.userType))return a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t!=null&&t.email)return a.jsxs(a.Fragment,{children:[!(t!=null&&t.isVarified)&&a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh",position:"fixed",top:0,left:0,zIndex:999,backgroundColor:"#000000c8"},children:a.jsxs("div",{className:"alert alert-danger fw-bold hover_",children:[a.jsx("h4",{className:"fw-bold text-danger",children:"Warning"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account has not yet been verified."}),a.jsx("li",{children:"You cannot perform actions until your account is verified."}),a.jsxs("li",{children:["To send a verification email, click on the following link:"," ",a.jsx("button",{className:"btn btn-link text-danger fw-bold px-1 py-0",onClick:o,disabled:r,children:r?"Sending...":"Click here"})]}),a.jsxs("li",{children:["If you wish to close the window, click the following link:"," ",a.jsx("button",{className:"btn btn-link text-danger fw-bold px-1 py-0",onClick:i,children:"Close Window"})]})]})]})}),a.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("h4",{children:["Welcome, ",t==null?void 0:t.email,"(",a.jsx("strong",{className:"text-danger",children:t==null?void 0:t.userType}),")"]})})}),a.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("div",{className:"list-group",children:[(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Rp==null?void 0:Rp.map((l,c)=>a.jsx(re,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Dp==null?void 0:Dp.map((l,c)=>a.jsx(re,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Lp==null?void 0:Lp.map((l,c)=>a.jsx(re,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Op==null?void 0:Op.map((l,c)=>a.jsx(re,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),a.jsxs(re,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:[a.jsx("i",{className:"bx bxs-home-alt-2 me-1"})," Website Home"]}),a.jsxs(re,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[a.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),a.jsx(Bt,{children:a.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),(t==null?void 0:t.isVarified)&&a.jsxs(Hv,{children:[a.jsx(xe,{element:a.jsx("h1",{children:"Not Found"}),path:"*"}),a.jsx(xe,{element:a.jsx("div",{className:"w-100 p-3 card mx-3",children:a.jsx("h1",{className:"fw-bold text-danger",children:"Welcome, Computer Vision Website"})}),path:"/"}),a.jsx(xe,{element:a.jsx(p5,{}),path:"/supervisors"}),a.jsx(xe,{element:a.jsx(T6,{}),path:"/supervisors/:id"}),a.jsx(xe,{element:a.jsx(n9,{}),path:"/publications"}),a.jsx(xe,{element:a.jsx(S6,{userEmail:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),path:"/publications/:id"}),a.jsx(xe,{element:a.jsx(c5,{}),path:"/peoples"}),a.jsx(xe,{element:a.jsx(B6,{}),path:"/cv"}),a.jsx(xe,{element:a.jsx(_5,{}),path:"/research"}),a.jsx(xe,{element:a.jsx(N5,{}),path:"/research/:id"}),a.jsx(xe,{element:a.jsx(S5,{}),path:"/projects-items"}),a.jsx(xe,{element:a.jsx(P5,{}),path:"/projects"}),a.jsx(xe,{element:a.jsx(C6,{}),path:"/projects/:id"}),a.jsx(xe,{element:a.jsx(V6,{}),path:"/projects/images/:id"}),a.jsx(xe,{element:a.jsx(z6,{}),path:"/projects/video/:id"}),a.jsx(xe,{element:a.jsx(y5,{}),path:"/datasets"}),a.jsx(xe,{element:a.jsx(U6,{}),path:"/datasets/:id"}),a.jsx(xe,{element:a.jsx(a9,{}),path:"/news"}),a.jsx(xe,{element:a.jsx(l9,{}),path:"/change-password"}),a.jsx(xe,{element:a.jsx(s5,{}),path:"/slider-images"}),a.jsx(xe,{element:a.jsx(D6,{}),path:"/gallary-images"}),a.jsx(xe,{element:a.jsx(F6,{}),path:"/site-admin"}),a.jsx(xe,{element:a.jsx($6,{}),path:"/profile-phd"})]})]})]})},W6="/CVPR_LAB/assets/logo-a-zcNRwG.png",q6=()=>a.jsx(a.Fragment,{children:a.jsxs("div",{role:"navigation",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[a.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:a.jsx("div",{className:"",children:a.jsx("img",{className:"img-fluid",src:W6,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),a.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:a.jsxs("div",{className:"mt-2",children:[a.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),a.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:a.jsx("nav",{className:"navbar navbar-expand-md",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[a.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),a.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:a.jsxs("ul",{className:"navbar-nav mx-auto ",children:[a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),a.jsx("li",{className:"nav-item",children:a.jsx(re,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function sj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Bx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:sj(e[n])&&sj(t[n])&&Object.keys(e[n]).length>0&&Bx(t[n],e[n])})}const aP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ss(){const t=typeof document<"u"?document:{};return Bx(t,aP),t}const G6={document:aP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Fn(){const t=typeof window<"u"?window:{};return Bx(t,G6),t}function K6(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Y6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Bg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ih(){return Date.now()}function Q6(t){const e=Fn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function X6(t,e){e===void 0&&(e="x");const n=Fn();let r,s,i;const o=Q6(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Id(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function J6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Tn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!J6(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Id(t[l])&&Id(r[l])?r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l]):!Id(t[l])&&Id(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l])):t[l]=r[l])}}}return t}function Cd(t,e,n){t.style.setProperty(e,n)}function oP(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Fn(),i=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=n>i?"next":"prev",u=(f,p)=>d==="next"&&f>=p||d==="prev"&&f<=p,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Tr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function ah(t){try{console.warn(t);return}catch{}}function oh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:K6(e)),n}function Z6(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function eH(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Os(t,e){return Fn().getComputedStyle(t,null).getPropertyValue(e)}function lh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function lP(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function zg(t,e,n){const r=Fn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function It(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Fp;function tH(){const t=Fn(),e=ss();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function cP(){return Fp||(Fp=tH()),Fp}let Up;function nH(t){let{userAgent:e}=t===void 0?{}:t;const n=cP(),r=Fn(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&y.indexOf(`${l}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),d&&!p&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function dP(t){return t===void 0&&(t={}),Up||(Up=nH(t)),Up}let $p;function rH(){const t=Fn(),e=dP();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function sH(){return $p||($p=rH()),$p}function iH(t){let{swiper:e,on:n,emit:r}=t;const s=Fn();let i=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,y=p;h.forEach(b=>{let{contentBoxSize:m,contentRect:x,target:v}=b;v&&v!==e.el||(g=x?x.width:(m[0]||m).inlineSize,y=x?x.height:(m[0]||m).blockSize)}),(g!==f||y!==p)&&l()})}),i.observe(e.el))},d=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",u)})}function aH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Fn(),l=function(u,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const y=function(){s("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});p.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=lP(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var oH={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function lH(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Os(r,"padding-left")||0,10)-parseInt(Os(r,"padding-right")||0,10),n=n-parseInt(Os(r,"padding-top")||0,10)-parseInt(Os(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function cH(){const t=this;function e(N,P){return parseFloat(N.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=Tr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,x=t.slidesGrid.length;let v=n.spaceBetween,j=-y,S=0,E=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,u.forEach(N=>{o?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Cd(r,"--swiper-centered-offset-before",""),Cd(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let w;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(N=>typeof n.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<h;N+=1){w=0;let P;if(u[N]&&(P=u[N]),I&&t.grid.updateSlide(N,P,u),!(u[N]&&Os(P,"display")==="none")){if(n.slidesPerView==="auto"){_&&(u[N].style[t.getDirectionLabel("width")]="");const C=getComputedStyle(P),k=P.style.transform,A=P.style.webkitTransform;if(k&&(P.style.transform="none"),A&&(P.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?zg(P,"width",!0):zg(P,"height",!0);else{const U=e(C,"width"),D=e(C,"padding-left"),M=e(C,"padding-right"),O=e(C,"margin-left"),L=e(C,"margin-right"),$=C.getPropertyValue("box-sizing");if($&&$==="border-box")w=U+O+L;else{const{clientWidth:H,offsetWidth:R}=P;w=U+D+M+O+L+(R-H)}}k&&(P.style.transform=k),A&&(P.style.webkitTransform=A),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),u[N]&&(u[N].style[t.getDirectionLabel("width")]=`${w}px`);u[N]&&(u[N].swiperSlideSize=w),g.push(w),n.centeredSlides?(j=j+w/2+S/2+v,S===0&&N!==0&&(j=j-i/2-v),N===0&&(j=j-i/2-v),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),E%n.slidesPerGroup===0&&f.push(j),p.push(j)):(n.roundLengths&&(j=Math.floor(j)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(j),p.push(j),j=j+w+v),t.virtualSize+=w+v,S=w,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+b,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),I&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const N=[];for(let P=0;P<f.length;P+=1){let C=f[P];n.roundLengths&&(C=Math.floor(C)),f[P]<=t.virtualSize-i&&N.push(C)}f=N,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const N=g[0]+v;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),C=N*n.slidesPerGroup;for(let k=0;k<P;k+=1)f.push(f[f.length-1]+C)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+N),p.push(p[p.length-1]+N),t.virtualSize+=N}if(f.length===0&&(f=[0]),v!==0){const N=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((P,C)=>!n.cssMode||n.loop?!0:C!==u.length-1).forEach(P=>{P.style[N]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let N=0;g.forEach(C=>{N+=C+(v||0)}),N-=v;const P=N-i;f=f.map(C=>C<=0?-y:C>P?P+b:C)}if(n.centerInsufficientSlides){let N=0;if(g.forEach(P=>{N+=P+(v||0)}),N-=v,N<i){const P=(i-N)/2;f.forEach((C,k)=>{f[k]=C-P}),p.forEach((C,k)=>{p[k]=C+P})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Cd(r,"--swiper-centered-offset-before",`${-f[0]}px`),Cd(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const N=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+N),t.slidesGrid=t.slidesGrid.map(C=>C+P)}if(h!==d&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const N=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(N);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(N):P&&t.el.classList.remove(N)}}function dH(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function uH(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function hH(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),f=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),p=-(o-u),g=p+e.slidesSizesGrid[c],y=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),y&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=s?-h:h,d.originalProgress=s?-f:f}}function fH(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const c=i,d=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=u||s<=0,o=h||s>=1,u&&(s=0),h&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=f?l=(y-f)/g:l=(y+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function pH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Tr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,u;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=e.filter(h=>h.column===s)[0],u=e.filter(h=>h.column===s+1)[0],d=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(u=eH(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),d=Z6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Jd=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Bp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Hg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{l.includes(c.column)&&Bp(t,d)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&Bp(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&Bp(t,o)};function mH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function gH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let c=t,d;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=mH(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);d=p+Math.floor((c-p)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(c);else if(h){const p=e.slides.filter(y=>y.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&Hg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function vH(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var yH={updateSize:lH,updateSlides:cH,updateAutoHeight:dH,updateSlidesOffset:uH,updateSlidesProgress:hH,updateProgress:fH,updateSlidesClasses:pH,updateActiveIndex:gH,updateClickedSlide:vH};function xH(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=X6(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function bH(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=n.maxTranslate()-n.minTranslate();h===0?u=0:u=(t-n.minTranslate())/h,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function wH(){return-this.snapGrid[0]}function _H(){return-this.snapGrid[this.snapGrid.length-1]}function jH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let u;if(r&&t>c?u=c:r&&t<d?u=d:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return oP({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var EH={getTranslate:xH,setTranslate:bH,minTranslate:wH,maxTranslate:_H,translateTo:jH};function NH(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function uP(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let l=r;if(l||(i>o?l="next":i<o?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==o){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function SH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),uP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function TH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),uP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var IH={setTransition:NH,transitionStart:SH,transitionEnd:TH};function CH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const y=Math.min(i.params.slidesPerGroupSkip,o);let b=y+Math.floor((o-y)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const m=-c[b];if(l.normalizeSlideIndex)for(let v=0;v<d.length;v+=1){const j=-Math.floor(m*100),S=Math.floor(d[v]*100),E=Math.floor(d[v+1]*100);typeof d[v+1]<"u"?j>=S&&j<E-(E-S)/2?o=v:j>=S&&j<E&&(o=v+1):j>=S&&(o=v)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let x;if(o>h?x="next":o<h?x="prev":x="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),x!=="reset"&&(i.transitionStart(n,x),i.transitionEnd(n,x)),!1;if(l.cssMode){const v=i.isHorizontal(),j=f?m:-m;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),S&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=j})):p[v?"scrollLeft":"scrollTop"]=j,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return oP({swiper:i,targetPosition:j,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:j,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,x),e===0?i.transitionEnd(n,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(j){!i||i.destroyed||j.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function PH(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const f=o*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),h){const f=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function AH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,d=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function kH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;const u=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let y=i[g.indexOf(p)-1];if(typeof y>"u"&&s.cssMode){let m;i.forEach((x,v)=>{p>=x&&(m=v)}),typeof m<"u"&&(y=i[m>0?m-1:m])}let b=0;if(typeof y<"u"&&(b=o.indexOf(y),b<0&&(b=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function RH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function DH(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],u=s.snapGrid[l+1];c-d>(u-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],u=s.snapGrid[l];c-d<=(u-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function OH(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Bg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Bg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var LH={slideTo:CH,slideToLoop:PH,slideNext:AH,slidePrev:kH,slideReset:RH,slideToClosest:DH,slideToClickedSlide:OH};function MH(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Tr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%n.grid.rows!==0,d=u=>{for(let h=0;h<u;h+=1){const f=e.isElement?oh("swiper-slide",[n.slideBlankClass]):oh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;d(u),e.recalcSlides(),e.updateSlides()}else ah("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;d(u),e.recalcSlides(),e.updateSlides()}else ah("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function VH(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,c.emit("loopFix");return}let y=p.slidesPerView;y==="auto"?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(p.slidesPerView,10)),g&&y%2===0&&(y=y+1));const b=p.slidesPerGroupAuto?y:p.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=p.loopAdditionalSlides,c.loopedSlides=m;const x=c.grid&&p.grid&&p.grid.rows>1;d.length<y+m?ah("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&ah("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],j=[];let S=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.filter(k=>k.classList.contains(p.slideActiveClass))[0]):S=i;const E=r==="next"||!r,I=r==="prev"||!r;let w=0,_=0;const N=x?Math.ceil(d.length/p.grid.rows):d.length,C=(x?d[i].column:i)+(g&&typeof s>"u"?-y/2+.5:0);if(C<m){w=Math.max(m-C,b);for(let k=0;k<m-C;k+=1){const A=k-Math.floor(k/N)*N;if(x){const U=N-A-1;for(let D=d.length-1;D>=0;D-=1)d[D].column===U&&v.push(D)}else v.push(N-A-1)}}else if(C+y>N-m){_=Math.max(C-(N-m*2),b);for(let k=0;k<_;k+=1){const A=k-Math.floor(k/N)*N;x?d.forEach((U,D)=>{U.column===A&&j.push(D)}):j.push(A)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),I&&v.forEach(k=>{d[k].swiperLoopMoveDOM=!0,f.prepend(d[k]),d[k].swiperLoopMoveDOM=!1}),E&&j.forEach(k=>{d[k].swiperLoopMoveDOM=!0,f.append(d[k]),d[k].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():x&&(v.length>0&&I||j.length>0&&E)&&c.slides.forEach((k,A)=>{c.grid.updateSlide(A,k,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(v.length>0&&I){if(typeof e>"u"){const k=c.slidesGrid[S],U=c.slidesGrid[S+w]-k;l?c.setTranslate(c.translate-U):(c.slideTo(S+w,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-U,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-U))}else if(s){const k=x?v.length/p.grid.rows:v.length;c.slideTo(c.activeIndex+k,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&E)if(typeof e>"u"){const k=c.slidesGrid[S],U=c.slidesGrid[S-_]-k;l?c.setTranslate(c.translate-U):(c.slideTo(S-_,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-U,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-U))}else{const k=x?j.length/p.grid.rows:j.length;c.slideTo(c.activeIndex-k,0,!1,!0)}}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const k={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(A=>{!A.destroyed&&A.params.loop&&A.loopFix({...k,slideTo:A.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...k,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function FH(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var UH={loopCreate:MH,loopFix:VH,loopDestroy:FH};function $H(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function BH(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var zH={setGrabCursor:$H,unsetGrabCursor:BH};function HH(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ss()||r===Fn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function ij(t,e,n){const r=Fn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function WH(t){const e=this,n=ss();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){ij(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?HH(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!ij(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,s.touchStartTime=ih(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let y=!0;c.matches(s.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function qH(t){const e=ss(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(E=>E.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=ih());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(E=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>s.touchAngle:90-E>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,y=-y);const b=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const m=n.params.loop&&!s.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&m&&x&&Math.abs(g)>=1){Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let j=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),g>0?(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),j&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function GH(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(S=>S.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=ih(),f=h-n.touchStartTime;if(e.allowClick){const S=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(S&&S[0]||r.target,S),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=ih(),Bg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let y=0,b=e.slidesSizesGrid[0];for(let S=0;S<d.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const E=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[S+E]<"u"?(g||p>=d[S]&&p<d[S+E])&&(y=S,b=d[S+E]-d[S]):(g||p>=d[S])&&(y=S,b=d[d.length-1]-d[d.length-2])}let m=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(p-d[y])/b,j=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:y+j):e.slideTo(y)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(y+j):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+j):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:y+j),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function aj(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function KH(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function YH(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function QH(t){const e=this;Jd(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function XH(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const hP=(t,e)=>{const n=ss(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",aj,!0):t[d]("observerUpdate",aj,!0),s[c]("load",t.onLoad,{capture:!0})};function JH(){const t=this,{params:e}=t;t.onTouchStart=WH.bind(t),t.onTouchMove=qH.bind(t),t.onTouchEnd=GH.bind(t),t.onDocumentTouchStart=XH.bind(t),e.cssMode&&(t.onScroll=YH.bind(t)),t.onClick=KH.bind(t),t.onLoad=QH.bind(t),hP(t,"on")}function ZH(){hP(this,"off")}var eW={attachEvents:JH,detachEvents:ZH};const oj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function tW(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in i?i[o]:void 0)||t.originalParams,d=oj(t,r),u=oj(t,c),h=r.enabled;d&&!u?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&u&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const x=r[m]&&r[m].enabled,v=c[m]&&c[m].enabled;x&&!v&&t[m].disable(),!x&&v&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),Tn(t.params,c);const y=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!y?t.disable():!h&&y&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&b?(t.loopCreate(e),t.updateSlides()):g&&!b&&t.loopDestroy()),t.emit("breakpoint",c)}function nW(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Fn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var rW={setBreakpoint:tW,getBreakpoint:nW};function sW(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function iW(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=sW(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function aW(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var oW={addClasses:iW,removeClasses:aW};function lW(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var cW={checkOverflow:lW},Wg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function dW(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Tn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Tn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Tn(e,r)}}const zp={eventsEmitter:oH,update:yH,translate:EH,transition:IH,slide:LH,loop:UH,grabCursor:zH,events:eW,breakpoints:rW,checkOverflow:cW,classes:oW},Hp={};let zx=class qr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Tn({},n),e&&!n.el&&(n.el=e);const o=ss();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Tn({},n,{el:h});u.push(new qr(f))}),u}const l=this;l.__swiper__=!0,l.support=cP(),l.device=dP({userAgent:n.userAgent}),l.browser=sH(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:dW(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Tn({},Wg,c);return l.params=Tn({},d,Hp,n),l.originalParams=Tn({},l.params),l.passedParams=Tn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Tr(n,`.${r.slideClass}, swiper-slide`),i=lh(s[0]);return lh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Tr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[d]?Math.ceil(i[d].swiperSlideSize):0,f;for(let p=d+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),u+=1,h>c&&(f=!0));for(let p=d-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>c&&(f=!0))}else if(e==="current")for(let h=d+1;h<i.length;h+=1)(n?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Jd(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Tr(r,s())[0];return!o&&n.params.createElements&&(o=oh("div",n.params.wrapperClass),r.append(o),Tr(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl"),wrongRTL:Os(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Jd(n,i):i.addEventListener("load",o=>{Jd(n,o.target)})}),Hg(n),n.initialized=!0,Hg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,Y6(r)),r.destroyed=!0),null}static extendDefaults(e){Tn(Hp,e)}static get extendedDefaults(){return Hp}static get defaults(){return Wg}static installModule(e){qr.prototype.__modules__||(qr.prototype.__modules__=[]);const n=qr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>qr.installModule(n)),qr):(qr.installModule(e),qr)}};Object.keys(zp).forEach(t=>{Object.keys(zp[t]).forEach(e=>{zx.prototype[e]=zp[t][e]})});zx.use([iH,aH]);const fP=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Xa(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Xi(e[r])&&Xi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Xa(t[r],e[r]):t[r]=e[r]})}function pP(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function mP(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function gP(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function vP(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function uW(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function hW(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:y}=e;let b,m,x,v,j,S,E,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(x=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(j=!0);const w=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),u[_].prevEl=void 0,u[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),u[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!r.loop?S=!0:!u.loop&&r.loop?E=!0:I=!0),d.forEach(_=>{if(Xi(u[_])&&Xi(r[_]))Object.assign(u[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&w(_);else{const N=r[_];(N===!0||N===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?N===!1&&w(_):u[_]=r[_]}}),d.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&u.loop&&(I=!0),b&&y.init()&&y.update(!0),m&&(e.controller.control=u.controller.control),x&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),j&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(S||I)&&e.loopDestroy(),(E||I)&&e.loopCreate(),e.update()}function fW(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};Xa(n,Wg),n._emitClasses=!0,n.init=!1;const i={},o=fP.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Xi(t[c])?(n[c]={},s[c]={},Xa(n[c],t[c]),Xa(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function pW(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=t;pP(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),mP(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),gP(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function mW(t,e,n,r,s){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),d=n.map(s);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return fP.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Xi(t[c])&&Xi(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const gW=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function yP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function xP(t){const e=[];return De.Children.toArray(t).forEach(n=>{yP(n)?e.push(n):n.props&&n.props.children&&xP(n.props.children).forEach(r=>e.push(r))}),e}function vW(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return De.Children.toArray(t).forEach(r=>{if(yP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=xP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function yW(t,e,n){if(!n)return null;const r=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(e[r(u)]);return d.map((u,h)=>De.cloneElement(u,{swiper:t,style:s,key:`slide-${h}`}))}function Cl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const lj=T.createContext(null),xW=T.createContext(null),bP=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,g]=T.useState(!1),y=T.useRef(!1),b=T.useRef(null),m=T.useRef(null),x=T.useRef(null),v=T.useRef(null),j=T.useRef(null),S=T.useRef(null),E=T.useRef(null),I=T.useRef(null),{params:w,passedParams:_,rest:N,events:P}=fW(l),{slides:C,slots:k}=vW(i),A=()=>{g(!p)};Object.assign(w.on,{_containerClasses(L,$){u($)}});const U=()=>{Object.assign(w.on,P),c=!0;const L={...w};if(delete L.wrapperClass,m.current=new zx(L),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const $={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};Xa(m.current.params.virtual,$),Xa(m.current.originalParams.virtual,$)}};b.current||U(),m.current&&m.current.on("_beforeBreakpoint",A);const D=()=>{c||!P||!m.current||Object.keys(P).forEach(L=>{m.current.on(L,P[L])})},M=()=>{!P||!m.current||Object.keys(P).forEach(L=>{m.current.off(L,P[L])})};T.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",A)}),T.useEffect(()=>{!y.current&&m.current&&(m.current.emitSlidesClasses(),y.current=!0)}),Cl(()=>{if(e&&(e.current=b.current),!!b.current)return m.current.destroyed&&U(),pW({el:b.current,nextEl:j.current,prevEl:S.current,paginationEl:E.current,scrollbarEl:I.current,swiper:m.current},w),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Cl(()=>{D();const L=mW(_,x.current,C,v.current,$=>$.key);return x.current=_,v.current=C,L.length&&m.current&&!m.current.destroyed&&hW({swiper:m.current,slides:C,passedParams:_,changedParams:L,nextEl:j.current,prevEl:S.current,scrollbarEl:I.current,paginationEl:E.current}),()=>{M()}}),Cl(()=>{gW(m.current)},[h]);function O(){return w.virtual?yW(m.current,C,h):C.map((L,$)=>De.cloneElement(L,{swiper:m.current,swiperSlideIndex:$}))}return De.createElement(r,ch({ref:b,className:vP(`${d}${n?` ${n}`:""}`)},N),De.createElement(xW.Provider,{value:m.current},k["container-start"],De.createElement(s,{className:uW(w.wrapperClass)},k["wrapper-start"],O(),k["wrapper-end"]),pP(w)&&De.createElement(De.Fragment,null,De.createElement("div",{ref:S,className:"swiper-button-prev"}),De.createElement("div",{ref:j,className:"swiper-button-next"})),gP(w)&&De.createElement("div",{ref:I,className:"swiper-scrollbar"}),mP(w)&&De.createElement("div",{ref:E,className:"swiper-pagination"}),k["container-end"]))});bP.displayName="Swiper";const wP=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,y]=T.useState(!1);function b(j,S,E){S===h.current&&p(E)}Cl(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",b),()=>{i&&i.off("_slideClass",b)}}}),Cl(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(m):r,v=()=>{y(!0)};return De.createElement(n,ch({ref:h,className:vP(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:v},u),o&&De.createElement(lj.Provider,{value:m},De.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),l&&!g&&De.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&De.createElement(lj.Provider,{value:m},x(),l&&!g&&De.createElement("div",{className:"swiper-lazy-preloader"})))});wP.displayName="SwiperSlide";function _P(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Tr(t.el,`.${r[s]}`)[0];i||(i=oh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function bW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y.length>1&&e.el.querySelectorAll(g).length===1&&(y=e.el.querySelector(g))),g&&!y?g:y)}function o(g,y){const b=e.params.navigation;g=It(g),g.forEach(m=>{m&&(m.classList[y?"add":"remove"](...b.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=y),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=_P(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=i(g.nextEl),b=i(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:b}),y=It(y),b=It(b);const m=(x,v)=>{x&&x.addEventListener("click",v==="next"?d:c),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>m(x,"next")),b.forEach(x=>m(x,"prev"))}function h(){let{nextEl:g,prevEl:y}=e.navigation;g=It(g),y=It(y);const b=(m,x)=>{m.removeEventListener("click",x==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>b(m,"next")),y.forEach(m=>b(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=It(g),y=It(y),e.enabled){l();return}[...g,...y].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:b,prevEl:m}=e.navigation;b=It(b),m=It(m);const x=y.target;if(e.params.navigation.hideOnClick&&!m.includes(x)&&!b.includes(x)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let v;b.length?v=b[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(v=m[0].classList.contains(e.params.navigation.hiddenClass)),s(v===!0?"navigationShow":"navigationHide"),[...b,...m].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:u,destroy:h})}function Xo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function wW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(m,x){const{bulletActiveClass:v}=e.params.pagination;m&&(m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${v}-${x}`),m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${v}-${x}-${x}`)))}function u(m){const x=m.target.closest(Xo(e.params.pagination.bulletClass));if(!x)return;m.preventDefault();const v=lh(x)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===v)return;e.slideToLoop(v)}else e.slideTo(v)}function h(){const m=e.rtl,x=e.params.pagination;if(c())return;let v=e.pagination.el;v=It(v);let j,S;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,j=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(j=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,j=e.activeIndex||0),x.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let _,N,P;if(x.dynamicBullets&&(o=zg(w[0],e.isHorizontal()?"width":"height",!0),v.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(x.dynamicMainBullets+4)}px`}),x.dynamicMainBullets>1&&S!==void 0&&(l+=j-(S||0),l>x.dynamicMainBullets-1?l=x.dynamicMainBullets-1:l<0&&(l=0)),_=Math.max(j-l,0),N=_+(Math.min(w.length,x.dynamicMainBullets)-1),P=(N+_)/2),w.forEach(C=>{const k=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(A=>`${x.bulletActiveClass}${A}`)].map(A=>typeof A=="string"&&A.includes(" ")?A.split(" "):A).flat();C.classList.remove(...k)}),v.length>1)w.forEach(C=>{const k=lh(C);k===j?C.classList.add(...x.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),x.dynamicBullets&&(k>=_&&k<=N&&C.classList.add(...`${x.bulletActiveClass}-main`.split(" ")),k===_&&d(C,"prev"),k===N&&d(C,"next"))});else{const C=w[j];if(C&&C.classList.add(...x.bulletActiveClass.split(" ")),e.isElement&&w.forEach((k,A)=>{k.setAttribute("part",A===j?"bullet-active":"bullet")}),x.dynamicBullets){const k=w[_],A=w[N];for(let U=_;U<=N;U+=1)w[U]&&w[U].classList.add(...`${x.bulletActiveClass}-main`.split(" "));d(k,"prev"),d(A,"next")}}if(x.dynamicBullets){const C=Math.min(w.length,x.dynamicMainBullets+4),k=(o*C-o)/2-P*o,A=m?"right":"left";w.forEach(U=>{U.style[e.isHorizontal()?A:"top"]=`${k}px`})}}v.forEach((w,_)=>{if(x.type==="fraction"&&(w.querySelectorAll(Xo(x.currentClass)).forEach(N=>{N.textContent=x.formatFractionCurrent(j+1)}),w.querySelectorAll(Xo(x.totalClass)).forEach(N=>{N.textContent=x.formatFractionTotal(I)})),x.type==="progressbar"){let N;x.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const P=(j+1)/I;let C=1,k=1;N==="horizontal"?C=P:k=P,w.querySelectorAll(Xo(x.progressbarFillClass)).forEach(A=>{A.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${k})`,A.style.transitionDuration=`${e.params.speed}ms`})}x.type==="custom"&&x.renderCustom?(w.innerHTML=x.renderCustom(e,j+1,I),_===0&&s("paginationRender",w)):(_===0&&s("paginationRender",w),s("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let v=e.pagination.el;v=It(v);let j="";if(m.type==="bullets"){let S=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>x&&(S=x);for(let E=0;E<S;E+=1)m.renderBullet?j+=m.renderBullet.call(e,E,m.bulletClass):j+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?j=m.renderFraction.call(e,m.currentClass,m.totalClass):j=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?j=m.renderProgressbar.call(e,m.progressbarFillClass):j=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],v.forEach(S=>{m.type!=="custom"&&(S.innerHTML=j||""),m.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(Xo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",v[0])}function p(){e.params.pagination=_P(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let x;typeof m.el=="string"&&e.isElement&&(x=e.el.querySelector(m.el)),!x&&typeof m.el=="string"&&(x=[...document.querySelectorAll(m.el)]),x||(x=m.el),!(!x||x.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(x)&&x.length>1&&(x=[...e.el.querySelectorAll(m.el)],x.length>1&&(x=x.filter(v=>lP(v,".swiper")[0]===e.el)[0])),Array.isArray(x)&&x.length===1&&(x=x[0]),Object.assign(e.pagination,{el:x}),x=It(x),x.forEach(v=>{m.type==="bullets"&&m.clickable&&v.classList.add(...(m.clickableClass||"").split(" ")),v.classList.add(m.modifierClass+m.type),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(v.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&v.classList.add(m.progressbarOppositeClass),m.clickable&&v.addEventListener("click",u),e.enabled||v.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let x=e.pagination.el;x&&(x=It(x),x.forEach(v=>{v.classList.remove(m.hiddenClass),v.classList.remove(m.modifierClass+m.type),v.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(v.classList.remove(...(m.clickableClass||"").split(" ")),v.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(v=>v.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:x}=e.pagination;x=It(x),x.forEach(v=>{v.classList.remove(m.horizontalClass,m.verticalClass),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,x)=>{const v=x.target,j=It(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!v.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&v===e.navigation.nextEl||e.navigation.prevEl&&v===e.navigation.prevEl))return;const S=j[0].classList.contains(e.params.pagination.hiddenClass);s(S===!0?"paginationShow":"paginationHide"),j.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:y,disable:b,render:f,update:h,init:p,destroy:g})}function _W(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),f,p,g,y,b,m,x;function v(O){!e||e.destroyed||!e.wrapperEl||O.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",v),!x&&N())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const O=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=O,s("autoplayTimeLeft",O,O/c),l=requestAnimationFrame(()=>{j()})},S=()=>{let O;return e.virtual&&e.params.virtual.enabled?O=e.slides.filter($=>$.classList.contains("swiper-slide-active"))[0]:O=e.slides[e.activeIndex],O?parseInt(O.getAttribute("data-swiper-autoplay"),10):void 0},E=O=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),j();let L=typeof O>"u"?e.params.autoplay.delay:O;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const $=S();!Number.isNaN($)&&$>0&&typeof O>"u"&&(L=$,c=$,d=$),u=L;const H=e.params.speed,R=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return L>0?(clearTimeout(o),o=setTimeout(()=>{R()},L)):requestAnimationFrame(()=>{R()}),L},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},_=(O,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),O||(m=!0);const $=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",v):N()};if(e.autoplay.paused=!0,L){b&&(u=e.params.autoplay.delay),b=!1,$();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),$())},N=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,E(u)):E(),e.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const O=ss();O.visibilityState==="hidden"&&(m=!0,_(!0)),O.visibilityState==="visible"&&N()},C=O=>{O.pointerType==="mouse"&&(m=!0,x=!0,!(e.animating||e.autoplay.paused)&&_(!0))},k=O=>{O.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&N())},A=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",k))},U=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",k)},D=()=>{ss().addEventListener("visibilitychange",P)},M=()=>{ss().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(A(),D(),I())}),r("destroy",()=>{U(),M(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(g||m)&&N()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():_(!0,!0)}),r("beforeTransitionStart",(O,L,$)=>{e.destroyed||!e.autoplay.running||($||!e.params.autoplay.disableOnInteraction?_(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}p=!0,g=!1,m=!1,y=setTimeout(()=>{m=!0,g=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&N(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:I,stop:w,pause:_,resume:N})}const jW=()=>{const t=J(e=>e.getslider).data;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"border_bottom_strip",children:a.jsx(bP,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[_W,wW,bW],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>a.jsxs(wP,{children:[a.jsx("img",{src:e.bannerURL,alt:e.title}),a.jsx("p",{children:e.title})]},n))})})})},EW=()=>a.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:a.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[a.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:a.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),a.jsxs("div",{className:"col-md-6 col-sm-12",children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),a.jsx("hr",{}),a.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Moving Object Detection and Analysis"}),a.jsx("li",{children:"Facial Expression"}),a.jsx("li",{children:"Recognition"}),a.jsx("li",{children:"Anomaly Detection and Analysis"}),a.jsx("li",{children:"Content Based Image Retrieval"}),a.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),jP=({ref_:t})=>{const e=J(s=>s.getpublications.data),[n,r]=T.useState(!1);return T.useEffect(()=>{t||(async()=>{r(!0),await qc(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[a.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>{const{paperTitle:o,author:l,impact:c,link:d,pages:u,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:y,isbn:b}=s==null?void 0:s.data;return a.jsxs("li",{children:[a.jsx("p",{children:a.jsxs("cite",{children:[a.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),a.jsxs("a",{href:`https://doi.org/${d.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[a.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',o.stringValue,'",']}),a.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),a.jsxs("span",{className:"journal",style:{display:"inline"},children:[a.jsx("i",{children:g.stringValue}),","]}),a.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),a.jsxs("span",{className:"pages",style:{display:"inline"},children:[u.stringValue,","," "]}),a.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",y.stringValue,"-",b.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),a.jsx("hr",{})]},i)})})}),t&&a.jsx("div",{className:"w-100 my-3",children:a.jsx(re,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&a.jsx(Bt,{children:a.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},NW=()=>{const t=J(r=>r.getnews.data),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await HC(),await Rx(),await qc(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(jW,{}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx(jP,{ref_:!0})}),a.jsx("div",{className:"col-sm-4",children:a.jsxs("div",{className:"border d-flex flex-column mt-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),a.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:a.jsx("div",{className:"marquee_scroll ",children:a.jsx("div",{className:"text-secondary",children:a.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("li",{children:[a.jsxs("strong",{className:"text-danger me-1",children:[s+1,"."]}),a.jsx("strong",{className:"text-danger",children:Fx(r==null?void 0:r.datetime1)}),"-",r==null?void 0:r.title,"-",r==null?void 0:r.description]},s)})})})})}),a.jsx("div",{children:a.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:a.jsx(re,{to:"news",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),a.jsx(EW,{})]})},SW=()=>a.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:a.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:a.jsxs("div",{className:"container py-4 p-3",children:[a.jsxs("div",{className:"row gy-4 gx-5",children:[a.jsxs("div",{className:"col-lg-4 col-md-6",children:[a.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),a.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."})," ",a.jsx(re,{to:"contact",style:{textDecoration:"none"},className:"text-white",children:a.jsx("button",{className:"btn btn-danger",children:"Contact"})})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Research"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(re,{to:"publications",className:"link_footer",children:"Publications"})}),a.jsx("li",{children:a.jsx(re,{to:"projects",className:"link_footer",children:"Projects"})}),a.jsx("li",{children:a.jsx(re,{to:"datasets",className:"link_footer",children:"Datasets"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(re,{to:"peoples",className:"link_footer",children:"Supervisor"})}),a.jsx("li",{children:a.jsx(re,{to:"peoples",className:"link_footer",children:"Ph.D."})}),a.jsx("li",{children:a.jsx(re,{to:"peoples",className:"link_footer",children:"PG and UG"})}),a.jsx("li",{children:a.jsx(re,{to:"peoples",className:"link_footer",children:"Interns and Visitors"})}),a.jsx("li",{children:a.jsx(re,{to:"peoples",className:"link_footer",children:"Alumni Students"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(re,{to:"contact",className:"link_footer",children:"About CVPR"})}),a.jsx("li",{children:a.jsx(re,{to:"https://www.iitrpr.ac.in/",target:"_blank",className:"link_footer",children:"IIT Ropar Website"})}),a.jsx("li",{children:a.jsx(re,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Address"}),a.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),a.jsx("hr",{className:"text-white"}),a.jsxs("p",{className:"small text-light w-100 text-center",children:["© Copyrights. All rights reserved."," ",a.jsx(re,{to:"#",className:"text-danger fw-bold",children:"CVPR LAB"})]})]})})}),TW=()=>{const[t,e]=T.useState(!0),n=J(l=>l.getsupervisors.data),r=J(l=>l.getphdStudents.data),s=J(l=>l.getpgugStudents.data),i=J(l=>l.getvisitorsandinterns.data),o=async l=>{try{const c=await wf(l),d=window.open(c,"_blank","width=550,height=700");d&&d.focus()}catch{V("warning","CV not found!")}};return T.useEffect(()=>{(async()=>{e(!0),await fs(),await ko(),await WC(),await qC(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",a.jsx("hr",{})]}),n==null?void 0:n.map((l,c)=>{var d,u,h,f,p,g,y,b,m,x,v,j,S,E,I;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(d=l==null?void 0:l.data)==null?void 0:d.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-danger",children:(u=l==null?void 0:l.data)==null?void 0:u.designation})," ","| ",a.jsx("strong",{children:(h=l==null?void 0:l.data)==null?void 0:h.email})," |"," ",a.jsxs("strong",{children:["+91-",(f=l==null?void 0:l.data)==null?void 0:f.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open("#/profile/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("button",{className:"btn btn-danger my-2 btn-sm ms-2",onClick:()=>{var w;return o((w=l==null?void 0:l.data)==null?void 0:w.email)},children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-danger dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(g=(p=l==null?void 0:l.data)==null?void 0:p.links)==null?void 0:g.map(w=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:w!=null&&w.linkURL?w==null?void 0:w.linkURL:"#",target:"_blank",children:[w==null?void 0:w.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(y=l==null?void 0:l.data)==null?void 0:y.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(m=(b=l==null?void 0:l.data)==null?void 0:b.researchInterests)==null?void 0:m.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(v=(x=l==null?void 0:l.data)==null?void 0:x.teaching)==null?void 0:v.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(S=(j=l==null?void 0:l.data)==null?void 0:j.accomplishments)==null?void 0:S.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(I=(E=l==null?void 0:l.data)==null?void 0:E.professional_affiliation)==null?void 0:I.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]})]})})]},c)}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(j=>{var S,E,I,w,_;return((E=(S=j==null?void 0:j.data)==null?void 0:S.email)==null?void 0:E.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]})]},c)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(j=>{var S,E,I,w,_;return((E=(S=j==null?void 0:j.data)==null?void 0:S.email)==null?void 0:E.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("strong",{className:"mt-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]},c):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?null:a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(l=>{const{name:c,collegeName:d}=l==null?void 0:l.data;return a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h4",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsx("p",{className:"fw-bold text-dark",children:d==null?void 0:d.stringValue})]})},l==null?void 0:l._id)})})]})]})},IW=()=>{const t=J(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await da(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",a.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),r==null?void 0:r.title]}),a.jsx("p",{children:r==null?void 0:r.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+s,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:r.images.map((i,o)=>a.jsx("div",{className:`carousel-item ${o===0&&"active"}`,children:a.jsx("img",{src:i==null?void 0:i.url,className:"d-block w-100",alt:"This is image"})},o))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},s))]})]})},CW=()=>{const[t,e]=T.useState(!0),n=J(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=J(s=>s.getsubareas).data;return T.useEffect(()=>{(async()=>{e(!0),await xf(),await bf(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",a.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const o=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>o.some(d=>d.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),a.jsxs("div",{className:"col-sm-8=6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(re,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},i):a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(re,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},PW=()=>{const[t,e]=T.useState(!0),{id:n}=Ur(),r=J(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),s=J(d=>d.getsubareas).data,i=J(d=>{var u;return(u=d.getprojectitems)==null?void 0:u.data}),o=r.find(d=>d._id===n);o||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(o==null?void 0:o.subareas)||[],c=s==null?void 0:s.filter(d=>l.some(u=>u.stringValue===(d==null?void 0:d._id)));return T.useEffect(()=>{(async()=>{e(!0),await xf(),await bf(),await ua(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:[o==null?void 0:o.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsx("div",{className:"col-sm-12 text-start w-100",children:a.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[a.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[o==null?void 0:o.title,a.jsx("hr",{})]}),a.jsx("div",{className:"col-sm-12",children:a.jsx("div",{className:"card p-3",children:a.jsx("img",{src:o==null?void 0:o.bannerURL,alt:"Banner URL"})})}),a.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((d,u)=>{var h;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("h1",{children:[a.jsxs("strong",{className:"fw-bold text-danger",children:[u+1,". "]}),d==null?void 0:d.title]}),a.jsx("hr",{}),a.jsx("p",{children:d==null?void 0:d.description}),a.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),a.jsx("div",{className:"col-sm-12",children:(h=d==null?void 0:d.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(y=>(y==null?void 0:y._id)==(f==null?void 0:f.stringValue));return a.jsxs("div",{className:"card p-2 mb-4",children:[a.jsxs("h6",{children:[" ",a.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",a.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(re,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},u)})})]})]})},AW=()=>a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",a.jsx("hr",{})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),a.jsxs("div",{className:"col-sm-4",id:"contact2",children:[a.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("hr",{className:"text-left w-50"}),a.jsx("h4",{className:"pt-2",children:"Address"}),a.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",a.jsx("br",{}),a.jsx("h4",{className:"pt-2",children:"Mobile"}),a.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),a.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[a.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),a.jsx("br",{}),a.jsx("h4",{className:"pt-2",children:"Email"}),a.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),a.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[a.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),a.jsx("br",{})]})]})]})]}),kW=()=>{const[t,e]=T.useState(!0),n=J(o=>{var l;return(l=o.getprojectitems)==null?void 0:l.data}),r=J(o=>{var l;return(l=o.getdatasets)==null?void 0:l.data}),s=J(o=>{var l;return(l=o.getprojectsimages)==null?void 0:l.data}),i=J(o=>{var l;return(l=o.getprojectsmain)==null?void 0:l.data});return T.useEffect(()=>{(async()=>{e(!0),Kc(),e(!1),Ux(),ua(),da()})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",a.jsx("hr",{})]}),i==null?void 0:i.map((o,l)=>{var c,d,u,h,f,p,g,y,b,m,x,v,j,S,E,I,w,_;return a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[l+1,". "]}),(c=o==null?void 0:o.title)==null?void 0:c.stringValue]}),a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"1. "}),"Project Video"]})}),a.jsx("td",{children:(f=(h=(u=(d=o==null?void 0:o.video)==null?void 0:d.mapValue)==null?void 0:u.fields)==null?void 0:h.timestamp)!=null&&f.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const N=await $x(o==null?void 0:o._id),P=window.open(N,"_blank","width=550,height=700");P&&P.focus()}catch{V("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"2. "}),"Funding Agency"]})}),a.jsx("td",{children:(p=o==null?void 0:o.funding_agency)==null?void 0:p.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"3. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(g=o==null?void 0:o.total_fund)==null?void 0:g.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"4. "}),"Project Investigators"]})}),a.jsx("td",{children:(y=o==null?void 0:o.pis)==null?void 0:y.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"5. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(b=o==null?void 0:o.copis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"6. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(m=o==null?void 0:o.jrf_phd_scholar)==null?void 0:m.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"",children:(x=o==null?void 0:o.description)==null?void 0:x.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(v=s==null?void 0:s.filter(N=>(N==null?void 0:N.project)==(o==null?void 0:o._id)))==null?void 0:v.map((N,P)=>a.jsxs("div",{className:P===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:N==null?void 0:N.bannerURL,className:"d-block w-100",alt:"banner image"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:N==null?void 0:N.title})})]},P))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(E=(S=(j=o==null?void 0:o.related_datasets)==null?void 0:j.arrayValue)==null?void 0:S.values)==null?void 0:E.map((N,P)=>{const C=r==null?void 0:r.find(k=>(k==null?void 0:k._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:C==null?void 0:C.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:C==null?void 0:C.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:C==null?void 0:C.images.map((k,A)=>a.jsx("div",{className:`carousel-item ${A===0&&"active"}`,children:a.jsx("img",{src:k==null?void 0:k.url,className:"d-block w-100",alt:"This is image"})},A))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(_=(w=(I=o==null?void 0:o.related_projectitems)==null?void 0:I.arrayValue)==null?void 0:w.values)==null?void 0:_.map((N,P)=>{const C=n==null?void 0:n.find(k=>(k==null?void 0:k._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:[C==null?void 0:C.title,"("," ",a.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:C==null?void 0:C.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(re,{to:C==null?void 0:C.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:C==null?void 0:C.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})})]})]})]})]},l)})]})]})},RW=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=J(l=>l.getgallery.data);return T.useEffect(()=>{(async()=>{e(!0),await tP(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Gallery | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Image Gallery",a.jsx("hr",{})]}),a.jsx("div",{className:"row1 row",children:DW(o,4).map((l,c)=>a.jsx("div",{className:"column1 column",children:l.map((d,u)=>a.jsx("img",{className:"shadow-lg rounded-3",src:d==null?void 0:d.bannerURL,style:{width:"100%"},onClick:()=>{r(d==null?void 0:d.bannerURL),i(!0)}},u))},c))})]}),s&&a.jsxs("div",{className:"full_screen_image",children:[a.jsx("img",{src:n,alt:"full screen image"}),a.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-danger",children:"Close"})]})]})},DW=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},OW=()=>{const t=J(r=>r.getnews.data),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await Rx(),n(!1)})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["News | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Latest News",a.jsx("hr",{})]}),a.jsx("div",{className:"",children:a.jsxs("table",{className:"table table-bordered table-hover table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Timestamp"})]})}),a.jsxs("tbody",{children:[e&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-danger",children:"Loading..."})})}),!e&&t.length>0&&(t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("tr",{children:[a.jsx("td",{children:s+1}),a.jsx("td",{className:"fw-bold text-danger",children:r==null?void 0:r.title}),a.jsx("td",{children:r==null?void 0:r.description}),a.jsx("td",{children:Fx(r==null?void 0:r.datetime1)})]},s)})),t.length<1&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-danger",children:"No Data"})})})]})]})})]})]})},LW=()=>a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsx(q6,{}),a.jsxs(Hv,{children:[a.jsx(xe,{path:"/",element:a.jsx(NW,{})}),a.jsx(xe,{path:"/peoples",element:a.jsx(TW,{})}),a.jsx(xe,{path:"/news",element:a.jsx(OW,{})}),a.jsx(xe,{path:"/gallery",element:a.jsx(RW,{})}),a.jsx(xe,{path:"/datasets",element:a.jsx(IW,{})}),a.jsx(xe,{path:"/projects",element:a.jsx(kW,{})}),a.jsx(xe,{path:"/research-areas",element:a.jsx(CW,{})}),a.jsx(xe,{path:"/research-areas/:id",element:a.jsx(PW,{})}),a.jsx(xe,{path:"/publications",element:a.jsx(jP,{ref_:!1})}),a.jsx(xe,{path:"/contact",element:a.jsx(AW,{})})]}),a.jsx(SW,{})]}),MW=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1);T.useEffect(()=>{const h=Xt.onAuthStateChanged(f=>{f&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>h()},[]);const c=async h=>{if(h.preventDefault(),!t||!s){V("warning","Email and Password fields are required!");return}l(!0);try{await x4(Xt,t,s),await fs(),window.location.reload()}catch(f){console.log(f),V("danger","Invalid Email or Password!")}l(!1)},d=async()=>{l(!0),Xt.languageCode="it",W4(Xt,F3).then(async()=>{await fs(),window.location.reload()}).catch(h=>{(h==null?void 0:h.code)==="auth/admin-restricted-operation"?V("danger","User does not existed!"):V("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},u=async()=>{if(!n){V("warning","Email should not be empty!");return}l(!0),await y4(Xt,n).then(()=>{V("success","Password reset email sent!"),window.close()}).catch(()=>{V("danger","Error sending password reset email. Please try again later.")}),l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>e(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:h=>i(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[a.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content rounded-0",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:h=>r(h.target.value),placeholder:"ie. user@gmail.com"})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-dark",onClick:u,disabled:o,children:o?"Please Wait..":"Send Mail"})]})]})})})]}),a.jsx("button",{onClick:c,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Submit"})]}),a.jsx("hr",{}),a.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:d,disabled:o,children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(re,{to:"/register",children:"New Supervisor or PHD Student?"})]})]}),a.jsx(Bt,{children:a.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},VW=()=>{const{pathname:t}=Ec();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null},FW=()=>{var b,m,x,v,j,S,E,I,w,_,N,P,C,k,A,U;const{id:t}=Ur(),[e,n]=T.useState(!0),s=J(D=>D.getsupervisors.data).filter(D=>D._id==t)[0],o=J(D=>D.getpublications.data).filter(D=>{var O,L,$;const M=($=(L=(O=D==null?void 0:D.data)==null?void 0:O.users)==null?void 0:L.arrayValue)==null?void 0:$.values;return M&&M.length>0?M.some(H=>{var R;return H.stringValue===((R=s==null?void 0:s.data)==null?void 0:R.email)}):!1}),l=J(D=>{var M;return(M=D.getprojectsimages)==null?void 0:M.data}),c=J(D=>{var M;return(M=D.getprojectitems)==null?void 0:M.data}),d=J(D=>{var M;return(M=D.getdatasets)==null?void 0:M.data}),h=J(D=>{var M;return(M=D.getprojectsmain)==null?void 0:M.data}).filter(D=>{var O,L;const M=(L=(O=D==null?void 0:D.users)==null?void 0:O.arrayValue)==null?void 0:L.values;return M&&M.length>0?M.some($=>{var H;return $.stringValue===((H=s==null?void 0:s.data)==null?void 0:H.email)}):!1}),p=J(D=>D.getphdStudents.data).filter(D=>{var M;return D.data.supervisor.mapValue.fields.email.stringValue===((M=s==null?void 0:s.data)==null?void 0:M.email)}),[g,y]=T.useState("");return T.useEffect(()=>{(async()=>{var O;const M=await wf((O=s==null?void 0:s.data)==null?void 0:O.email);y(M)})()},[]),T.useEffect(()=>{(async()=>{n(!0),await fs(),await qc(),await Kc(),await ko(),n(!1),await da(),await ua(),await Ux()})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:[(b=s==null?void 0:s.data)==null?void 0:b.name," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark ms-2",children:(m=s==null?void 0:s.data)==null?void 0:m.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-danger ms-2",children:(x=s==null?void 0:s.data)==null?void 0:x.designation})," ","| ",a.jsx("strong",{children:(v=s==null?void 0:s.data)==null?void 0:v.email})," |"," ",a.jsxs("strong",{children:["+91-",(j=s==null?void 0:s.data)==null?void 0:j.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[g!==null&&g!==""&&a.jsx("button",{className:"btn btn-danger my-2 btn-sm ms-2",onClick:()=>window.open(g,"_blank"),children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-danger dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(E=(S=s==null?void 0:s.data)==null?void 0:S.links)==null?void 0:E.map(D=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:D!=null&&D.linkURL?D==null?void 0:D.linkURL:"#",target:"_blank",children:[D==null?void 0:D.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(I=s==null?void 0:s.data)==null?void 0:I.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(_=(w=s==null?void 0:s.data)==null?void 0:w.researchInterests)==null?void 0:_.split(",").map((D,M)=>a.jsx("li",{className:"mx-3",children:D},M))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(P=(N=s==null?void 0:s.data)==null?void 0:N.teaching)==null?void 0:P.split(",").map((D,M)=>a.jsx("li",{className:"mx-3",children:D},M))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(k=(C=s==null?void 0:s.data)==null?void 0:C.accomplishments)==null?void 0:k.split(",").map((D,M)=>a.jsx("li",{className:"mx-3",children:D},M))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(U=(A=s==null?void 0:s.data)==null?void 0:A.professional_affiliation)==null?void 0:U.split(",").map((D,M)=>a.jsx("li",{className:"mx-3",children:D},M))})})]})]})})]}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:o==null?void 0:o.map((D,M)=>{var se,be;const{paperTitle:O,author:L,impact:$,link:H,pages:R,publisher:F,publicationDate:K,volume:ne,journalName:le,paperType:fe,isbn:Ee,users:ee}=D==null?void 0:D.data;if((be=(se=ee==null?void 0:ee.arrayValue)==null?void 0:se.values)!=null&&be.filter(ge=>{var Se;return ge.stringValue==((Se=s==null?void 0:s.data)==null?void 0:Se.email)})[0])return a.jsxs("li",{children:[a.jsx("span",{children:a.jsxs("cite",{children:[a.jsxs("span",{className:"author",children:[L==null?void 0:L.stringValue,","]}),a.jsxs("a",{href:`https://doi.org/${H.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[a.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',O.stringValue,'",']}),a.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),a.jsxs("span",{className:"journal",style:{display:"inline"},children:[a.jsx("i",{children:le.stringValue}),","]}),a.jsxs("span",{className:"volume",style:{display:"inline"},children:[ne.stringValue,","," "]}),a.jsxs("span",{className:"pages",style:{display:"inline"},children:[R.stringValue,","," "]}),a.jsxs("span",{className:"date",style:{display:"inline"},children:[K.stringValue,"-",fe.stringValue,"-",Ee.stringValue,"-",F.stringValue,"-",$.stringValue]})]})}),a.jsx("hr",{})]},M)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:h==null?void 0:h.map((D,M)=>{var O,L,$,H,R,F,K,ne,le,fe,Ee,ee,ue,se,be,ge,Se,Ie;return a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+M,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+M,"aria-expanded":"true","aria-controls":"collapse"+M,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-danger",children:[M+1,". "]}),(O=D==null?void 0:D.title)==null?void 0:O.stringValue]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+M,className:"accordion-collapse collapse","aria-labelledby":"heading"+M,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Project Video"]})}),a.jsx("td",{children:(R=(H=($=(L=D==null?void 0:D.video)==null?void 0:L.mapValue)==null?void 0:$.fields)==null?void 0:H.timestamp)!=null&&R.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const ae=await $x(D==null?void 0:D._id),ke=window.open(ae,"_blank","width=550,height=700");ke&&ke.focus()}catch{V("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," ","Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Funding Agency"]})}),a.jsx("td",{children:(F=D==null?void 0:D.funding_agency)==null?void 0:F.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(K=D==null?void 0:D.total_fund)==null?void 0:K.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Project Investigators"]})}),a.jsx("td",{children:(ne=D==null?void 0:D.pis)==null?void 0:ne.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Co-Project Investigators"]})}),a.jsx("td",{children:(le=D==null?void 0:D.copis)==null?void 0:le.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["6."," "]}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(fe=D==null?void 0:D.jrf_phd_scholar)==null?void 0:fe.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"w-100 overflow-auto",children:(Ee=D==null?void 0:D.description)==null?void 0:Ee.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+M,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+M,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+M,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+M,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(ee=l==null?void 0:l.filter(ae=>(ae==null?void 0:ae.project)==(D==null?void 0:D._id)))==null?void 0:ee.map((ae,ke)=>a.jsxs("div",{className:ke===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:ae==null?void 0:ae.bannerURL,className:"d-block w-100",alt:"banner image",height:"400px"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:ae==null?void 0:ae.title})})]},ke))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+M,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+M,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(be=(se=(ue=D==null?void 0:D.related_datasets)==null?void 0:ue.arrayValue)==null?void 0:se.values)==null?void 0:be.map((ae,ke)=>{const Z=d==null?void 0:d.find($e=>($e==null?void 0:$e._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[ke+1,". ",Z==null?void 0:Z.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Z==null?void 0:Z._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Z==null?void 0:Z._id)+"Modal",tabIndex:-1,"aria-labelledby":(Z==null?void 0:Z._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(Z==null?void 0:Z._id)+"ModalLabel",children:Z==null?void 0:Z.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:Z==null?void 0:Z.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+M,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:Z==null?void 0:Z.images.map(($e,Et)=>a.jsx("div",{className:`carousel-item ${Et===0&&"active"}`,children:a.jsx("img",{src:$e==null?void 0:$e.url,className:"d-block w-100",alt:"This is image"})},Et))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+M,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+M,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},ke)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Ie=(Se=(ge=D==null?void 0:D.related_projectitems)==null?void 0:ge.arrayValue)==null?void 0:Se.values)==null?void 0:Ie.map((ae,ke)=>{const Z=c==null?void 0:c.find($e=>($e==null?void 0:$e._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[ke+1,". ",Z==null?void 0:Z.title," (",a.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Z==null?void 0:Z._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Z==null?void 0:Z._id)+"Modal",tabIndex:-1,"aria-labelledby":(Z==null?void 0:Z._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(Z==null?void 0:Z._id)+"ModalLabel",children:[Z==null?void 0:Z.title,"("," ",a.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:Z==null?void 0:Z.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(re,{to:Z==null?void 0:Z.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:Z==null?void 0:Z.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},ke)})})]})]})]})},"item_"+M)})})})]},M)})})]})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((D,M)=>{const{name:O,batch:L,isAlumni:$,email:H,mobile:R}=D==null?void 0:D.data;return $!=null&&$.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:D==null?void 0:D.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:O==null?void 0:O.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(H==null?void 0:H.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(L==null?void 0:L.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",R==null?void 0:R.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+D._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},M)})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((D,M)=>{const{name:O,batch:L,isAlumni:$,email:H,mobile:R}=D==null?void 0:D.data;return $!=null&&$.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:D==null?void 0:D.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("strong",{className:"mt-2 d-inline",children:[a.jsx("h3",{children:O==null?void 0:O.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(H==null?void 0:H.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(L==null?void 0:L.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",R==null?void 0:R.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+D._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},M):null})})]})]})},UW=({content:t,id:e,type:n})=>{const r=qz(),s=J(i=>i.getalerts.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[a.jsx("h6",{children:t}),a.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(uC(s.filter(i=>i.id!=e)))}})]})})},$W=["ADMIN","SUPERVISOR","PHD"],BW=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1),[c,d]=T.useState(null),[u,h]=T.useState(!1);T.useEffect(()=>{const g=Xt.onAuthStateChanged(y=>{y&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>g()},[]);const f=async g=>{if(g.preventDefault(),!t||!c){V("warning","Email and User Type fields are required!"),l(!1);return}l(!0);let y;if(c==="SUPERVISOR"?y=jr(ce(G,"supervisors"),lr("email","==",t)):c==="PHD"&&(y=jr(ce(G,"phdStudents"),lr("email","==",t))),!(await Be(y)).empty){h(!0),V("success","User with this email is existed, Choose your password and proceed!"),l(!1);return}V("danger","User with this email does not existed, contact your admin!"),l(!1)},p=async g=>{if(g.preventDefault(),!c){V("warning","User Type field is required!");return}if(!t||!n||!s){V("warning","Email, Password and Confirm Pasword fields are required!");return}if(n!==s){V("warning","Password and Confirm Password does not match!");return}if(n.length<6){V("warning","Password must be atleast 6 charactors long!");return}if(l(!0),c==="SUPERVISOR")try{await V0(Xt,t,n),await it(ce(G,"users"),{email:t,userType:"SUPERVISOR"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){console.log(y),V("danger","Error while creating account, try again!")}else if(c==="PHD")try{await V0(Xt,t,n),await it(ce(G,"users"),{email:t,userType:"PHD"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){if(console.log(y),y.code=="auth/email-already-in-use"){V("success","Account already created, Login with your email and password!"),window.location.href="#/login";return}V("danger","Error while creating account, try again!")}l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100 my-5",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-12 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Activate Your Account"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"User Type"}),a.jsxs("select",{name:"userType",id:"userType",className:"form-control",onChange:g=>d(g.target.value),disabled:o||u,children:[a.jsx("option",{value:"",children:"--select user type--"}),$W.map((g,y)=>{if(g!=="ADMIN")return a.jsx("option",{value:g,children:g},y)})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:g=>e(g.target.value),disabled:o||u})]}),u?a.jsx("div",{className:"alert alert-success p-1 rounded-0 mb-0",children:a.jsx("ul",{children:a.jsx("li",{children:"User Existed, choose your password and proceed to login!"})})}):a.jsx("div",{className:"alert alert-warning p-1 rounded-0 mb-0",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Utilize the email address provided to the administrator."}),a.jsx("li",{children:"If an email address has not been provided, kindly furnish it to the administrator prior to activating your account."}),a.jsx("li",{children:"The email address must be affiliated with the institute, e.g., test@iitrpr.ac.in."})]})}),u?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:g=>r(g.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",onChange:g=>i(g.target.value),disabled:o})]}),a.jsx("div",{className:"alert alert-warning p-1 rounded-0 ",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Password and Confirm password must be same."}),a.jsx("li",{children:"Password must be atleast 6 charactors long."})]})}),a.jsx("button",{onClick:p,className:"btn btn-success w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Proceed"})]}):a.jsx("button",{onClick:f,className:"btn btn-dark w-100 p-2 text-uppercase mt-3",disabled:o,children:o?"Please Wait..":"Check the user availablity"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(re,{to:"/login",children:"Already have an account?"})]})]}),a.jsx(Bt,{children:a.jsxs("title",{children:["Register | ","Vision Intelligence Lab, IIT Ropar"]})})]})},zW=()=>{var d,u,h,f,p,g,y,b,m,x,v,j,S,E,I,w,_,N,P,C,k,A,U,D,M,O,L,$,H,R,F,K,ne,le,fe,Ee,ee,ue;const{id:t}=Ur(),[e,n]=T.useState(!0),s=J(se=>se.getphdStudents.data).filter(se=>se._id==t)[0];let i="";(h=(u=(d=s==null?void 0:s.data)==null?void 0:d.researchInterests)==null?void 0:u.arrayValue)==null||h.values.map(se=>{i=i+(i===""?"":",")+(se==null?void 0:se.stringValue)});let o=[];(g=(p=(f=s==null?void 0:s.data)==null?void 0:f.links)==null?void 0:p.arrayValue)==null||g.values.map(se=>{var be,ge,Se,Ie,ae,ke;o.push({linkName:(Se=(ge=(be=se==null?void 0:se.mapValue)==null?void 0:be.fields)==null?void 0:ge.linkName)==null?void 0:Se.stringValue,linkURL:(ke=(ae=(Ie=se==null?void 0:se.mapValue)==null?void 0:Ie.fields)==null?void 0:ae.linkURL)==null?void 0:ke.stringValue})});const[l,c]=T.useState("");return T.useEffect(()=>{(async()=>{var ge,Se;const be=await wf((Se=(ge=s==null?void 0:s.data)==null?void 0:ge.email)==null?void 0:Se.stringValue);c(be)})()},[]),T.useEffect(()=>{(async()=>{n(!0),await ko(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bt,{children:a.jsxs("title",{children:[(b=(y=s==null?void 0:s.data)==null?void 0:y.name)==null?void 0:b.stringValue," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Ph.D. Student, ",(x=(m=s==null?void 0:s.data)==null?void 0:m.name)==null?void 0:x.stringValue,a.jsx("hr",{})]}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:s==null?void 0:s.profileImage,target:"_blank",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsxs("td",{colSpan:7,children:[(j=(v=s==null?void 0:s.data)==null?void 0:v.isAlumni)!=null&&j.booleanValue?a.jsx("div",{className:"fw-bold text-danger",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-danger",children:"Ongoing Student"}),l!==null&&l!==""&&a.jsx("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open(l,"_blank"),children:"Resume"})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Name"})}),a.jsx("td",{children:(E=(S=s==null?void 0:s.data)==null?void 0:S.name)==null?void 0:E.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-danger",children:"Email"})}),a.jsx("td",{children:(w=(I=s==null?void 0:s.data)==null?void 0:I.email)==null?void 0:w.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Batch"})]}),a.jsx("td",{children:((N=(_=s==null?void 0:s.data)==null?void 0:_.batch)==null?void 0:N.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(U=(A=(k=(C=(P=s==null?void 0:s.data)==null?void 0:P.supervisor)==null?void 0:C.mapValue)==null?void 0:k.fields)==null?void 0:A.name)==null?void 0:U.stringValue,", ",a.jsx("strong",{children:"Email: "}),($=(L=(O=(M=(D=s==null?void 0:s.data)==null?void 0:D.supervisor)==null?void 0:M.mapValue)==null?void 0:O.fields)==null?void 0:L.email)==null?void 0:$.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((R=(H=s==null?void 0:s.data)==null?void 0:H.mobile)==null?void 0:R.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((K=(F=s==null?void 0:s.data)==null?void 0:F.personal_email)==null?void 0:K.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Ee=(fe=(le=(ne=s==null?void 0:s.data)==null?void 0:ne.researchInterests)==null?void 0:le.arrayValue)==null?void 0:fe.values)==null?void 0:Ee.map((se,be)=>a.jsx(re,{to:"https://www.google.com/search?q="+(se==null?void 0:se.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:se==null?void 0:se.stringValue},be)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(ue=(ee=s==null?void 0:s.data)==null?void 0:ee.introduction)==null?void 0:ue.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Links"})}),a.jsx("td",{colSpan:7,children:o.map(se=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(se==null?void 0:se.linkURL,"_blank"),children:se==null?void 0:se.linkName}))})]})]})})})]})]})};function HW(){const t=J(e=>e.getalerts.data);return a.jsxs(a.Fragment,{children:[a.jsx(VW,{}),t.length>0&&a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((e,n)=>a.jsx(UW,{content:e==null?void 0:e.content,id:e==null?void 0:e.id,type:e==null?void 0:e.type},n))}),a.jsxs(Hv,{children:[a.jsx(xe,{path:"/dashboard/*",element:a.jsx(H6,{})}),a.jsx(xe,{path:"/profile/:id",element:a.jsx(FW,{})}),a.jsx(xe,{path:"/phd/:id",element:a.jsx(zW,{})}),a.jsx(xe,{path:"/*",element:a.jsx(LW,{})}),a.jsx(xe,{path:"/login",element:a.jsx(MW,{})}),a.jsx(xe,{path:"/register",element:a.jsx(BW,{})})]})]})}function Zd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zd=function(n){return typeof n}:Zd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zd(t)}function WW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qW(t,e,n){return e&&cj(t.prototype,e),n&&cj(t,n),t}function GW(t,e){return e&&(Zd(e)==="object"||typeof e=="function")?e:eu(t)}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function eu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gg(t,e)}function Gg(t,e){return Gg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Gg(t,e)}function tu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var EP=function(t){KW(e,t);function e(){var n,r;WW(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=GW(this,(n=qg(e)).call.apply(n,[this].concat(i))),tu(eu(r),"state",{bootstrapped:!1}),tu(eu(r),"_unsubscribe",void 0),tu(eu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return qW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);tu(EP,"defaultProps",{children:null,loading:null});qp.createRoot(document.getElementById("root")).render(a.jsx(De.StrictMode,{children:a.jsx(zz,{store:ft,children:a.jsx(EP,{loading:null,persistor:_z,children:a.jsx(GR,{children:a.jsx(HW,{})})})})}));
